<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>How-To-Guides/Using-ros2-param</title>
</head>
<body>
  <div class="section" id="using-the-ros2-param-command-line-tool">
<h1>使用``ros2 param``命令行工具 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=1139">[1139]</a><a class="headerlink" href="#using-the-ros2-param-command-line-tool" title="永久链接至标题"></a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title">目录 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7">[]</a></p>
<ul class="simple">
<li><p><a class="reference internal" href="#ros2-param-list" id="id1"><code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">param</span> <span class="pre">list</span></code> [1141]</a></p></li>
<li><p><a class="reference internal" href="#ros2-param-get" id="id2"><code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">param</span> <span class="pre">get</span></code> [1145]</a></p></li>
<li><p><a class="reference internal" href="#ros2-param-set" id="id3"><code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">param</span> <span class="pre">set</span></code> [1148]</a></p></li>
<li><p><a class="reference internal" href="#ros2-param-delete" id="id4"><code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">param</span> <span class="pre">delete</span></code> [1155]</a></p></li>
<li><p><a class="reference internal" href="#ros2-param-describe" id="id5"><code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">param</span> <span class="pre">describe</span></code> [1157]</a></p></li>
<li><p><a class="reference internal" href="#ros2-param-dump" id="id6"><code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">param</span> <span class="pre">dump</span></code> [1159]</a></p></li>
<li><p><a class="reference internal" href="#ros2-param-load" id="id7"><code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">param</span> <span class="pre">load</span></code> [1161]</a></p></li>
</ul>
</div>
<p>在ROS 2中，可以通过一组服务来获取、设置、列出和描述参数，如:doc:<a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=1140">概念文档 &lt;../Concepts/About-ROS-2-Parameters&gt;`中所述。``ros2 param``命令行工具是对这些服务调用的封装，可方便地从命令行操作参数。 `[1140]</a></p>
<div class="section" id="ros2-param-list">
<h2><code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">param</span> <span class="pre">list</span></code> <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=1141">[1141]</a><a class="headerlink" href="#ros2-param-list" title="永久链接至标题"></a></h2>
<p>此命令将列出给定节点上的所有可用参数，如果未指定节点，则列出所有可发现的节点的参数。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=1142">[1142]</a></p>
<p>要获取给定节点上的所有参数： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=1143">[1143]</a></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ros2 param list /my_node</span>
</pre></div>
</div>
<p>要获取系统中所有节点的所有参数（在复杂网络上可能需要很长时间）： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=1144">[1144]</a></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ros2 param list</span>
</pre></div>
</div>
</div>
<div class="section" id="ros2-param-get">
<h2><code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">param</span> <span class="pre">get</span></code> <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=1145">[1145]</a><a class="headerlink" href="#ros2-param-get" title="永久链接至标题"></a></h2>
<p>该命令将获取特定节点上特定参数的值。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=1146">[1146]</a></p>
<p>要获取节点上参数的值： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=1147">[1147]</a></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ros2 param get /my_node use_sim_time</span>
</pre></div>
</div>
</div>
<div class="section" id="ros2-param-set">
<h2><code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">param</span> <span class="pre">set</span></code> <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=1148">[1148]</a><a class="headerlink" href="#ros2-param-set" title="永久链接至标题"></a></h2>
<p>此命令将在特定节点上设置特定参数的值。对于大多数参数而言，新值的类型必须与现有类型相同。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=1149">[1149]</a></p>
<p>要在节点上设置参数的值： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=1150">[1150]</a></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ros2 param set /my_node use_sim_time false</span>
</pre></div>
</div>
<p>在命令行中传递的值采用YAML格式，允许使用任意的YAML表达式。然而，这也意味着某些表达式的解释可能与预期不同。例如，如果节点``my_node``上的参数``my_string``是字符串类型，以下操作将不起作用： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=1151">[1151]</a></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ros2 param set /my_node my_string off</span>
</pre></div>
</div>
<p>这是因为YAML将&quot;off&quot;解释为布尔值，而``my_string``是字符串类型。可以通过使用YAML语法来显式设置字符串来解决这个问题，例如： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=1152">[1152]</a></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ros param set /my_node my_string &#39;!!str off&#39;</span>
</pre></div>
</div>
<p>此外，YAML支持包含（比如说）字符串、布尔值和整数的异构列表。然而，ROS 2参数不支持异构列表，所以任何包含多种类型的YAML列表都会被解释为字符串。假设节点``my_node``上的参数``my_int_array``是整数数组类型，下面的示例将无法工作： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=1153">[1153]</a></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ros param set /my_node my_int_array &#39;[foo,off,1]&#39;</span>
</pre></div>
</div>
<p>下面的字符串类型参数可以工作： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=1154">[1154]</a></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ros param set /my_node my_string &#39;[foo,off,1]&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="ros2-param-delete">
<h2><code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">param</span> <span class="pre">delete</span></code> <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=1155">[1155]</a><a class="headerlink" href="#ros2-param-delete" title="永久链接至标题"></a></h2>
<p>此命令将从特定节点中删除一个参数。然而，请注意，它只能删除动态参数（而不是声明的参数）。有关更多信息，请参阅:doc:<a class="reference internal" href="../Concepts/About-ROS-2-Parameters.html"><span class="doc">概念文档</span></a>。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=1156">[1156]</a></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ros2 param delete /my_node my_string</span>
</pre></div>
</div>
</div>
<div class="section" id="ros2-param-describe">
<h2><code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">param</span> <span class="pre">describe</span></code> <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=1157">[1157]</a><a class="headerlink" href="#ros2-param-describe" title="永久链接至标题"></a></h2>
<p>该命令将提供有关特定节点上特定参数的文本描述： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=1158">[1158]</a></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ros2 param describe /my_node use_sim_time</span>
</pre></div>
</div>
</div>
<div class="section" id="ros2-param-dump">
<h2><code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">param</span> <span class="pre">dump</span></code> <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=1159">[1159]</a><a class="headerlink" href="#ros2-param-dump" title="永久链接至标题"></a></h2>
<p>该命令将以 YAML 文件格式打印出特定节点上的所有参数。该命令的输出可以用于以相同参数重新运行节点： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=1160">[1160]</a></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ros2 param dump /my_node</span>
</pre></div>
</div>
</div>
<div class="section" id="ros2-param-load">
<h2><code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">param</span> <span class="pre">load</span></code> <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=1161">[1161]</a><a class="headerlink" href="#ros2-param-load" title="永久链接至标题"></a></h2>
<p>这个命令将从一个YAML文件中加载参数的值到特定的节点。也就是说，这个命令可以在运行时重新加载通过``ros2 param dump``导出的值： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=1162">[1162]</a></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ros2 param load /my_node my_node.yaml</span>
</pre></div>
</div>
</div>
</div>

  <div id="footer">
    <p>欢迎帮助改进！</p>
  </div>
</body>
</html>