<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>How-To-Guides/Launch-files-migration-guide</title>
</head>
<body>
  <div class="section" id="migrating-launch-files-from-ros-1-to-ros-2">
<span id="migratinglaunch"></span><h1>将启动文件从ROS 1迁移到ROS 2 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=491">[491]</a><a class="headerlink" href="#migrating-launch-files-from-ros-1-to-ros-2" title="永久链接至标题"></a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title">目录 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7">[]</a></p>
<ul class="simple">
<li><p><a class="reference internal" href="#background" id="id11">背景 [493]</a></p></li>
<li><p><a class="reference internal" href="#migrating-tags-from-ros-1-to-ros-2" id="id12">从ROS 1迁移到ROS 2的标签 [495]</a></p></li>
<li><p><a class="reference internal" href="#new-tags-in-ros-2" id="id13">ROS 2中的新标签 [563]</a></p></li>
<li><p><a class="reference internal" href="#replacing-an-include-tag" id="id14">替换了`include`标签 [572]</a></p></li>
<li><p><a class="reference internal" href="#substitutions" id="id15">替换 [576]</a></p></li>
<li><p><a class="reference internal" href="#id8" id="id16">类型推断规则 [511]</a></p></li>
</ul>
</div>
<p>本指南描述了如何编写XML启动文件以便轻松从ROS 1迁移到ROS 2。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=492">[492]</a></p>
<div class="section" id="background">
<h2>背景 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=493">[493]</a><a class="headerlink" href="#background" title="永久链接至标题"></a></h2>
<p>关于ROS 2启动系统及其Python API的描述可以在 <a class="reference internal" href="../Tutorials/Intermediate/Launch/Launch-system.html"><span class="doc">启动系统教程</span></a> 中找到。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=494">[494]</a></p>
</div>
<div class="section" id="migrating-tags-from-ros-1-to-ros-2">
<h2>从ROS 1迁移到ROS 2的标签 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=495">[495]</a><a class="headerlink" href="#migrating-tags-from-ros-1-to-ros-2" title="永久链接至标题"></a></h2>
<div class="section" id="launch">
<h3>启动 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=496">[496]</a><a class="headerlink" href="#launch" title="永久链接至标题"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://wiki.ros.org/roslaunch/XML/launch">在ROS 1中可用</a>。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=497">[497]</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">launch</span></code> 是任何ROS 2启动XML文件的根元素。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=498">[498]</a></p></li>
</ul>
</div>
<div class="section" id="node">
<h3>节点 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=499">[499]</a><a class="headerlink" href="#node" title="永久链接至标题"></a></h3>
<ul>
<li><p><a class="reference external" href="https://wiki.ros.org/roslaunch/XML/node">在ROS 1中可用</a>。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=500">[500]</a></p></li>
<li><p>启动一个新的节点。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=501">[501]</a></p></li>
<li><p>与ROS 1的不同之处： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=502">[502]</a></p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">type</span></code> 属性现在为 <code class="docutils literal notranslate"><span class="pre">exec</span></code>。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=503">[503]</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ns</span></code> 属性现在为 <code class="docutils literal notranslate"><span class="pre">namespace</span></code>。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=504">[504]</a></p></li>
<li><p>以下属性不可用：<code class="docutils literal notranslate"><span class="pre">machine</span></code>，<code class="docutils literal notranslate"><span class="pre">respawn_delay</span></code>，<code class="docutils literal notranslate"><span class="pre">clear_params</span></code>。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=505">[505]</a></p></li>
</ul>
</div></blockquote>
</li>
</ul>
<div class="section" id="example">
<h4>示例 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=506">[506]</a><a class="headerlink" href="#example" title="永久链接至标题"></a></h4>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;launch&gt;</span>
   <span class="nt">&lt;node</span> <span class="na">pkg=</span><span class="s">&quot;demo_nodes_cpp&quot;</span> <span class="na">exec=</span><span class="s">&quot;talker&quot;</span><span class="nt">/&gt;</span>
   <span class="nt">&lt;node</span> <span class="na">pkg=</span><span class="s">&quot;demo_nodes_cpp&quot;</span> <span class="na">exec=</span><span class="s">&quot;listener&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/launch&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="param">
<h3>param <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=507">[507]</a><a class="headerlink" href="#param" title="永久链接至标题"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://wiki.ros.org/roslaunch/XML/param">在 ROS 1 中可用</a>. <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=508">[508]</a></p></li>
<li><p>用于将参数传递给节点。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=509">[509]</a></p></li>
<li><p>在ROS 2中没有全局参数的概念。因此，它只能嵌套在``node``标记中使用。在ROS 2中不支持某些属性: <code class="docutils literal notranslate"><span class="pre">type</span></code>、<code class="docutils literal notranslate"><span class="pre">textfile</span></code>、<code class="docutils literal notranslate"><span class="pre">binfile</span></code>、<code class="docutils literal notranslate"><span class="pre">executable</span></code>、<code class="docutils literal notranslate"><span class="pre">command</span></code>。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=510">[510]</a></p></li>
</ul>
<div class="section" id="id1">
<h4>示例 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=506">[506]</a><a class="headerlink" href="#id1" title="永久链接至标题"></a></h4>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;launch&gt;</span>
   <span class="nt">&lt;node</span> <span class="na">pkg=</span><span class="s">&quot;demo_nodes_cpp&quot;</span> <span class="na">exec=</span><span class="s">&quot;parameter_event&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;foo&quot;</span> <span class="na">value=</span><span class="s">&quot;5&quot;</span><span class="nt">/&gt;</span>
   <span class="nt">&lt;/node&gt;</span>
<span class="nt">&lt;/launch&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="type-inference-rules">
<h4>类型推断规则 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=511">[511]</a><a class="headerlink" href="#type-inference-rules" title="永久链接至标题"></a></h4>
<p>以下是一些编写参数的示例: <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=512">[512]</a></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;node</span> <span class="na">pkg=</span><span class="s">&quot;my_package&quot;</span> <span class="na">exec=</span><span class="s">&quot;my_executable&quot;</span> <span class="na">name=</span><span class="s">&quot;my_node&quot;</span><span class="nt">&gt;</span>
   <span class="cm">&lt;!--A string parameter with value &quot;1&quot;--&gt;</span>
   <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;a_string&quot;</span> <span class="na">value=</span><span class="s">&quot;&#39;1&#39;&quot;</span><span class="nt">/&gt;</span>
   <span class="cm">&lt;!--A integer parameter with value 1--&gt;</span>
   <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;an_int&quot;</span> <span class="na">value=</span><span class="s">&quot;1&quot;</span><span class="nt">/&gt;</span>
   <span class="cm">&lt;!--A float parameter with value 1.0--&gt;</span>
   <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;a_float&quot;</span> <span class="na">value=</span><span class="s">&quot;1.0&quot;</span><span class="nt">/&gt;</span>
   <span class="cm">&lt;!--A string parameter with value &quot;asd&quot;--&gt;</span>
   <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;another_string&quot;</span> <span class="na">value=</span><span class="s">&quot;asd&quot;</span><span class="nt">/&gt;</span>
   <span class="cm">&lt;!--Another string parameter, with value &quot;asd&quot;--&gt;</span>
   <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;string_with_same_value_as_above&quot;</span> <span class="na">value=</span><span class="s">&quot;&#39;asd&#39;&quot;</span><span class="nt">/&gt;</span>
   <span class="cm">&lt;!--Another string parameter, with value &quot;&#39;asd&#39;&quot;--&gt;</span>
   <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;quoted_string&quot;</span> <span class="na">value=</span><span class="s">&quot;\&#39;asd\&#39;&quot;</span><span class="nt">/&gt;</span>
   <span class="cm">&lt;!--A list of strings, with value [&quot;asd&quot;, &quot;bsd&quot;, &quot;csd&quot;]--&gt;</span>
   <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;list_of_strings&quot;</span> <span class="na">value=</span><span class="s">&quot;asd, bsd, csd&quot;</span> <span class="na">value-sep=</span><span class="s">&quot;, &quot;</span><span class="nt">/&gt;</span>
   <span class="cm">&lt;!--A list of ints, with value [1, 2, 3]--&gt;</span>
   <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;list_of_ints&quot;</span> <span class="na">value=</span><span class="s">&quot;1,2,3&quot;</span> <span class="na">value-sep=</span><span class="s">&quot;,&quot;</span><span class="nt">/&gt;</span>
   <span class="cm">&lt;!--Another list of strings, with value [&quot;1&quot;, &quot;2&quot;, &quot;3&quot;]--&gt;</span>
   <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;another_list_of_strings&quot;</span> <span class="na">value=</span><span class="s">&quot;&#39;1&#39;;&#39;2&#39;;&#39;3&#39;&quot;</span> <span class="na">value-sep=</span><span class="s">&quot;;&quot;</span><span class="nt">/&gt;</span>
   <span class="cm">&lt;!--A list of strings using an strange separator, with value [&quot;1&quot;, &quot;2&quot;, &quot;3&quot;]--&gt;</span>
   <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;strange_separator&quot;</span> <span class="na">value=</span><span class="s">&quot;&#39;1&#39;//&#39;2&#39;//&#39;3&#39;&quot;</span> <span class="na">value-sep=</span><span class="s">&quot;//&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/node&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="parameter-grouping">
<h4>参数分组 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=513">[513]</a><a class="headerlink" href="#parameter-grouping" title="永久链接至标题"></a></h4>
<p>在ROS 2中，允许嵌套``param``标签。例如： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=514">[514]</a></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;node</span> <span class="na">pkg=</span><span class="s">&quot;my_package&quot;</span> <span class="na">exec=</span><span class="s">&quot;my_executable&quot;</span> <span class="na">name=</span><span class="s">&quot;my_node&quot;</span> <span class="na">ns=</span><span class="s">&quot;/an_absoulute_ns&quot;</span><span class="nt">&gt;</span>
   <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;group1&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;group2&quot;</span><span class="nt">&gt;</span>
         <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;my_param&quot;</span> <span class="na">value=</span><span class="s">&quot;1&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/param&gt;</span>
      <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;another_param&quot;</span> <span class="na">value=</span><span class="s">&quot;2&quot;</span><span class="nt">/&gt;</span>
   <span class="nt">&lt;/param&gt;</span>
<span class="nt">&lt;/node&gt;</span>
</pre></div>
</div>
<p>这将创建两个参数： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=515">[515]</a></p>
<ul class="simple">
<li><p>一个值为``1``的``group1.group2.my_param``，由节点``/an_absolute_ns/my_node``托管。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=516">[516]</a></p></li>
<li><p>节点 <code class="docutils literal notranslate"><span class="pre">/an_absolute_ns/my_node</span></code> 托管的 <code class="docutils literal notranslate"><span class="pre">group1.another_param</span></code> 的值为 <code class="docutils literal notranslate"><span class="pre">2</span></code>。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=517">[517]</a></p></li>
</ul>
<p>也可以使用完整的参数名称： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=518">[518]</a></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;node</span> <span class="na">pkg=</span><span class="s">&quot;my_package&quot;</span> <span class="na">exec=</span><span class="s">&quot;my_executable&quot;</span> <span class="na">name=</span><span class="s">&quot;my_node&quot;</span> <span class="na">ns=</span><span class="s">&quot;/an_absoulute_ns&quot;</span><span class="nt">&gt;</span>
   <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;group1.group2.my_param&quot;</span> <span class="na">value=</span><span class="s">&quot;1&quot;</span><span class="nt">/&gt;</span>
   <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;group1.another_param&quot;</span> <span class="na">value=</span><span class="s">&quot;2&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/node&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="rosparam">
<h3>rosparam <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=519">[519]</a><a class="headerlink" href="#rosparam" title="永久链接至标题"></a></h3>
<ul class="simple">
<li><p>在 ROS 1 中可用 &lt;<a class="reference external" href="https://wiki.ros.org/roslaunch/XML/rosparam">https://wiki.ros.org/roslaunch/XML/rosparam</a>&gt;`__。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=520">[520]</a></p></li>
<li><p>从yaml文件中加载参数。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=521">[521]</a></p></li>
<li><p>已被``param``标签中的``from``属性替代。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=522">[522]</a></p></li>
</ul>
<div class="section" id="id2">
<h4>示例 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=506">[506]</a><a class="headerlink" href="#id2" title="永久链接至标题"></a></h4>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;node</span> <span class="na">pkg=</span><span class="s">&quot;my_package&quot;</span> <span class="na">exec=</span><span class="s">&quot;my_executable&quot;</span> <span class="na">name=</span><span class="s">&quot;my_node&quot;</span> <span class="na">ns=</span><span class="s">&quot;/an_absoulute_ns&quot;</span><span class="nt">&gt;</span>
   <span class="nt">&lt;param</span> <span class="na">from=</span><span class="s">&quot;/path/to/file&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/node&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="remap">
<h3>remap <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=523">[523]</a><a class="headerlink" href="#remap" title="永久链接至标题"></a></h3>
<ul class="simple">
<li><p><a href="#id9"><span class="problematic" id="id10">`在ROS 1中可用&lt;https://wiki.ros.org/roslaunch/XML/remap&gt;`__</span></a>。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=524">[524]</a></p></li>
<li><p>用于将重新映射规则传递给节点。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=525">[525]</a></p></li>
<li><p>它只能在``node``标签内使用。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=526">[526]</a></p></li>
</ul>
<div class="section" id="id3">
<h4>示例 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=506">[506]</a><a class="headerlink" href="#id3" title="永久链接至标题"></a></h4>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;launch&gt;</span>
   <span class="nt">&lt;node</span> <span class="na">pkg=</span><span class="s">&quot;demo_nodes_cpp&quot;</span> <span class="na">exec=</span><span class="s">&quot;talker&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;remap</span> <span class="na">from=</span><span class="s">&quot;chatter&quot;</span> <span class="na">to=</span><span class="s">&quot;my_topic&quot;</span><span class="nt">/&gt;</span>
   <span class="nt">&lt;/node&gt;</span>
   <span class="nt">&lt;node</span> <span class="na">pkg=</span><span class="s">&quot;demo_nodes_cpp&quot;</span> <span class="na">exec=</span><span class="s">&quot;listener&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;remap</span> <span class="na">from=</span><span class="s">&quot;chatter&quot;</span> <span class="na">to=</span><span class="s">&quot;my_topic&quot;</span><span class="nt">/&gt;</span>
   <span class="nt">&lt;/node&gt;</span>
<span class="nt">&lt;/launch&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="include">
<h3>包括 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=527">[527]</a><a class="headerlink" href="#include" title="永久链接至标题"></a></h3>
<ul>
<li><p><a class="reference external" href="https://wiki.ros.org/roslaunch/XML/include">在ROS 1中可用</a>。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=528">[528]</a></p></li>
<li><p>允许包含另一个启动文件。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=529">[529]</a></p></li>
<li><p>与ROS 1的不同之处： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=502">[502]</a></p>
<blockquote>
<div><ul class="simple">
<li><p>在ROS 1中可用，所包含的内容是有作用域的。在ROS 2中，它没有作用域。使用``group``标签来嵌套包含文件以进行作用域控制。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=530">[530]</a></p></li>
<li><p>不支持``ns``属性。参考``push_ros_namespace``标签的示例以获取解决方法。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=531">[531]</a></p></li>
<li><p>嵌套在``include``标签中的``arg``标签不支持条件语句（<code class="docutils literal notranslate"><span class="pre">if``或``unless</span></code>）。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=532">[532]</a></p></li>
<li><p>不支持嵌套``env``标签。可以使用``set_env``和``unset_env``代替。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=533">[533]</a></p></li>
<li><p>不支持``clear_params``和``pass_all_args``属性。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=534">[534]</a></p></li>
</ul>
</div></blockquote>
</li>
</ul>
<div class="section" id="examples">
<h4>示例 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=535">[535]</a><a class="headerlink" href="#examples" title="永久链接至标题"></a></h4>
<p>请参阅`替换 include 标签`_。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=536">[536]</a></p>
</div>
</div>
<div class="section" id="arg">
<h3>arg <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=537">[537]</a><a class="headerlink" href="#arg" title="永久链接至标题"></a></h3>
<ul>
<li><p><a class="reference external" href="https://wiki.ros.org/roslaunch/XML/arg">在ROS 1中可用</a>。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=538">[538]</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">arg</span></code> 用于声明一个启动参数，或者在使用 <code class="docutils literal notranslate"><span class="pre">include</span></code> 标签时传递参数。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=539">[539]</a></p></li>
<li><p>与ROS 1的不同之处： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=502">[502]</a></p>
<blockquote>
<div><ul class="simple">
<li><p>不允许使用 <code class="docutils literal notranslate"><span class="pre">value</span></code> 属性。请使用 <code class="docutils literal notranslate"><span class="pre">let</span></code> 标签代替。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=540">[540]</a></p></li>
<li><p>现在，<code class="docutils literal notranslate"><span class="pre">doc</span></code> 变为 <code class="docutils literal notranslate"><span class="pre">description</span></code>。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=541">[541]</a></p></li>
<li><p>当嵌套在 <code class="docutils literal notranslate"><span class="pre">include</span></code> 标签内时，不允许使用 <code class="docutils literal notranslate"><span class="pre">if</span></code> 和 <code class="docutils literal notranslate"><span class="pre">unless</span></code> 属性。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=542">[542]</a></p></li>
</ul>
</div></blockquote>
</li>
</ul>
<div class="section" id="id4">
<h4>示例 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=506">[506]</a><a class="headerlink" href="#id4" title="永久链接至标题"></a></h4>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;launch&gt;</span>
   <span class="nt">&lt;arg</span> <span class="na">name=</span><span class="s">&quot;topic_name&quot;</span> <span class="na">default=</span><span class="s">&quot;chatter&quot;</span><span class="nt">/&gt;</span>
   <span class="nt">&lt;node</span> <span class="na">pkg=</span><span class="s">&quot;demo_nodes_cpp&quot;</span> <span class="na">exec=</span><span class="s">&quot;talker&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;remap</span> <span class="na">from=</span><span class="s">&quot;chatter&quot;</span> <span class="na">to=</span><span class="s">&quot;$(var topic_name)&quot;</span><span class="nt">/&gt;</span>
   <span class="nt">&lt;/node&gt;</span>
   <span class="nt">&lt;node</span> <span class="na">pkg=</span><span class="s">&quot;demo_nodes_cpp&quot;</span> <span class="na">exec=</span><span class="s">&quot;listener&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;remap</span> <span class="na">from=</span><span class="s">&quot;chatter&quot;</span> <span class="na">to=</span><span class="s">&quot;$(var topic_name)&quot;</span><span class="nt">/&gt;</span>
   <span class="nt">&lt;/node&gt;</span>
<span class="nt">&lt;/launch&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="passing-an-argument-to-the-launch-file">
<h4>向启动文件传递参数 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=543">[543]</a><a class="headerlink" href="#passing-an-argument-to-the-launch-file" title="永久链接至标题"></a></h4>
<p>在上述 XML 启动文件中，<code class="docutils literal notranslate"><span class="pre">topic_name</span></code> 默认为 <code class="docutils literal notranslate"><span class="pre">chatter</span></code>，但可以通过命令行进行配置。假设上述启动配置保存在名为 <code class="docutils literal notranslate"><span class="pre">mylaunch.xml</span></code> 的文件中，可以通过以下命令启动并使用不同的主题名称： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=544">[544]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ros2 launch mylaunch.xml topic_name:<span class="o">=</span>custom_topic_name
</pre></div>
</div>
<p>关于在 <a class="reference internal" href="../Tutorials/Intermediate/Launch/Using-Substitutions.html"><span class="doc">使用替换</span></a> 中传递命令行参数，有一些额外的信息。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=545">[545]</a></p>
</div>
</div>
<div class="section" id="env">
<h3>env <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=546">[546]</a><a class="headerlink" href="#env" title="永久链接至标题"></a></h3>
<ul>
<li><p><a class="reference external" href="https://wiki.ros.org/roslaunch/XML/env">在 ROS 1 中可用</a>。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=547">[547]</a></p></li>
<li><p>设置环境变量。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=548">[548]</a></p></li>
<li><p>已被替换为 <code class="docutils literal notranslate"><span class="pre">env</span></code>、<code class="docutils literal notranslate"><span class="pre">set_env</span></code> 和 <code class="docutils literal notranslate"><span class="pre">unset_env</span></code>： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=549">[549]</a></p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">env</span></code> 只能嵌套在 <code class="docutils literal notranslate"><span class="pre">node</span></code> 或 <code class="docutils literal notranslate"><span class="pre">executable</span></code> 标签中。不支持 <code class="docutils literal notranslate"><span class="pre">if</span></code> 和 <code class="docutils literal notranslate"><span class="pre">unless</span></code> 标签。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=550">[550]</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">set_env</span></code> 可以嵌套在根标签 <code class="docutils literal notranslate"><span class="pre">launch</span></code> 或 <code class="docutils literal notranslate"><span class="pre">group</span></code> 标签中。它接受与 <code class="docutils literal notranslate"><span class="pre">env</span></code> 相同的属性，还支持 <code class="docutils literal notranslate"><span class="pre">if</span></code> 和 <code class="docutils literal notranslate"><span class="pre">unless</span></code> 标签。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=551">[551]</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unset_env</span></code> 取消设置环境变量。它接受一个 <code class="docutils literal notranslate"><span class="pre">name</span></code> 属性和条件语句。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=552">[552]</a></p></li>
</ul>
</div></blockquote>
</li>
</ul>
<div class="section" id="id5">
<h4>示例 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=506">[506]</a><a class="headerlink" href="#id5" title="永久链接至标题"></a></h4>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;launch&gt;</span>
   <span class="nt">&lt;set_env</span> <span class="na">name=</span><span class="s">&quot;MY_ENV_VAR&quot;</span> <span class="na">value=</span><span class="s">&quot;MY_VALUE&quot;</span> <span class="na">if=</span><span class="s">&quot;CONDITION_A&quot;</span><span class="nt">/&gt;</span>
   <span class="nt">&lt;set_env</span> <span class="na">name=</span><span class="s">&quot;ANOTHER_ENV_VAR&quot;</span> <span class="na">value=</span><span class="s">&quot;ANOTHER_VALUE&quot;</span> <span class="na">unless=</span><span class="s">&quot;CONDITION_B&quot;</span><span class="nt">/&gt;</span>
   <span class="nt">&lt;set_env</span> <span class="na">name=</span><span class="s">&quot;SOME_ENV_VAR&quot;</span> <span class="na">value=</span><span class="s">&quot;SOME_VALUE&quot;</span><span class="nt">/&gt;</span>
   <span class="nt">&lt;node</span> <span class="na">pkg=</span><span class="s">&quot;MY_PACKAGE&quot;</span> <span class="na">exec=</span><span class="s">&quot;MY_EXECUTABLE&quot;</span> <span class="na">name=</span><span class="s">&quot;MY_NODE&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;env</span> <span class="na">name=</span><span class="s">&quot;NODE_ENV_VAR&quot;</span> <span class="na">value=</span><span class="s">&quot;SOME_VALUE&quot;</span><span class="nt">/&gt;</span>
   <span class="nt">&lt;/node&gt;</span>
   <span class="nt">&lt;unset_env</span> <span class="na">name=</span><span class="s">&quot;MY_ENV_VAR&quot;</span> <span class="na">if=</span><span class="s">&quot;CONDITION_A&quot;</span><span class="nt">/&gt;</span>
   <span class="nt">&lt;node</span> <span class="na">pkg=</span><span class="s">&quot;ANOTHER_PACKAGE&quot;</span> <span class="na">exec=</span><span class="s">&quot;ANOTHER_EXECUTABLE&quot;</span> <span class="na">name=</span><span class="s">&quot;ANOTHER_NODE&quot;</span><span class="nt">/&gt;</span>
   <span class="nt">&lt;unset_env</span> <span class="na">name=</span><span class="s">&quot;ANOTHER_ENV_VAR&quot;</span> <span class="na">unless=</span><span class="s">&quot;CONDITION_B&quot;</span><span class="nt">/&gt;</span>
   <span class="nt">&lt;unset_env</span> <span class="na">name=</span><span class="s">&quot;SOME_ENV_VAR&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/launch&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="group">
<h3>组 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=553">[553]</a><a class="headerlink" href="#group" title="永久链接至标题"></a></h3>
<ul>
<li><p><a class="reference external" href="https://wiki.ros.org/roslaunch/XML/group">在ROS 1中可用</a>。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=554">[554]</a></p></li>
<li><p>允许限制启动配置的范围。通常与``let``、<a href="#id1"><span class="problematic" id="id2">``</span></a>include``和``push_ros_namespace``标签一起使用。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=555">[555]</a></p></li>
<li><p>与ROS 1的不同之处： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=502">[502]</a></p>
<blockquote>
<div><ul class="simple">
<li><p>没有``ns``属性。可以使用新的``push_ros_namespace``标签作为解决方法。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=556">[556]</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">clear_params</span></code> 属性不可用。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=557">[557]</a></p></li>
<li><p>它不接受 <code class="docutils literal notranslate"><span class="pre">remap</span></code> 和 <code class="docutils literal notranslate"><span class="pre">param</span></code> 标签作为子节点。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=558">[558]</a></p></li>
</ul>
</div></blockquote>
</li>
</ul>
<div class="section" id="launch-prefix-example">
<span id="id6"></span><h4>示例 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=506">[506]</a><a class="headerlink" href="#launch-prefix-example" title="永久链接至标题"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">launch-prefix</span></code> 配置会影响 <code class="docutils literal notranslate"><span class="pre">executable</span></code> 和 <code class="docutils literal notranslate"><span class="pre">node</span></code> 标签的操作。如果 <code class="docutils literal notranslate"><span class="pre">use_time_prefix_in_talker</span></code> 参数为 <code class="docutils literal notranslate"><span class="pre">1</span></code>，此示例将使用 <code class="docutils literal notranslate"><span class="pre">time</span></code> 作为前缀，仅适用于 talker。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=559">[559]</a></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;launch&gt;</span>
   <span class="nt">&lt;arg</span> <span class="na">name=</span><span class="s">&quot;use_time_prefix_in_talker&quot;</span> <span class="na">default=</span><span class="s">&quot;0&quot;</span><span class="nt">/&gt;</span>
   <span class="nt">&lt;group&gt;</span>
      <span class="nt">&lt;let</span> <span class="na">name=</span><span class="s">&quot;launch-prefix&quot;</span> <span class="na">value=</span><span class="s">&quot;time&quot;</span> <span class="na">if=</span><span class="s">&quot;$(var use_time_prefix_in_talker)&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;node</span> <span class="na">pkg=</span><span class="s">&quot;demo_nodes_cpp&quot;</span> <span class="na">exec=</span><span class="s">&quot;talker&quot;</span><span class="nt">/&gt;</span>
   <span class="nt">&lt;/group&gt;</span>
   <span class="nt">&lt;node</span> <span class="na">pkg=</span><span class="s">&quot;demo_nodes_cpp&quot;</span> <span class="na">exec=</span><span class="s">&quot;listener&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/launch&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="machine">
<h3>machine <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=560">[560]</a><a class="headerlink" href="#machine" title="永久链接至标题"></a></h3>
<p>目前不支持。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=561">[561]</a></p>
</div>
<div class="section" id="test">
<h3>测试 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=562">[562]</a><a class="headerlink" href="#test" title="永久链接至标题"></a></h3>
<p>目前不支持。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=561">[561]</a></p>
</div>
</div>
<div class="section" id="new-tags-in-ros-2">
<h2>ROS 2中的新标签 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=563">[563]</a><a class="headerlink" href="#new-tags-in-ros-2" title="永久链接至标题"></a></h2>
<div class="section" id="set-env-and-unset-env">
<h3>set_env和unset_env <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=564">[564]</a><a class="headerlink" href="#set-env-and-unset-env" title="永久链接至标题"></a></h3>
<p>查看 <a class="reference internal" href="#env">env</a> 标签说明。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=565">[565]</a></p>
</div>
<div class="section" id="push-ros-namespace">
<h3>push_ros_namespace <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=566">[566]</a><a class="headerlink" href="#push-ros-namespace" title="永久链接至标题"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">include</span></code> 和 <code class="docutils literal notranslate"><span class="pre">group</span></code> 标签不接受 <code class="docutils literal notranslate"><span class="pre">ns</span></code> 属性。可以使用以下操作作为解决方法： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=567">[567]</a></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;!-Other tags--&gt;</span>
<span class="nt">&lt;group&gt;</span>
   <span class="nt">&lt;push_ros_namespace</span> <span class="na">namespace=</span><span class="s">&quot;my_ns&quot;</span><span class="nt">/&gt;</span>
   <span class="cm">&lt;!--Nodes here are namespaced with &quot;my_ns&quot;.--&gt;</span>
   <span class="cm">&lt;!--If there is an include action here, its nodes will also be namespaced.--&gt;</span>
   <span class="nt">&lt;push_ros_namespace</span> <span class="na">namespace=</span><span class="s">&quot;another_ns&quot;</span><span class="nt">/&gt;</span>
   <span class="cm">&lt;!--Nodes here are namespaced with &quot;another_ns/my_ns&quot;.--&gt;</span>
   <span class="nt">&lt;push_ros_namespace</span> <span class="na">namespace=</span><span class="s">&quot;/absolute_ns&quot;</span><span class="nt">/&gt;</span>
   <span class="cm">&lt;!--Nodes here are namespaced with &quot;/absolute_ns&quot;.--&gt;</span>
   <span class="cm">&lt;!--The following node receives an absolute namespace, so it will ignore the others previously pushed.--&gt;</span>
   <span class="cm">&lt;!--The full path of the node will be /asd/my_node.--&gt;</span>
   <span class="nt">&lt;node</span> <span class="na">pkg=</span><span class="s">&quot;my_pkg&quot;</span> <span class="na">exec=</span><span class="s">&quot;my_executable&quot;</span> <span class="na">name=</span><span class="s">&quot;my_node&quot;</span> <span class="na">ns=</span><span class="s">&quot;/asd&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/group&gt;</span>
<span class="cm">&lt;!--Nodes outside the group action won&#39;t be namespaced.--&gt;</span>
<span class="cp">&lt;!-Other tags--&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="let">
<h3>let <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=568">[568]</a><a class="headerlink" href="#let" title="永久链接至标题"></a></h3>
<p>使用`value`属性替代了``arg``标签。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=569">[569]</a></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;let</span> <span class="na">name=</span><span class="s">&quot;foo&quot;</span> <span class="na">value=</span><span class="s">&quot;asd&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="executable">
<h3>可执行文件 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=570">[570]</a><a class="headerlink" href="#executable" title="永久链接至标题"></a></h3>
<p>允许运行任何可执行文件。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=571">[571]</a></p>
<div class="section" id="id7">
<h4>示例 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=506">[506]</a><a class="headerlink" href="#id7" title="永久链接至标题"></a></h4>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;executable</span> <span class="na">cmd=</span><span class="s">&quot;ls -las&quot;</span> <span class="na">cwd=</span><span class="s">&quot;/var/log&quot;</span> <span class="na">name=</span><span class="s">&quot;my_exec&quot;</span> <span class="na">launch-prefix=</span><span class="s">&quot;something&quot;</span> <span class="na">output=</span><span class="s">&quot;screen&quot;</span> <span class="na">shell=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>
   <span class="nt">&lt;env</span> <span class="na">name=</span><span class="s">&quot;LD_LIBRARY&quot;</span> <span class="na">value=</span><span class="s">&quot;/lib/some.so&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/executable&gt;</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="replacing-an-include-tag">
<h2>替换了`include`标签 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=572">[572]</a><a class="headerlink" href="#replacing-an-include-tag" title="永久链接至标题"></a></h2>
<p>为了在ROS 1中像**命名空间**一样包含启动文件，则必须将``include``标签嵌套在``group``标签中。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=573">[573]</a></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;group&gt;</span>
   <span class="nt">&lt;include</span> <span class="na">file=</span><span class="s">&quot;another_launch_file&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/group&gt;</span>
</pre></div>
</div>
<p>然后，不再使用``ns``属性，而是添加``push_ros_namespace``操作标签来指定命名空间： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=574">[574]</a></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;group&gt;</span>
   <span class="nt">&lt;push_ros_namespace</span> <span class="na">namespace=</span><span class="s">&quot;my_ns&quot;</span><span class="nt">/&gt;</span>
   <span class="nt">&lt;include</span> <span class="na">file=</span><span class="s">&quot;another_launch_file&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/group&gt;</span>
</pre></div>
</div>
<p>只有在指定命名空间时才需要将``include``标签嵌套在``group``标签下。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=575">[575]</a></p>
</div>
<div class="section" id="substitutions">
<h2>替换 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=576">[576]</a><a class="headerlink" href="#substitutions" title="永久链接至标题"></a></h2>
<p>关于ROS 1的替代方案的文档可以在 <a class="reference external" href="https://wiki.ros.org/roslaunch/XML">roslaunch XML wiki</a> 中找到。替代语法没有改变，仍然遵循 <code class="docutils literal notranslate"><span class="pre">$(substitution-name</span> <span class="pre">arg1</span> <span class="pre">arg2</span> <span class="pre">...)</span></code> 的模式。然而，与ROS 1相比，有一些变化： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=577">[577]</a></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">env</span></code> 和 <code class="docutils literal notranslate"><span class="pre">optenv</span></code> 标签已被 <code class="docutils literal notranslate"><span class="pre">env</span></code> 标签替代。如果环境变量不存在，<code class="docutils literal notranslate"><span class="pre">$(env</span> <span class="pre">&lt;NAME&gt;)</span></code> 将失败。<code class="docutils literal notranslate"><span class="pre">$(env</span> <span class="pre">&lt;NAME&gt;</span> <span class="pre">'')</span></code> 与ROS 1的 <code class="docutils literal notranslate"><span class="pre">$(optenv</span> <span class="pre">&lt;NAME&gt;)</span></code> 功能相同。<code class="docutils literal notranslate"><span class="pre">$(env</span> <span class="pre">&lt;NAME&gt;</span> <span class="pre">&lt;DEFAULT&gt;)</span></code> 与ROS 1的 <code class="docutils literal notranslate"><span class="pre">$(env</span> <span class="pre">&lt;NAME&gt;</span> <span class="pre">&lt;DEFAULT&gt;)</span></code> 或 <code class="docutils literal notranslate"><span class="pre">$(optenv</span> <span class="pre">&lt;NAME&gt;</span> <span class="pre">&lt;DEFAULT&gt;)</span></code> 功能相同。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=578">[578]</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">find</span></code> 被 <code class="docutils literal notranslate"><span class="pre">find-pkg-share</span></code> 替代（用于替代已安装包的共享目录）。或者，<code class="docutils literal notranslate"><span class="pre">find-pkg-prefix</span></code> 将返回已安装包的根目录。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=579">[579]</a></p></li>
<li><p>新增了一个 <code class="docutils literal notranslate"><span class="pre">exec-in-pkg</span></code> 替代。例如：<code class="docutils literal notranslate"><span class="pre">$(exec-in-pkg</span> <span class="pre">&lt;package_name&gt;</span> <span class="pre">&lt;exec_name&gt;)</span></code>。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=580">[580]</a></p></li>
<li><p>有一个新的 <code class="docutils literal notranslate"><span class="pre">find-exec</span></code> 替代方式。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=581">[581]</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">arg</span></code> 已被替换为 <code class="docutils literal notranslate"><span class="pre">var</span></code>。它查看使用 <code class="docutils literal notranslate"><span class="pre">arg</span></code> 或 <code class="docutils literal notranslate"><span class="pre">let</span></code> 标签定义的配置。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=582">[582]</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">eval</span></code> 和 <code class="docutils literal notranslate"><span class="pre">dirname</span></code> 替代方式没有改变。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=583">[583]</a></p></li>
<li><p>不支持 <code class="docutils literal notranslate"><span class="pre">anon</span></code> 替代方式。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=584">[584]</a></p></li>
</ul>
</div>
<div class="section" id="id8">
<h2>类型推断规则 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=511">[511]</a><a class="headerlink" href="#id8" title="永久链接至标题"></a></h2>
<p>在``param``标签的``Type inference rules``子节中显示的规则适用于任何属性。例如： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=585">[585]</a></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cm">&lt;!--Setting a string value to an attribute expecting an int will raise an error.--&gt;</span>
<span class="nt">&lt;tag1</span> <span class="na">attr-expecting-an-int=</span><span class="s">&quot;&#39;1&#39;&quot;</span><span class="nt">/&gt;</span>
<span class="cm">&lt;!--Correct version.--&gt;</span>
<span class="nt">&lt;tag1</span> <span class="na">attr-expecting-an-int=</span><span class="s">&quot;1&quot;</span><span class="nt">/&gt;</span>
<span class="cm">&lt;!--Setting an integer in an attribute expecting a string will raise an error.--&gt;</span>
<span class="nt">&lt;tag2</span> <span class="na">attr-expecting-a-str=</span><span class="s">&quot;1&quot;</span><span class="nt">/&gt;</span>
<span class="cm">&lt;!--Correct version.--&gt;</span>
<span class="nt">&lt;tag2</span> <span class="na">attr-expecting-a-str=</span><span class="s">&quot;&#39;1&#39;&quot;</span><span class="nt">/&gt;</span>
<span class="cm">&lt;!--Setting a list of strings in an attribute expecting a string will raise an error.--&gt;</span>
<span class="nt">&lt;tag3</span> <span class="na">attr-expecting-a-str=</span><span class="s">&quot;asd, bsd&quot;</span> <span class="na">str-attr-sep=</span><span class="s">&quot;, &quot;</span><span class="nt">/&gt;</span>
<span class="cm">&lt;!--Correct version.--&gt;</span>
<span class="nt">&lt;tag3</span> <span class="na">attr-expecting-a-str=</span><span class="s">&quot;don&#39;t use a separator&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<p>有些属性接受多个类型，例如``param``标签的``value``属性。通常情况下，类型为``int``（或``float``）的参数也可以接受``str``，后者将在后续进行替换，并尝试转换为``int``（或``float）``。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=586">[586]</a></p>
</div>
</div>

  <div id="footer">
    <p>欢迎帮助改进！</p>
  </div>
</body>
</html>