<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>How-To-Guides/Launch-file-different-formats</title>
</head>
<body>
  <div class="section" id="using-python-xml-and-yaml-for-ros-2-launch-files">
<h1>使用 Python、XML 和 YAML 编写 ROS 2 启动文件<a class="headerlink" href="#using-python-xml-and-yaml-for-ros-2-launch-files" title="永久链接至标题"></a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title">目录</p>
<ul class="simple">
<li><p><a class="reference internal" href="#launch-file-examples" id="id1">启动文件示例</a></p></li>
<li><p><a class="reference internal" href="#using-the-launch-files-from-the-command-line" id="id2">通过命令行使用启动文件</a></p></li>
<li><p><a class="reference internal" href="#python-xml-or-yaml-which-should-i-use" id="id3">Python、XML 或 YAML：我应该使用哪个？</a></p></li>
</ul>
</div>
<p>ROS 2启动文件可以使用Python、XML和YAML编写。本指南展示了如何使用这些不同格式来完成相同的任务，并讨论了何时使用每种格式。</p>
<div class="section" id="launch-file-examples">
<h2><a class="toc-backref" href="#id1">启动文件示例</a><a class="headerlink" href="#launch-file-examples" title="永久链接至标题"></a></h2>
<p>下面是用Python、XML和YAML实现的启动文件。每个启动文件执行以下操作：</p>
<ul class="simple">
<li><p>设置带有默认值的命令行参数</p></li>
<li><p>包含另一个启动文件</p></li>
<li><p>在另一个命名空间中包含另一个启动文件</p></li>
<li><p>启动一个节点并设置其命名空间</p></li>
<li><p>启动一个节点，设置其命名空间，并在该节点中设置参数（使用 args 参数）</p></li>
<li><p>创建一个节点，将消息从一个话题重新映射到另一个话题</p></li>
</ul>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-UHl0aG9u" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-UHl0aG9u" name="UHl0aG9u" role="tab" tabindex="0">Python</button><button aria-controls="panel-0-WE1M" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-WE1M" name="WE1M" role="tab" tabindex="-1">XML</button><button aria-controls="panel-0-WUFNTA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-WUFNTA==" name="WUFNTA==" role="tab" tabindex="-1">YAML</button></div><div aria-labelledby="tab-0-UHl0aG9u" class="sphinx-tabs-panel group-tab" id="panel-0-UHl0aG9u" name="UHl0aG9u" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># example.launch.py</span>

<span class="kn">import</span> <span class="nn">os</span>

<span class="kn">from</span> <span class="nn">ament_index_python</span> <span class="kn">import</span> <span class="n">get_package_share_directory</span>

<span class="kn">from</span> <span class="nn">launch</span> <span class="kn">import</span> <span class="n">LaunchDescription</span>
<span class="kn">from</span> <span class="nn">launch.actions</span> <span class="kn">import</span> <span class="n">DeclareLaunchArgument</span>
<span class="kn">from</span> <span class="nn">launch.actions</span> <span class="kn">import</span> <span class="n">IncludeLaunchDescription</span>
<span class="kn">from</span> <span class="nn">launch.actions</span> <span class="kn">import</span> <span class="n">GroupAction</span>
<span class="kn">from</span> <span class="nn">launch.launch_description_sources</span> <span class="kn">import</span> <span class="n">PythonLaunchDescriptionSource</span>
<span class="kn">from</span> <span class="nn">launch.substitutions</span> <span class="kn">import</span> <span class="n">LaunchConfiguration</span>
<span class="kn">from</span> <span class="nn">launch.substitutions</span> <span class="kn">import</span> <span class="n">TextSubstitution</span>
<span class="kn">from</span> <span class="nn">launch_ros.actions</span> <span class="kn">import</span> <span class="n">Node</span>
<span class="kn">from</span> <span class="nn">launch_ros.actions</span> <span class="kn">import</span> <span class="n">PushRosNamespace</span>


<span class="k">def</span> <span class="nf">generate_launch_description</span><span class="p">():</span>

    <span class="c1"># args that can be set from the command line or a default will be used</span>
    <span class="n">background_r_launch_arg</span> <span class="o">=</span> <span class="n">DeclareLaunchArgument</span><span class="p">(</span>
        <span class="s2">&quot;background_r&quot;</span><span class="p">,</span> <span class="n">default_value</span><span class="o">=</span><span class="n">TextSubstitution</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;0&quot;</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">background_g_launch_arg</span> <span class="o">=</span> <span class="n">DeclareLaunchArgument</span><span class="p">(</span>
        <span class="s2">&quot;background_g&quot;</span><span class="p">,</span> <span class="n">default_value</span><span class="o">=</span><span class="n">TextSubstitution</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;255&quot;</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">background_b_launch_arg</span> <span class="o">=</span> <span class="n">DeclareLaunchArgument</span><span class="p">(</span>
        <span class="s2">&quot;background_b&quot;</span><span class="p">,</span> <span class="n">default_value</span><span class="o">=</span><span class="n">TextSubstitution</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;0&quot;</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">chatter_ns_launch_arg</span> <span class="o">=</span> <span class="n">DeclareLaunchArgument</span><span class="p">(</span>
        <span class="s2">&quot;chatter_ns&quot;</span><span class="p">,</span> <span class="n">default_value</span><span class="o">=</span><span class="n">TextSubstitution</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;my/chatter/ns&quot;</span><span class="p">)</span>
    <span class="p">)</span>

    <span class="c1"># include another launch file</span>
    <span class="n">launch_include</span> <span class="o">=</span> <span class="n">IncludeLaunchDescription</span><span class="p">(</span>
        <span class="n">PythonLaunchDescriptionSource</span><span class="p">(</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                <span class="n">get_package_share_directory</span><span class="p">(</span><span class="s1">&#39;demo_nodes_cpp&#39;</span><span class="p">),</span>
                <span class="s1">&#39;launch/topics/talker_listener.launch.py&#39;</span><span class="p">))</span>
    <span class="p">)</span>
    <span class="c1"># include another launch file in the chatter_ns namespace</span>
    <span class="n">launch_include_with_namespace</span> <span class="o">=</span> <span class="n">GroupAction</span><span class="p">(</span>
        <span class="n">actions</span><span class="o">=</span><span class="p">[</span>
            <span class="c1"># push_ros_namespace to set namespace of included nodes</span>
            <span class="n">PushRosNamespace</span><span class="p">(</span><span class="s1">&#39;chatter_ns&#39;</span><span class="p">),</span>
            <span class="n">IncludeLaunchDescription</span><span class="p">(</span>
                <span class="n">PythonLaunchDescriptionSource</span><span class="p">(</span>
                    <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                        <span class="n">get_package_share_directory</span><span class="p">(</span><span class="s1">&#39;demo_nodes_cpp&#39;</span><span class="p">),</span>
                        <span class="s1">&#39;launch/topics/talker_listener.launch.py&#39;</span><span class="p">))</span>
            <span class="p">),</span>
        <span class="p">]</span>
    <span class="p">)</span>

    <span class="c1"># start a turtlesim_node in the turtlesim1 namespace</span>
    <span class="n">turtlesim_node</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span>
            <span class="n">package</span><span class="o">=</span><span class="s1">&#39;turtlesim&#39;</span><span class="p">,</span>
            <span class="n">namespace</span><span class="o">=</span><span class="s1">&#39;turtlesim1&#39;</span><span class="p">,</span>
            <span class="n">executable</span><span class="o">=</span><span class="s1">&#39;turtlesim_node&#39;</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="s1">&#39;sim&#39;</span>
        <span class="p">)</span>

    <span class="c1"># start another turtlesim_node in the turtlesim2 namespace</span>
    <span class="c1"># and use args to set parameters</span>
    <span class="n">turtlesim_node_with_parameters</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span>
            <span class="n">package</span><span class="o">=</span><span class="s1">&#39;turtlesim&#39;</span><span class="p">,</span>
            <span class="n">namespace</span><span class="o">=</span><span class="s1">&#39;turtlesim2&#39;</span><span class="p">,</span>
            <span class="n">executable</span><span class="o">=</span><span class="s1">&#39;turtlesim_node&#39;</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="s1">&#39;sim&#39;</span><span class="p">,</span>
            <span class="n">parameters</span><span class="o">=</span><span class="p">[{</span>
                <span class="s2">&quot;background_r&quot;</span><span class="p">:</span> <span class="n">LaunchConfiguration</span><span class="p">(</span><span class="s1">&#39;background_r&#39;</span><span class="p">),</span>
                <span class="s2">&quot;background_g&quot;</span><span class="p">:</span> <span class="n">LaunchConfiguration</span><span class="p">(</span><span class="s1">&#39;background_g&#39;</span><span class="p">),</span>
                <span class="s2">&quot;background_b&quot;</span><span class="p">:</span> <span class="n">LaunchConfiguration</span><span class="p">(</span><span class="s1">&#39;background_b&#39;</span><span class="p">),</span>
            <span class="p">}]</span>
        <span class="p">)</span>

    <span class="c1"># perform remap so both turtles listen to the same command topic</span>
    <span class="n">forward_turtlesim_commands_to_second_turtlesim_node</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span>
            <span class="n">package</span><span class="o">=</span><span class="s1">&#39;turtlesim&#39;</span><span class="p">,</span>
            <span class="n">executable</span><span class="o">=</span><span class="s1">&#39;mimic&#39;</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="s1">&#39;mimic&#39;</span><span class="p">,</span>
            <span class="n">remappings</span><span class="o">=</span><span class="p">[</span>
                <span class="p">(</span><span class="s1">&#39;/input/pose&#39;</span><span class="p">,</span> <span class="s1">&#39;/turtlesim1/turtle1/pose&#39;</span><span class="p">),</span>
                <span class="p">(</span><span class="s1">&#39;/output/cmd_vel&#39;</span><span class="p">,</span> <span class="s1">&#39;/turtlesim2/turtle1/cmd_vel&#39;</span><span class="p">),</span>
            <span class="p">]</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">LaunchDescription</span><span class="p">([</span>
        <span class="n">background_r_launch_arg</span><span class="p">,</span>
        <span class="n">background_g_launch_arg</span><span class="p">,</span>
        <span class="n">background_b_launch_arg</span><span class="p">,</span>
        <span class="n">chatter_ns_launch_arg</span><span class="p">,</span>
        <span class="n">launch_include</span><span class="p">,</span>
        <span class="n">launch_include_with_namespace</span><span class="p">,</span>
        <span class="n">turtlesim_node</span><span class="p">,</span>
        <span class="n">turtlesim_node_with_parameters</span><span class="p">,</span>
        <span class="n">forward_turtlesim_commands_to_second_turtlesim_node</span><span class="p">,</span>
    <span class="p">])</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-0-WE1M" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-WE1M" name="WE1M" role="tabpanel" tabindex="0"><div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cm">&lt;!-- example.launch.xml --&gt;</span>

<span class="nt">&lt;launch&gt;</span>

  <span class="cm">&lt;!-- args that can be set from the command line or a default will be used --&gt;</span>
  <span class="nt">&lt;arg</span> <span class="na">name=</span><span class="s">&quot;background_r&quot;</span> <span class="na">default=</span><span class="s">&quot;0&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;arg</span> <span class="na">name=</span><span class="s">&quot;background_g&quot;</span> <span class="na">default=</span><span class="s">&quot;255&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;arg</span> <span class="na">name=</span><span class="s">&quot;background_b&quot;</span> <span class="na">default=</span><span class="s">&quot;0&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;arg</span> <span class="na">name=</span><span class="s">&quot;chatter_ns&quot;</span> <span class="na">default=</span><span class="s">&quot;my/chatter/ns&quot;</span><span class="nt">/&gt;</span>

  <span class="cm">&lt;!-- include another launch file --&gt;</span>
  <span class="nt">&lt;include</span> <span class="na">file=</span><span class="s">&quot;$(find-pkg-share demo_nodes_cpp)/launch/topics/talker_listener.launch.py&quot;</span><span class="nt">/&gt;</span>
  <span class="cm">&lt;!-- include another launch file in the chatter_ns namespace--&gt;</span>
  <span class="nt">&lt;group&gt;</span>
    <span class="cm">&lt;!-- push_ros_namespace to set namespace of included nodes --&gt;</span>
    <span class="nt">&lt;push_ros_namespace</span> <span class="na">namespace=</span><span class="s">&quot;$(var chatter_ns)&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;include</span> <span class="na">file=</span><span class="s">&quot;$(find-pkg-share demo_nodes_cpp)/launch/topics/talker_listener.launch.py&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/group&gt;</span>

  <span class="cm">&lt;!-- start a turtlesim_node in the turtlesim1 namespace --&gt;</span>
  <span class="nt">&lt;node</span> <span class="na">pkg=</span><span class="s">&quot;turtlesim&quot;</span> <span class="na">exec=</span><span class="s">&quot;turtlesim_node&quot;</span> <span class="na">name=</span><span class="s">&quot;sim&quot;</span> <span class="na">namespace=</span><span class="s">&quot;turtlesim1&quot;</span><span class="nt">/&gt;</span>
  <span class="cm">&lt;!-- start another turtlesim_node in the turtlesim2 namespace</span>
<span class="cm">      and use args to set parameters --&gt;</span>
  <span class="nt">&lt;node</span> <span class="na">pkg=</span><span class="s">&quot;turtlesim&quot;</span> <span class="na">exec=</span><span class="s">&quot;turtlesim_node&quot;</span> <span class="na">name=</span><span class="s">&quot;sim&quot;</span> <span class="na">namespace=</span><span class="s">&quot;turtlesim2&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;background_r&quot;</span> <span class="na">value=</span><span class="s">&quot;$(var background_r)&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;background_g&quot;</span> <span class="na">value=</span><span class="s">&quot;$(var background_g)&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;background_b&quot;</span> <span class="na">value=</span><span class="s">&quot;$(var background_b)&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/node&gt;</span>
  <span class="cm">&lt;!-- perform remap so both turtles listen to the same command topic --&gt;</span>
  <span class="nt">&lt;node</span> <span class="na">pkg=</span><span class="s">&quot;turtlesim&quot;</span> <span class="na">exec=</span><span class="s">&quot;mimic&quot;</span> <span class="na">name=</span><span class="s">&quot;mimic&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;remap</span> <span class="na">from=</span><span class="s">&quot;/input/pose&quot;</span> <span class="na">to=</span><span class="s">&quot;/turtlesim1/turtle1/pose&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;remap</span> <span class="na">from=</span><span class="s">&quot;/output/cmd_vel&quot;</span> <span class="na">to=</span><span class="s">&quot;/turtlesim2/turtle1/cmd_vel&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/node&gt;</span>
<span class="nt">&lt;/launch&gt;</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-0-WUFNTA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-WUFNTA==" name="WUFNTA==" role="tabpanel" tabindex="0"><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># example.launch.yaml</span><span class="w"></span>

<span class="nt">launch</span><span class="p">:</span><span class="w"></span>

<span class="c1"># args that can be set from the command line or a default will be used</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">arg</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;background_r&quot;</span><span class="w"></span>
<span class="w">    </span><span class="nt">default</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;0&quot;</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">arg</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;background_g&quot;</span><span class="w"></span>
<span class="w">    </span><span class="nt">default</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;255&quot;</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">arg</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;background_b&quot;</span><span class="w"></span>
<span class="w">    </span><span class="nt">default</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;0&quot;</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">arg</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;chatter_ns&quot;</span><span class="w"></span>
<span class="w">    </span><span class="nt">default</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;my/chatter/ns&quot;</span><span class="w"></span>


<span class="c1"># include another launch file</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">include</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">file</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;$(find-pkg-share</span><span class="nv"> </span><span class="s">demo_nodes_cpp)/launch/topics/talker_listener.launch.py&quot;</span><span class="w"></span>

<span class="c1"># include another launch file in the chatter_ns namespace</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">group</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">push_ros_namespace</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;$(var</span><span class="nv"> </span><span class="s">chatter_ns)&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">include</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">file</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;$(find-pkg-share</span><span class="nv"> </span><span class="s">demo_nodes_cpp)/launch/topics/talker_listener.launch.py&quot;</span><span class="w"></span>

<span class="c1"># start a turtlesim_node in the turtlesim1 namespace</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">node</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">pkg</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;turtlesim&quot;</span><span class="w"></span>
<span class="w">    </span><span class="nt">exec</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;turtlesim_node&quot;</span><span class="w"></span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;sim&quot;</span><span class="w"></span>
<span class="w">    </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;turtlesim1&quot;</span><span class="w"></span>

<span class="c1"># start another turtlesim_node in the turtlesim2 namespace and use args to set parameters</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">node</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">pkg</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;turtlesim&quot;</span><span class="w"></span>
<span class="w">    </span><span class="nt">exec</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;turtlesim_node&quot;</span><span class="w"></span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;sim&quot;</span><span class="w"></span>
<span class="w">    </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;turtlesim2&quot;</span><span class="w"></span>
<span class="w">    </span><span class="nt">param</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"></span>
<span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;background_r&quot;</span><span class="w"></span>
<span class="w">      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;$(var</span><span class="nv"> </span><span class="s">background_r)&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"></span>
<span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;background_g&quot;</span><span class="w"></span>
<span class="w">      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;$(var</span><span class="nv"> </span><span class="s">background_g)&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"></span>
<span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;background_b&quot;</span><span class="w"></span>
<span class="w">      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;$(var</span><span class="nv"> </span><span class="s">background_b)&quot;</span><span class="w"></span>

<span class="c1"># perform remap so both turtles listen to the same command topic</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">node</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">pkg</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;turtlesim&quot;</span><span class="w"></span>
<span class="w">    </span><span class="nt">exec</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;mimic&quot;</span><span class="w"></span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;mimic&quot;</span><span class="w"></span>
<span class="w">    </span><span class="nt">remap</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"></span>
<span class="w">        </span><span class="nt">from</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;/input/pose&quot;</span><span class="w"></span>
<span class="w">        </span><span class="nt">to</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;/turtlesim1/turtle1/pose&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"></span>
<span class="w">        </span><span class="nt">from</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;/output/cmd_vel&quot;</span><span class="w"></span>
<span class="w">        </span><span class="nt">to</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;/turtlesim2/turtle1/cmd_vel&quot;</span><span class="w"></span>
</pre></div>
</div>
</div></div>
</div>
<div class="section" id="using-the-launch-files-from-the-command-line">
<h2><a class="toc-backref" href="#id2">通过命令行使用启动文件</a><a class="headerlink" href="#using-the-launch-files-from-the-command-line" title="永久链接至标题"></a></h2>
<div class="section" id="launching">
<h3>启动中<a class="headerlink" href="#launching" title="永久链接至标题"></a></h3>
<p>上述任意一个启动文件都可以使用``ros2 launch``命令来运行。如果要在本地尝试它们，您可以创建一个新的软件包并使用</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ros2 launch &lt;package_name&gt; &lt;launch_file_name&gt;</span>
</pre></div>
</div>
<p>或者直接通过指定启动文件的路径来运行该文件</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ros2 launch &lt;path_to_launch_file&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="setting-arguments">
<h3>设置参数<a class="headerlink" href="#setting-arguments" title="永久链接至标题"></a></h3>
<p>要设置传递给启动文件的参数，应该使用 <code class="docutils literal notranslate"><span class="pre">key:=value</span></code> 语法。例如，可以按照以下方式设置 <code class="docutils literal notranslate"><span class="pre">background_r</span></code> 的值：</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ros2 launch &lt;package_name&gt; &lt;launch_file_name&gt; background_r:=255</span>
</pre></div>
</div>
<p>或</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ros2 launch &lt;path_to_launch_file&gt; background_r:=255</span>
</pre></div>
</div>
</div>
<div class="section" id="controlling-the-turtles">
<h3>控制海龟<a class="headerlink" href="#controlling-the-turtles" title="永久链接至标题"></a></h3>
<p>为了测试重映射是否起作用，可以在另一个终端中运行以下命令来控制海龟：</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ros2 run turtlesim turtle_teleop_key --ros-args --remap __ns:=/turtlesim1</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="python-xml-or-yaml-which-should-i-use">
<h2><a class="toc-backref" href="#id3">Python、XML 或 YAML：我应该使用哪个？</a><a class="headerlink" href="#python-xml-or-yaml-which-should-i-use" title="永久链接至标题"></a></h2>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>在 ROS 1 中，启动文件是用 XML 编写的，所以对于来自 ROS 1 的人来说，XML 可能更为熟悉。要了解发生了什么变化，您可以访问 <a class="reference internal" href="Launch-files-migration-guide.html"><span class="doc">将启动文件从ROS 1迁移到ROS 2</span></a>。</p>
</div>
<p>对于大多数应用程序而言，选择使用哪种 ROS 2 启动文件格式取决于开发人员的偏好。然而，如果您的启动文件需要 XML 或 YAML 无法实现的灵活性，您可以使用 Python 来编写启动文件。使用 Python 进行 ROS 2 启动更加灵活，原因如下：</p>
<ul class="simple">
<li><p>Python 是一种脚本语言，因此您可以在启动文件中利用该语言及其库。</p></li>
<li><p><a href="#id1"><span class="problematic" id="id2">`</span></a>ros2/launch &lt;<a class="reference external" href="https://github.com/ros2/launch">https://github.com/ros2/launch</a>&gt;`_（通用的启动功能）和`ros2/launch_ros &lt;<a class="reference external" href="https://github.com/ros2/launch_ros">https://github.com/ros2/launch_ros</a>&gt;`_（ROS 2特定的启动功能）都是用Python编写的，因此您可以以较低级别访问启动功能，这些功能可能不会通过XML和YAML暴露出来。</p></li>
</ul>
<p>话虽如此，用Python编写的启动文件可能比XML或YAML中的启动文件更复杂且冗长。</p>
</div>
</div>

  <div id="footer">
    <p>欢迎帮助改进！</p>
  </div>
</body>
</html>