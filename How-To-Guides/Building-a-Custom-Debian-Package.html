<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>How-To-Guides/Building-a-Custom-Debian-Package</title>
</head>
<body>
  <div class="section" id="building-a-custom-debian-package">
<h1>构建自定义的Debian软件包 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=196">[196]</a><a class="headerlink" href="#building-a-custom-debian-package" title="永久链接至标题"></a></h1>
<p>许多Ubuntu用户通过安装:doc:<a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=197">Debian软件包 &lt;../Installation/Ubuntu-Install-Debians&gt;`在其系统上安装ROS 2。本指南提供了一组简短的说明，用于构建本地的自定义Debian软件包。 `[197]</a></p>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title">目录 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7">[]</a></p>
<ul class="simple">
<li><p><a class="reference internal" href="#prerequisites" id="id1">先决条件 [179]</a></p></li>
<li><p><a class="reference internal" href="#install-dependencies" id="id2">安装依赖项 [199]</a></p></li>
<li><p><a class="reference internal" href="#initialize-rosdep" id="id3">初始化 rosdep [201]</a></p></li>
<li><p><a class="reference internal" href="#build-the-debian-from-the-package" id="id4">从软件包中构建 Debian 包 [204]</a></p></li>
</ul>
</div>
<div class="section" id="prerequisites">
<h2>先决条件 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=179">[179]</a><a class="headerlink" href="#prerequisites" title="永久链接至标题"></a></h2>
<p>为了成功构建自定义软件包，构建软件包的所有依赖项必须在本地或rosdep中可用。此外，软件包的所有依赖项应在软件包的``package.xml``文件中正确声明。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=198">[198]</a></p>
</div>
<div class="section" id="install-dependencies">
<h2>安装依赖项 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=199">[199]</a><a class="headerlink" href="#install-dependencies" title="永久链接至标题"></a></h2>
<p>运行以下命令安装构建所需的实用工具： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=200">[200]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sudo apt install python3-bloom python3-rosdep fakeroot debhelper dh-python
</pre></div>
</div>
</div>
<div class="section" id="initialize-rosdep">
<h2>初始化 rosdep <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=201">[201]</a><a class="headerlink" href="#initialize-rosdep" title="永久链接至标题"></a></h2>
<p>通过调用以下命令来初始化 rosdep 数据库： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=202">[202]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sudo rosdep init
$ rosdep update
</pre></div>
</div>
<p>请注意，如果 rosdep 在过去已经被初始化过，<code class="docutils literal notranslate"><span class="pre">rosdep</span> <span class="pre">init</span></code> 命令可能会失败，但可以安全地忽略这个错误。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=203">[203]</a></p>
</div>
<div class="section" id="build-the-debian-from-the-package">
<h2>从软件包中构建 Debian 包 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=204">[204]</a><a class="headerlink" href="#build-the-debian-from-the-package" title="永久链接至标题"></a></h2>
<p>运行以下命令以构建Debian： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=205">[205]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> /path/to/pkg_source  <span class="c1"># this should be the directory that contains the package.xml</span>
$ bloom-generate rosdebian
$ fakeroot debian/rules binary
</pre></div>
</div>
<p>假设所有所需的依赖项都可用且编译成功，新软件包将在此目录的上级目录中可用。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=206">[206]</a></p>
</div>
</div>

  <div id="footer">
    <p>欢迎帮助改进！</p>
  </div>
</body>
</html>