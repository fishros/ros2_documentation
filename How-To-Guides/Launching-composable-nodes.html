<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>How-To-Guides/Launching-composable-nodes</title>
</head>
<body>
  <div class="section" id="using-ros-2-launch-to-launch-composable-nodes">
<h1>使用ROS 2 launch启动可组合节点<a class="headerlink" href="#using-ros-2-launch-to-launch-composable-nodes" title="永久链接至标题"></a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title">目录</p>
<ul class="simple">
<li><p><a class="reference internal" href="#setup" id="id1">设置</a></p></li>
<li><p><a class="reference internal" href="#launch-file-examples" id="id2">启动文件示例</a></p></li>
<li><p><a class="reference internal" href="#loading-composable-nodes-into-an-existing-container" id="id3">将可组合节点加载到现有容器中</a></p></li>
<li><p><a class="reference internal" href="#using-the-launch-files-from-the-command-line" id="id4">从命令行使用启动文件</a></p></li>
<li><p><a class="reference internal" href="#intra-process-communications" id="id5">进程内通信</a></p></li>
<li><p><a class="reference internal" href="#python-xml-or-yaml-which-should-i-use" id="id6">Python、XML 或 YAML：我应该使用哪个？</a></p></li>
</ul>
</div>
<p>在:doc:<a href="#id1"><span class="problematic" id="id2">`</span></a>组合教程&lt;../Tutorials/Intermediate/Composition&gt;`中，您了解了可组合节点以及如何从命令行中使用它们。在:doc:<a href="#id3"><span class="problematic" id="id4">`</span></a>启动教程&lt;../Tutorials/Intermediate/Launch/Launch-Main&gt;`中，您了解了启动文件以及如何使用它们来管理多个节点。</p>
<p>本指南将结合上述两个主题，教您如何为可组合节点编写启动文件。</p>
<div class="section" id="setup">
<h2><a class="toc-backref" href="#id1">设置</a><a class="headerlink" href="#setup" title="永久链接至标题"></a></h2>
<p>有关在安装ROS 2上的详细信息，请参阅:doc:<a class="reference internal" href="../Installation.html"><span class="doc">安装说明</span></a>。</p>
<p>如果您从软件包安装了ROS 2，请确保已安装``ros-humble-image-tools``。如果您下载了存档文件或从源代码构建了ROS 2，它已经是安装的一部分。</p>
</div>
<div class="section" id="launch-file-examples">
<h2><a class="toc-backref" href="#id2">启动文件示例</a><a class="headerlink" href="#launch-file-examples" title="永久链接至标题"></a></h2>
<p>下面是一个启动文件，用于在Python、XML和YAML中启动可组合节点。所有的启动文件都执行以下操作：</p>
<ul class="simple">
<li><p>实例化一个带有重新映射、自定义参数和额外参数的cam2image可组合节点</p></li>
<li><p>实例化一个带有重新映射、自定义参数和额外参数的showimage可组合节点</p></li>
</ul>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-UHl0aG9u" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-UHl0aG9u" name="UHl0aG9u" role="tab" tabindex="0">Python</button><button aria-controls="panel-0-WE1M" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-WE1M" name="WE1M" role="tab" tabindex="-1">XML</button><button aria-controls="panel-0-WUFNTA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-WUFNTA==" name="WUFNTA==" role="tab" tabindex="-1">YAML</button></div><div aria-labelledby="tab-0-UHl0aG9u" class="sphinx-tabs-panel group-tab" id="panel-0-UHl0aG9u" name="UHl0aG9u" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">launch</span>
<span class="kn">from</span> <span class="nn">launch_ros.actions</span> <span class="kn">import</span> <span class="n">ComposableNodeContainer</span>
<span class="kn">from</span> <span class="nn">launch_ros.descriptions</span> <span class="kn">import</span> <span class="n">ComposableNode</span>


<span class="k">def</span> <span class="nf">generate_launch_description</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Generate launch description with multiple components.&quot;&quot;&quot;</span>
    <span class="n">container</span> <span class="o">=</span> <span class="n">ComposableNodeContainer</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s1">&#39;image_container&#39;</span><span class="p">,</span>
            <span class="n">namespace</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
            <span class="n">package</span><span class="o">=</span><span class="s1">&#39;rclcpp_components&#39;</span><span class="p">,</span>
            <span class="n">executable</span><span class="o">=</span><span class="s1">&#39;component_container&#39;</span><span class="p">,</span>
            <span class="n">composable_node_descriptions</span><span class="o">=</span><span class="p">[</span>
                <span class="n">ComposableNode</span><span class="p">(</span>
                    <span class="n">package</span><span class="o">=</span><span class="s1">&#39;image_tools&#39;</span><span class="p">,</span>
                    <span class="n">plugin</span><span class="o">=</span><span class="s1">&#39;image_tools::Cam2Image&#39;</span><span class="p">,</span>
                    <span class="n">name</span><span class="o">=</span><span class="s1">&#39;cam2image&#39;</span><span class="p">,</span>
                    <span class="n">remappings</span><span class="o">=</span><span class="p">[(</span><span class="s1">&#39;/image&#39;</span><span class="p">,</span> <span class="s1">&#39;/burgerimage&#39;</span><span class="p">)],</span>
                    <span class="n">parameters</span><span class="o">=</span><span class="p">[{</span><span class="s1">&#39;width&#39;</span><span class="p">:</span> <span class="mi">320</span><span class="p">,</span> <span class="s1">&#39;height&#39;</span><span class="p">:</span> <span class="mi">240</span><span class="p">,</span> <span class="s1">&#39;burger_mode&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;history&#39;</span><span class="p">:</span> <span class="s1">&#39;keep_last&#39;</span><span class="p">}],</span>
                    <span class="n">extra_arguments</span><span class="o">=</span><span class="p">[{</span><span class="s1">&#39;use_intra_process_comms&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}]),</span>
                <span class="n">ComposableNode</span><span class="p">(</span>
                    <span class="n">package</span><span class="o">=</span><span class="s1">&#39;image_tools&#39;</span><span class="p">,</span>
                    <span class="n">plugin</span><span class="o">=</span><span class="s1">&#39;image_tools::ShowImage&#39;</span><span class="p">,</span>
                    <span class="n">name</span><span class="o">=</span><span class="s1">&#39;showimage&#39;</span><span class="p">,</span>
                    <span class="n">remappings</span><span class="o">=</span><span class="p">[(</span><span class="s1">&#39;/image&#39;</span><span class="p">,</span> <span class="s1">&#39;/burgerimage&#39;</span><span class="p">)],</span>
                    <span class="n">parameters</span><span class="o">=</span><span class="p">[{</span><span class="s1">&#39;history&#39;</span><span class="p">:</span> <span class="s1">&#39;keep_last&#39;</span><span class="p">}],</span>
                    <span class="n">extra_arguments</span><span class="o">=</span><span class="p">[{</span><span class="s1">&#39;use_intra_process_comms&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}])</span>
            <span class="p">],</span>
            <span class="n">output</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">launch</span><span class="o">.</span><span class="n">LaunchDescription</span><span class="p">([</span><span class="n">container</span><span class="p">])</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-0-WE1M" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-WE1M" name="WE1M" role="tabpanel" tabindex="0"><div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;launch&gt;</span>
    <span class="nt">&lt;node_container</span> <span class="na">pkg=</span><span class="s">&quot;rclcpp_components&quot;</span> <span class="na">exec=</span><span class="s">&quot;component_container&quot;</span> <span class="na">name=</span><span class="s">&quot;image_container&quot;</span> <span class="na">namespace=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;composable_node</span> <span class="na">pkg=</span><span class="s">&quot;image_tools&quot;</span> <span class="na">plugin=</span><span class="s">&quot;image_tools::Cam2Image&quot;</span> <span class="na">name=</span><span class="s">&quot;cam2image&quot;</span> <span class="na">namespace=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;remap</span> <span class="na">from=</span><span class="s">&quot;/image&quot;</span> <span class="na">to=</span><span class="s">&quot;/burgerimage&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;width&quot;</span> <span class="na">value=</span><span class="s">&quot;320&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;height&quot;</span> <span class="na">value=</span><span class="s">&quot;240&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;burger_mode&quot;</span> <span class="na">value=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;history&quot;</span> <span class="na">value=</span><span class="s">&quot;keep_last&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;extra_arg</span> <span class="na">name=</span><span class="s">&quot;use_intra_process_comms&quot;</span> <span class="na">value=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;/composable_node&gt;</span>
        <span class="nt">&lt;composable_node</span> <span class="na">pkg=</span><span class="s">&quot;image_tools&quot;</span> <span class="na">plugin=</span><span class="s">&quot;image_tools::ShowImage&quot;</span> <span class="na">name=</span><span class="s">&quot;showimage&quot;</span> <span class="na">namespace=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;remap</span> <span class="na">from=</span><span class="s">&quot;/image&quot;</span> <span class="na">to=</span><span class="s">&quot;/burgerimage&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;history&quot;</span> <span class="na">value=</span><span class="s">&quot;keep_last&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;extra_arg</span> <span class="na">name=</span><span class="s">&quot;use_intra_process_comms&quot;</span> <span class="na">value=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;/composable_node&gt;</span>
    <span class="nt">&lt;/node_container&gt;</span>
<span class="nt">&lt;/launch&gt;</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-0-WUFNTA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-WUFNTA==" name="WUFNTA==" role="tabpanel" tabindex="0"><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">launch</span><span class="p">:</span><span class="w"></span>

<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">node_container</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">pkg</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">rclcpp_components</span><span class="w"></span>
<span class="w">        </span><span class="nt">exec</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">component_container</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">image_container</span><span class="w"></span>
<span class="w">        </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;&#39;</span><span class="w"></span>
<span class="w">        </span><span class="nt">composable_node</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w">   </span><span class="nt">pkg</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">image_tools</span><span class="w"></span>
<span class="w">                </span><span class="nt">plugin</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">image_tools::Cam2Image</span><span class="w"></span>
<span class="w">                </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cam2image</span><span class="w"></span>
<span class="w">                </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;&#39;</span><span class="w"></span>
<span class="w">                </span><span class="nt">remap</span><span class="p">:</span><span class="w"></span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">from</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/image</span><span class="w"></span>
<span class="w">                      </span><span class="nt">to</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/burgerimage</span><span class="w"></span>
<span class="w">                </span><span class="nt">param</span><span class="p">:</span><span class="w"></span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">width</span><span class="w"></span>
<span class="w">                      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">320</span><span class="w"></span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">height</span><span class="w"></span>
<span class="w">                      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">240</span><span class="w"></span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">burger_mode</span><span class="w"></span>
<span class="w">                      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">history</span><span class="w"></span>
<span class="w">                      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">keep_last</span><span class="w"></span>
<span class="w">                </span><span class="nt">extra_arg</span><span class="p">:</span><span class="w"></span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">use_intra_process_comms</span><span class="w"></span>
<span class="w">                      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;true&#39;</span><span class="w"></span>

<span class="w">            </span><span class="p p-Indicator">-</span><span class="w">   </span><span class="nt">pkg</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">image_tools</span><span class="w"></span>
<span class="w">                </span><span class="nt">plugin</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">image_tools::ShowImage</span><span class="w"></span>
<span class="w">                </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">showimage</span><span class="w"></span>
<span class="w">                </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;&#39;</span><span class="w"></span>
<span class="w">                </span><span class="nt">remap</span><span class="p">:</span><span class="w"></span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">from</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/image</span><span class="w"></span>
<span class="w">                      </span><span class="nt">to</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/burgerimage</span><span class="w"></span>
<span class="w">                </span><span class="nt">param</span><span class="p">:</span><span class="w"></span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">history</span><span class="w"></span>
<span class="w">                      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">keep_last</span><span class="w"></span>
<span class="w">                </span><span class="nt">extra_arg</span><span class="p">:</span><span class="w"></span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">use_intra_process_comms</span><span class="w"></span>
<span class="w">                      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;true&#39;</span><span class="w"></span>
</pre></div>
</div>
</div></div>
</div>
<div class="section" id="loading-composable-nodes-into-an-existing-container">
<h2><a class="toc-backref" href="#id3">将可组合节点加载到现有容器中</a><a class="headerlink" href="#loading-composable-nodes-into-an-existing-container" title="永久链接至标题"></a></h2>
<p>有时候容器可以由其他启动文件或命令行启动。在这种情况下，您需要将您的组件添加到现有容器中。为此，您可以使用``LoadComposableNodes``将组件加载到给定的容器中。下面的示例启动与上述相同的节点。</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-1-UHl0aG9u" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-1-UHl0aG9u" name="UHl0aG9u" role="tab" tabindex="0">Python</button><button aria-controls="panel-1-WE1M" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-WE1M" name="WE1M" role="tab" tabindex="-1">XML</button><button aria-controls="panel-1-WUFNTA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-WUFNTA==" name="WUFNTA==" role="tab" tabindex="-1">YAML</button></div><div aria-labelledby="tab-1-UHl0aG9u" class="sphinx-tabs-panel group-tab" id="panel-1-UHl0aG9u" name="UHl0aG9u" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">launch</span> <span class="kn">import</span> <span class="n">LaunchDescription</span>
<span class="kn">from</span> <span class="nn">launch_ros.actions</span> <span class="kn">import</span> <span class="n">LoadComposableNodes</span><span class="p">,</span> <span class="n">Node</span>
<span class="kn">from</span> <span class="nn">launch_ros.descriptions</span> <span class="kn">import</span> <span class="n">ComposableNode</span>

<span class="k">def</span> <span class="nf">generate_launch_description</span><span class="p">():</span>
    <span class="n">container</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="s1">&#39;image_container&#39;</span><span class="p">,</span>
        <span class="n">package</span><span class="o">=</span><span class="s1">&#39;rclcpp_components&#39;</span><span class="p">,</span>
        <span class="n">executable</span><span class="o">=</span><span class="s1">&#39;component_container&#39;</span><span class="p">,</span>
        <span class="n">output</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">load_composable_nodes</span> <span class="o">=</span> <span class="n">LoadComposableNodes</span><span class="p">(</span>
        <span class="n">target_container</span><span class="o">=</span><span class="s1">&#39;image_container&#39;</span><span class="p">,</span>
        <span class="n">composable_node_descriptions</span><span class="o">=</span><span class="p">[</span>
            <span class="n">ComposableNode</span><span class="p">(</span>
                 <span class="n">package</span><span class="o">=</span><span class="s1">&#39;image_tools&#39;</span><span class="p">,</span>
                <span class="n">plugin</span><span class="o">=</span><span class="s1">&#39;image_tools::Cam2Image&#39;</span><span class="p">,</span>
                <span class="n">name</span><span class="o">=</span><span class="s1">&#39;cam2image&#39;</span><span class="p">,</span>
                <span class="n">remappings</span><span class="o">=</span><span class="p">[(</span><span class="s1">&#39;/image&#39;</span><span class="p">,</span> <span class="s1">&#39;/burgerimage&#39;</span><span class="p">)],</span>
                <span class="n">parameters</span><span class="o">=</span><span class="p">[{</span><span class="s1">&#39;width&#39;</span><span class="p">:</span> <span class="mi">320</span><span class="p">,</span> <span class="s1">&#39;height&#39;</span><span class="p">:</span> <span class="mi">240</span><span class="p">,</span> <span class="s1">&#39;burger_mode&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;history&#39;</span><span class="p">:</span> <span class="s1">&#39;keep_last&#39;</span><span class="p">}],</span>
                <span class="n">extra_arguments</span><span class="o">=</span><span class="p">[{</span><span class="s1">&#39;use_intra_process_comms&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}],</span>
            <span class="p">),</span>
            <span class="n">ComposableNode</span><span class="p">(</span>
                <span class="n">package</span><span class="o">=</span><span class="s1">&#39;image_tools&#39;</span><span class="p">,</span>
                <span class="n">plugin</span><span class="o">=</span><span class="s1">&#39;image_tools::ShowImage&#39;</span><span class="p">,</span>
                <span class="n">name</span><span class="o">=</span><span class="s1">&#39;showimage&#39;</span><span class="p">,</span>
                <span class="n">remappings</span><span class="o">=</span><span class="p">[(</span><span class="s1">&#39;/image&#39;</span><span class="p">,</span> <span class="s1">&#39;/burgerimage&#39;</span><span class="p">)],</span>
                <span class="n">parameters</span><span class="o">=</span><span class="p">[{</span><span class="s1">&#39;history&#39;</span><span class="p">:</span> <span class="s1">&#39;keep_last&#39;</span><span class="p">}],</span>
                <span class="n">extra_arguments</span><span class="o">=</span><span class="p">[{</span><span class="s1">&#39;use_intra_process_comms&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}]</span>
            <span class="p">),</span>
        <span class="p">],</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">LaunchDescription</span><span class="p">([</span><span class="n">container</span><span class="p">,</span> <span class="n">load_composable_nodes</span><span class="p">])</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-1-WE1M" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-WE1M" name="WE1M" role="tabpanel" tabindex="0"><div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;launch&gt;</span>
    <span class="nt">&lt;node</span> <span class="na">pkg=</span><span class="s">&quot;rclcpp_components&quot;</span> <span class="na">exec=</span><span class="s">&quot;component_container&quot;</span> <span class="na">name=</span><span class="s">&quot;image_container&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;/node&gt;</span>
    <span class="nt">&lt;load_composable_node</span> <span class="na">target=</span><span class="s">&quot;image_container&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;composable_node</span> <span class="na">pkg=</span><span class="s">&quot;image_tools&quot;</span> <span class="na">plugin=</span><span class="s">&quot;image_tools::Cam2Image&quot;</span> <span class="na">name=</span><span class="s">&quot;cam2image&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;remap</span> <span class="na">from=</span><span class="s">&quot;/image&quot;</span> <span class="na">to=</span><span class="s">&quot;/burgerimage&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;width&quot;</span> <span class="na">value=</span><span class="s">&quot;320&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;height&quot;</span> <span class="na">value=</span><span class="s">&quot;240&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;burger_mode&quot;</span> <span class="na">value=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;history&quot;</span> <span class="na">value=</span><span class="s">&quot;keep_last&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;extra_arg</span> <span class="na">name=</span><span class="s">&quot;use_intra_process_comms&quot;</span> <span class="na">value=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;/composable_node&gt;</span>
        <span class="nt">&lt;composable_node</span> <span class="na">pkg=</span><span class="s">&quot;image_tools&quot;</span> <span class="na">plugin=</span><span class="s">&quot;image_tools::ShowImage&quot;</span> <span class="na">name=</span><span class="s">&quot;showimage&quot;</span> <span class="na">namespace=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;remap</span> <span class="na">from=</span><span class="s">&quot;/image&quot;</span> <span class="na">to=</span><span class="s">&quot;/burgerimage&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;history&quot;</span> <span class="na">value=</span><span class="s">&quot;keep_last&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;extra_arg</span> <span class="na">name=</span><span class="s">&quot;use_intra_process_comms&quot;</span> <span class="na">value=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;/composable_node&gt;</span>
    <span class="nt">&lt;/load_composable_node&gt;</span>
<span class="nt">&lt;/launch&gt;</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-1-WUFNTA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-WUFNTA==" name="WUFNTA==" role="tabpanel" tabindex="0"><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">launch</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">node_container</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">pkg</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">rclcpp_components</span><span class="w"></span>
<span class="w">        </span><span class="nt">exec</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">component_container</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">image_container</span><span class="w"></span>
<span class="w">        </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;&#39;</span><span class="w"></span>
<span class="w">        </span><span class="nt">composable_node</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w">   </span><span class="nt">pkg</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">image_tools</span><span class="w"></span>
<span class="w">                </span><span class="nt">plugin</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">image_tools::Cam2Image</span><span class="w"></span>
<span class="w">                </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cam2image</span><span class="w"></span>
<span class="w">                </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;&#39;</span><span class="w"></span>
<span class="w">                </span><span class="nt">remap</span><span class="p">:</span><span class="w"></span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">from</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/image</span><span class="w"></span>
<span class="w">                      </span><span class="nt">to</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/burgerimage</span><span class="w"></span>
<span class="w">                </span><span class="nt">param</span><span class="p">:</span><span class="w"></span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">width</span><span class="w"></span>
<span class="w">                      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">320</span><span class="w"></span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">height</span><span class="w"></span>
<span class="w">                      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">240</span><span class="w"></span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">burger_mode</span><span class="w"></span>
<span class="w">                      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">history</span><span class="w"></span>
<span class="w">                      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">keep_last</span><span class="w"></span>
<span class="w">                </span><span class="nt">extra_arg</span><span class="p">:</span><span class="w"></span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">use_intra_process_comms</span><span class="w"></span>
<span class="w">                      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;true&#39;</span><span class="w"></span>

<span class="w">            </span><span class="p p-Indicator">-</span><span class="w">   </span><span class="nt">pkg</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">image_tools</span><span class="w"></span>
<span class="w">                </span><span class="nt">plugin</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">image_tools::ShowImage</span><span class="w"></span>
<span class="w">                </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">showimage</span><span class="w"></span>
<span class="w">                </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;&#39;</span><span class="w"></span>
<span class="w">                </span><span class="nt">remap</span><span class="p">:</span><span class="w"></span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">from</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/image</span><span class="w"></span>
<span class="w">                      </span><span class="nt">to</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/burgerimage</span><span class="w"></span>
<span class="w">                </span><span class="nt">param</span><span class="p">:</span><span class="w"></span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">history</span><span class="w"></span>
<span class="w">                      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">keep_last</span><span class="w"></span>
<span class="w">                </span><span class="nt">extra_arg</span><span class="p">:</span><span class="w"></span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">use_intra_process_comms</span><span class="w"></span>
<span class="w">                      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;true&#39;</span><span class="w"></span>
</pre></div>
</div>
</div></div>
</div>
<div class="section" id="using-the-launch-files-from-the-command-line">
<h2><a class="toc-backref" href="#id4">从命令行使用启动文件</a><a class="headerlink" href="#using-the-launch-files-from-the-command-line" title="永久链接至标题"></a></h2>
<p>上述任何一个启动文件都可以使用``ros2 launch``命令来运行。将数据复制到一个本地文件中，然后运行：</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ros2 launch &lt;path_to_launch_file&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="intra-process-communications">
<h2><a class="toc-backref" href="#id5">进程内通信</a><a class="headerlink" href="#intra-process-communications" title="永久链接至标题"></a></h2>
<p>上述所有示例都使用了额外的参数来设置节点之间的进程内通信。有关进程内通信的更多信息，请参阅:doc:<a class="reference internal" href="../Tutorials/Demos/Intra-Process-Communication.html"><span class="doc">进程内通信教程</span></a>。</p>
</div>
<div class="section" id="python-xml-or-yaml-which-should-i-use">
<h2><a class="toc-backref" href="#id6">Python、XML 或 YAML：我应该使用哪个？</a><a class="headerlink" href="#python-xml-or-yaml-which-should-i-use" title="永久链接至标题"></a></h2>
<p>有关更多信息，请参阅:doc:<a class="reference internal" href="Launch-file-different-formats.html"><span class="doc">启动文件不同格式的讨论</span></a>。</p>
</div>
</div>

  <div id="footer">
    <p>欢迎帮助改进！</p>
  </div>
</body>
</html>