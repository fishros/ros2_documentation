<!DOCTYPE html>
<html class="writer-html5" lang="zh" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ament_cmake 用户文档 &mdash; ROS 2 Documentation: Humble  文档</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../_static/tabs.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="canonical" href="https://docs.ros.org/en/humble/How-To-Guides/Ament-CMake-Documentation.html" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script src="../_static/tabs.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="ament_cmake_python 用户文档" href="Ament-CMake-Python-Documentation.html" />
    <link rel="prev" title="开发ROS 2软件包" href="Developing-a-ROS-2-Package.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> ROS 2 Documentation: Humble
            <img src="../_static/humble-small.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="在文档中搜索" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Installation.html">安装</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Ubuntu-Install-Debians.html">Ubuntu (Debian packages)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Windows-Install-Binary.html">Windows (二进制)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/RHEL-Install-RPMs.html">RHEL (RPM packages)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Alternatives.html">替代方案</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Installation/Alternatives/Ubuntu-Development-Setup.html">Ubuntu（源代码）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/Alternatives/Ubuntu-Install-Binary.html">Ubuntu（二进制）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/Alternatives/Windows-Development-Setup.html">Windows（源代码）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/Alternatives/RHEL-Development-Setup.html">RHEL（源代码）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/Alternatives/RHEL-Install-Binary.html">RHEL（二进制）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/Alternatives/macOS-Development-Setup.html">macOS（源码）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/Alternatives/Fedora-Development-Setup.html">Fedora（源代码）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/Alternatives/Latest-Development-Setup.html">最新的开发版本（源码）</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Maintaining-a-Source-Checkout.html">维护源代码检出。</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Testing.html">使用预发布二进制文件进行测试</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/DDS-Implementations.html">DDS 实现</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Installation/DDS-Implementations/Install-Connext-Security-Plugins.html">Connext安全插件</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/DDS-Implementations/Install-Connext-University-Eval.html">RTI Connext DDS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/DDS-Implementations/Working-with-Eclipse-CycloneDDS.html">Eclipse Cyclone DDS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/DDS-Implementations/Working-with-GurumNetworks-GurumDDS.html">GurumNetworks GurumDDS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/DDS-Implementations/Working-with-eProsima-Fast-DDS.html">eProsima Fast DDS</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Releases.html">分发版本</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Iron-Irwini.html">Iron Irwini (<code class="docutils literal notranslate"><span class="pre">iron</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Releases/Iron-Irwini-Complete-Changelog.html">Iron Irwini 更新日志</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Humble-Hawksbill.html">Humble Hawksbill (<code class="docutils literal notranslate"><span class="pre">humble</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Releases/Humble-Hawksbill-Complete-Changelog.html">Humble Hawksbill 变更日志</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Rolling-Ridley.html">Rolling Ridley (<code class="docutils literal notranslate"><span class="pre">rolling</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Development.html">开发分发版</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Releases/Release-Jazzy-Jalisco.html">Jazzy Jalisco (<code class="docutils literal notranslate"><span class="pre">jazzy</span></code>)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/End-of-Life.html">终止生命周期的发行版</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Releases/Release-Galactic-Geochelone.html">Galactic Geochelone（<code class="docutils literal notranslate"><span class="pre">galactic</span></code>）</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Releases/Galactic-Geochelone-Complete-Changelog.html">Galactic Geochelone更改日志</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Releases/Release-Foxy-Fitzroy.html">Foxy Fitzroy (<code class="xref any docutils literal notranslate"><span class="pre">foxy</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Releases/Release-Eloquent-Elusor.html">Eloquent Elusor（<code class="docutils literal notranslate"><span class="pre">eloquent</span></code>）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Releases/Release-Dashing-Diademata.html">Dashing Diademata（<code class="docutils literal notranslate"><span class="pre">dashing</span></code>）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Releases/Release-Crystal-Clemmys.html">Crystal Clemmys (<code class="docutils literal notranslate"><span class="pre">crystal</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Releases/Release-Bouncy-Bolson.html">Bouncy Bolson（<code class="docutils literal notranslate"><span class="pre">bouncy</span></code>）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Releases/Release-Ardent-Apalone.html">Ardent Apalone (<code class="docutils literal notranslate"><span class="pre">ardent</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Releases/Beta3-Overview.html">Beta 3 (<code class="docutils literal notranslate"><span class="pre">r2b3</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Releases/Beta2-Overview.html">Beta 2（<code class="docutils literal notranslate"><span class="pre">r2b2</span></code>）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Releases/Beta1-Overview.html">Beta 1（<code class="docutils literal notranslate"><span class="pre">Asphalt</span></code>）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Releases/Alpha-Overview.html">阿尔法版本</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Process.html">发布的开发流程</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Tutorials.html">教程</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Beginner-CLI-Tools.html">初学者：CLI 工具</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-CLI-Tools/Configuring-ROS2-Environment.html">配置环境</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-CLI-Tools/Introducing-Turtlesim/Introducing-Turtlesim.html">使用 <code class="docutils literal notranslate"><span class="pre">turtlesim</span></code> 、 <code class="docutils literal notranslate"><span class="pre">ros2</span></code> 和 <code class="docutils literal notranslate"><span class="pre">rqt</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-CLI-Tools/Understanding-ROS2-Nodes/Understanding-ROS2-Nodes.html">理解节点</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-CLI-Tools/Understanding-ROS2-Topics/Understanding-ROS2-Topics.html">理解话题</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-CLI-Tools/Understanding-ROS2-Services/Understanding-ROS2-Services.html">了解服务</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-CLI-Tools/Understanding-ROS2-Parameters/Understanding-ROS2-Parameters.html">理解参数</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-CLI-Tools/Understanding-ROS2-Actions/Understanding-ROS2-Actions.html">理解行为</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-CLI-Tools/Using-Rqt-Console/Using-Rqt-Console.html">使用 <code class="docutils literal notranslate"><span class="pre">rqt_console</span></code> 查看日志</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-CLI-Tools/Launching-Multiple-Nodes/Launching-Multiple-Nodes.html">启动节点</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-CLI-Tools/Recording-And-Playing-Back-Data/Recording-And-Playing-Back-Data.html">录制和回放数据</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries.html">初学者：客户端库</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Colcon-Tutorial.html">使用 <code class="docutils literal notranslate"><span class="pre">colcon</span></code> 构建软件包</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Creating-A-Workspace/Creating-A-Workspace.html">创建一个工作空间</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Creating-Your-First-ROS2-Package.html">创建软件包</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Writing-A-Simple-Cpp-Publisher-And-Subscriber.html">编写一个简单的发布者和订阅者（C++）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Writing-A-Simple-Py-Publisher-And-Subscriber.html">编写一个简单的发布者和订阅者（Python）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Writing-A-Simple-Cpp-Service-And-Client.html">编写一个简单的服务和客户端（C++）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Writing-A-Simple-Py-Service-And-Client.html">编写一个简单的服务和客户端（Python）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Custom-ROS2-Interfaces.html">创建自定义的 msg 和 srv 文件。</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Single-Package-Define-And-Use-Interface.html">实现自定义接口</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Using-Parameters-In-A-Class-CPP.html">在类中使用参数（C++）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Using-Parameters-In-A-Class-Python.html">在类中使用参数（Python）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Getting-Started-With-Ros2doctor.html">使用``ros2doctor``来识别问题</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Pluginlib.html">创建和使用插件（C++）</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Intermediate.html">中级</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Intermediate/Rosdep.html">使用rosdep管理依赖关系</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Intermediate/Creating-an-Action.html">创建一个动作</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Intermediate/Writing-an-Action-Server-Client/Cpp.html">编写一个动作服务器和客户端（C++）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Intermediate/Writing-an-Action-Server-Client/Py.html">编写一个动作服务器和客户端（Python）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Intermediate/Composition.html">在单个进程中组合多个节点</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Intermediate/Monitoring-For-Parameter-Changes-CPP.html">监视参数变化（C++）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Intermediate/Launch/Launch-Main.html">启动</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Launch/Creating-Launch-Files.html">创建一个启动文件</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Launch/Launch-system.html">将启动文件集成到ROS 2包中</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Launch/Using-Substitutions.html">使用替代项</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Launch/Using-Event-Handlers.html">使用事件处理程序</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Launch/Using-ROS2-Launch-For-Large-Projects.html">管理大型项目</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Tf2-Main.html"><code class="docutils literal notranslate"><span class="pre">tf2</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Introduction-To-Tf2.html">介绍``tf2``</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Writing-A-Tf2-Static-Broadcaster-Py.html">编写静态广播器（Python）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Writing-A-Tf2-Static-Broadcaster-Cpp.html">编写静态广播器（C++）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Writing-A-Tf2-Broadcaster-Py.html">编写广播器（Python）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Writing-A-Tf2-Broadcaster-Cpp.html">编写广播器（C++）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Writing-A-Tf2-Listener-Py.html">编写监听器（Python）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Writing-A-Tf2-Listener-Cpp.html">编写监听器（C++）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Adding-A-Frame-Py.html">添加一个帧（Python）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Adding-A-Frame-Cpp.html">添加一个框架（C++）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Learning-About-Tf2-And-Time-Py.html">使用时间（Python）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Learning-About-Tf2-And-Time-Cpp.html">使用时间（C++）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Time-Travel-With-Tf2-Py.html">时间旅行（Python）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Time-Travel-With-Tf2-Cpp.html">时间旅行（C++）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Debugging-Tf2-Problems.html">调试</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Quaternion-Fundamentals.html">四元数基础知识</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Using-Stamped-Datatypes-With-Tf2-Ros-MessageFilter.html">使用带时间戳的数据类型与``tf2_ros::MessageFilter``</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Intermediate/Testing/Testing-Main.html">测试</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Testing/CLI.html">从命令行中运行 ROS 2 中的测试</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Testing/Cpp.html">使用 GTest 编写基本的 C++ 测试</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Testing/Python.html">使用Python编写基本测试</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Intermediate/URDF/URDF-Main.html">URDF</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/URDF/Building-a-Visual-Robot-Model-with-URDF-from-Scratch.html">从头开始构建一个可视化的机器人模型</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/URDF/Building-a-Movable-Robot-Model-with-URDF.html">构建一个可移动的机器人模型。</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/URDF/Adding-Physical-and-Collision-Properties-to-a-URDF-Model.html">添加物理和碰撞属性</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/URDF/Using-Xacro-to-Clean-Up-a-URDF-File.html">使用 Xacro 清理您的代码</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/URDF/Using-URDF-with-Robot-State-Publisher.html">使用URDF和``robot_state_publisher``</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Advanced.html">高级</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Advanced/Topic-Statistics-Tutorial/Topic-Statistics-Tutorial.html">启用主题统计信息（C++）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Advanced/Discovery-Server/Discovery-Server.html">使用Fast DDS Discovery Server作为发现协议[社区贡献]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Advanced/Allocator-Template-Tutorial.html">实现自定义内存分配器</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Advanced/FastDDS-Configuration.html">发挥Fast DDS中间件的潜力 [社区贡献]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Advanced/Recording-A-Bag-From-Your-Own-Node-CPP.html">从节点（C++）录制一个包</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Advanced/Recording-A-Bag-From-Your-Own-Node-Py.html">从节点录制包（Python）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Advanced/Reading-From-A-Bag-File-CPP.html">Reading from a bag file (C++)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Advanced/Simulators/Simulation-Main.html">模拟器</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Advanced/Simulators/Webots/Simulation-Webots.html">Webots</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../Tutorials/Advanced/Simulators/Webots/Installation-Ubuntu.html">安装（Ubuntu）</a></li>
<li class="toctree-l5"><a class="reference internal" href="../Tutorials/Advanced/Simulators/Webots/Installation-Windows.html">安装（Windows）</a></li>
<li class="toctree-l5"><a class="reference internal" href="../Tutorials/Advanced/Simulators/Webots/Installation-MacOS.html">安装（macOS）</a></li>
<li class="toctree-l5"><a class="reference internal" href="../Tutorials/Advanced/Simulators/Webots/Setting-Up-Simulation-Webots-Basic.html">设置机器人仿真（基础）</a></li>
<li class="toctree-l5"><a class="reference internal" href="../Tutorials/Advanced/Simulators/Webots/Setting-Up-Simulation-Webots-Advanced.html">设置机器人模拟（高级）</a></li>
<li class="toctree-l5"><a class="reference internal" href="../Tutorials/Advanced/Simulators/Webots/Simulation-Supervisor.html">The Ros2Supervisor Node</a></li>
<li class="toctree-l5"><a class="reference internal" href="../Tutorials/Advanced/Simulators/Webots/Simulation-Reset-Handler.html">Setting up a Reset Handler</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Advanced/Simulators/Gazebo/Simulation-Gazebo.html">Gazebo</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../Tutorials/Advanced/Simulators/Gazebo/Gazebo.html">设置机器人仿真（Gazebo）。</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Advanced/Security/Security-Main.html">安全性</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Advanced/Security/Introducing-ros2-security.html">设置安全性</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Advanced/Security/The-Keystore.html">理解安全密钥库</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Advanced/Security/Security-on-Two.html">确保跨机器的安全性</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Advanced/Security/Examine-Traffic.html">检查网络流量</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Advanced/Security/Access-Controls.html">设置访问控制</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Advanced/Security/Deployment-Guidelines.html">部署指南</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Demos.html">演示</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Demos/Quality-of-Service.html">在不稳定网络中使用服务质量设置</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Demos/Managed-Nodes.html">使用受控生命周期管理节点</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Demos/Intra-Process-Communication.html">设置高效的进程内通信</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Demos/Rosbag-with-ROS1-Bridge.html">使用ROS 1桥接在`rosbag`中记录和回放数据</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Demos/Real-Time-Programming.html">理解实时编程</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Demos/dummy-robot-demo.html">尝试使用虚拟机器人进行实验</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Demos/Logging-and-logger-configuration.html">记录日志</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Demos/Content-Filtering-Subscription.html">创建内容过滤订阅</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Miscellaneous.html">杂项</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Miscellaneous/Deploying-ROS-2-on-IBM-Cloud.html">在 IBM Cloud Kubernetes 上部署 [社区贡献]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Miscellaneous/Eclipse-Oxygen-with-ROS-2-and-rviz2.html">使用 <code class="docutils literal notranslate"><span class="pre">rviz2</span></code> 的 Eclipse Oxygen [社区贡献]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Miscellaneous/Building-Realtime-rt_preempt-kernel-for-ROS-2.html">构建实时Linux内核[社区贡献]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Miscellaneous/Building-ROS2-Package-with-eclipse-2021-06.html">使用Eclipse 2021-06构建软件包</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../How-To-Guides.html">如何指南</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Installation-Troubleshooting.html">安装故障排除</a></li>
<li class="toctree-l2"><a class="reference internal" href="Developing-a-ROS-2-Package.html">开发ROS 2软件包</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">ament_cmake 用户文档</a></li>
<li class="toctree-l2"><a class="reference internal" href="Ament-CMake-Python-Documentation.html">ament_cmake_python 用户文档</a></li>
<li class="toctree-l2"><a class="reference internal" href="Migrating-from-ROS1.html">Migrating from ROS 1 to ROS 2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Migrating-from-ROS1/Migrating-Packages.html">Migrating Packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="Migrating-from-ROS1/Migrating-Interfaces.html">Migrating Interfaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="Migrating-from-ROS1/Migrating-CPP-Packages.html">Migrating C++ Packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="Migrating-from-ROS1/Migrating-Python-Packages.html">Migrating Python Packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="Migrating-from-ROS1/Migrating-Launch-Files.html">Migrating Launch Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="Migrating-from-ROS1/Migrating-Parameters.html">Migrating Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="Migrating-from-ROS1/Migrating-Scripts.html">Migrating Scripts</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Launch-file-different-formats.html">使用 Python、XML 和 YAML 编写 ROS 2 启动文件</a></li>
<li class="toctree-l2"><a class="reference internal" href="Launching-composable-nodes.html">使用ROS 2 launch启动可组合节点</a></li>
<li class="toctree-l2"><a class="reference internal" href="Node-arguments.html">通过命令行向节点传递ROS参数</a></li>
<li class="toctree-l2"><a class="reference internal" href="Sync-Vs-Async.html">同步与异步服务客户端</a></li>
<li class="toctree-l2"><a class="reference internal" href="DDS-tuning.html">DDS调优信息</a></li>
<li class="toctree-l2"><a class="reference internal" href="Overriding-QoS-Policies-For-Recording-And-Playback.html">rosbag2：覆盖 QoS 策略</a></li>
<li class="toctree-l2"><a class="reference internal" href="Working-with-multiple-RMW-implementations.html">使用多个ROS 2中间件实现</a></li>
<li class="toctree-l2"><a class="reference internal" href="Cross-compilation.html">交叉编译</a></li>
<li class="toctree-l2"><a class="reference internal" href="Releasing/Releasing-a-Package.html">发布软件包</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Releasing/First-Time-Release.html">首次发布</a></li>
<li class="toctree-l3"><a class="reference internal" href="Releasing/Subsequent-Releases.html">后续发布</a></li>
<li class="toctree-l3"><a class="reference internal" href="Releasing/Release-Team-Repository.html">发布团队/仓库</a></li>
<li class="toctree-l3"><a class="reference internal" href="Releasing/Release-Track.html">发布跟踪</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Using-Python-Packages.html">在ROS 2中使用Python包</a></li>
<li class="toctree-l2"><a class="reference internal" href="RQt-Port-Plugin-Windows.html">将RQt插件移植到Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="Run-2-nodes-in-single-or-separate-docker-containers.html">在 Docker 中运行 ROS 2 节点[社区贡献]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Visualizing-ROS-2-Data-With-Foxglove-Studio.html">使用Foxglove Studio可视化ROS 2数据</a></li>
<li class="toctree-l2"><a class="reference internal" href="Package-maintainer-guide.html">ROS 2软件包维护人员指南</a></li>
<li class="toctree-l2"><a class="reference internal" href="Building-a-Custom-Debian-Package.html">构建自定义的Debian软件包</a></li>
<li class="toctree-l2"><a class="reference internal" href="Building-ROS-2-with-Tracing-Instrumentation.html">使用跟踪工具构建ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="Topics-Services-Actions.html">主题 vs 服务 vs 动作</a></li>
<li class="toctree-l2"><a class="reference internal" href="Using-Variants.html">使用变体</a></li>
<li class="toctree-l2"><a class="reference internal" href="Using-ros2-param.html">使用``ros2 param``命令行工具</a></li>
<li class="toctree-l2"><a class="reference internal" href="Using-ros1_bridge-Jammy-upstream.html">在Ubuntu 22.04上使用``ros1_bridge``和上游ROS</a></li>
<li class="toctree-l2"><a class="reference internal" href="Disabling-ZeroCopy-loaned-messages.html">禁用零拷贝借用消息</a></li>
<li class="toctree-l2"><a class="reference internal" href="Installing-on-Raspberry-Pi.html">在 Raspberry Pi 上的 ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="Using-callback-groups.html">使用回调组</a></li>
<li class="toctree-l2"><a class="reference internal" href="Setup-ROS-2-with-VSCode-and-Docker-Container.html">使用VSCode和Docker设置ROS 2 [社区贡献]</a></li>
<li class="toctree-l2"><a class="reference internal" href="RQt-Source-Install.html">从源代码构建 RQt</a><ul>
<li class="toctree-l3"><a class="reference internal" href="RQt-Source-Install-MacOS.html">在 macOS 上从源代码构建 RQt</a></li>
<li class="toctree-l3"><a class="reference internal" href="RQt-Source-Install-Windows10.html">在 Windows 10 上从源代码构建 RQt</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Concepts.html">概念</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/Basic.html">Basic Concepts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Concepts/Basic/About-Nodes.html">节点</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Concepts/Basic/About-Discovery.html">发现</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Concepts/Basic/About-Interfaces.html">Interfaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Concepts/Basic/About-Topics.html">主题</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Concepts/Basic/About-Services.html">服务</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Concepts/Basic/About-Actions.html">动作</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Concepts/Basic/About-Parameters.html">参数</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Concepts/Basic/About-Command-Line-Tools.html">使用命令行工具进行内省</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Concepts/Basic/About-Launch.html">启动</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Concepts/Basic/About-Client-Libraries.html">Client libraries</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/Intermediate.html">Intermediate Concepts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Concepts/Intermediate/About-Domain-ID.html">ROS_DOMAIN_ID</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Concepts/Intermediate/About-Different-Middleware-Vendors.html">Different ROS 2 middleware vendors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Concepts/Intermediate/About-Logging.html">Logging and logger configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Concepts/Intermediate/About-Quality-of-Service-Settings.html">Quality of Service settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Concepts/Intermediate/About-Executors.html">执行器</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Concepts/Intermediate/About-Topic-Statistics.html">Topic statistics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Concepts/Intermediate/About-RQt.html">RQt 的概述和使用方法</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Concepts/Intermediate/About-Composition.html">Composition</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Concepts/Intermediate/About-Cross-Compilation.html">交叉编译</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Concepts/Intermediate/About-Security.html">ROS 2 Security</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Concepts/Intermediate/About-Tf2.html">Tf2</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/Advanced.html">Advanced Concepts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Concepts/Advanced/About-Build-System.html">The build system</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Concepts/Advanced/About-Internal-Interfaces.html">Internal ROS 2 interfaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Concepts/Advanced/About-Middleware-Implementations.html">ROS 2 middleware implementations</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Contact.html">联系</a></li>
<li class="toctree-l1"><a class="reference internal" href="../The-ROS2-Project.html">ROS 2 项目</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../The-ROS2-Project/Contributing.html">贡献</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../The-ROS2-Project/Contributing/Developer-Guide.html">ROS 2开发者指南</a></li>
<li class="toctree-l3"><a class="reference internal" href="../The-ROS2-Project/Contributing/Code-Style-Language-Versions.html">代码风格和语言版本</a></li>
<li class="toctree-l3"><a class="reference internal" href="../The-ROS2-Project/Contributing/Quality-Guide.html">质量指南：确保代码质量</a></li>
<li class="toctree-l3"><a class="reference internal" href="../The-ROS2-Project/Contributing/Build-Farms.html">ROS构建农场</a></li>
<li class="toctree-l3"><a class="reference internal" href="../The-ROS2-Project/Contributing/Windows-Tips-and-Tricks.html">Windows提示和技巧</a></li>
<li class="toctree-l3"><a class="reference internal" href="../The-ROS2-Project/Contributing/Contributing-To-ROS-2-Documentation.html">为ROS 2文档做出贡献</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../The-ROS2-Project/Features.html">功能状态</a></li>
<li class="toctree-l2"><a class="reference internal" href="../The-ROS2-Project/Feature-Ideas.html">功能点子</a></li>
<li class="toctree-l2"><a class="reference internal" href="../The-ROS2-Project/Roadmap.html">路线图</a></li>
<li class="toctree-l2"><a class="reference internal" href="../The-ROS2-Project/ROSCon-Content.html">ROSCon 演讲</a></li>
<li class="toctree-l2"><a class="reference internal" href="../The-ROS2-Project/Governance.html">项目治理</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../The-ROS2-Project/Governance/ROS2-TSC-Charter.html">ROS 2 技术指导委员会章程</a></li>
<li class="toctree-l3"><a class="reference internal" href="../The-ROS2-Project/Governance/ROS2-TSC-Intake-process.html">ROS 2 TSC申请者招募流程</a></li>
<li class="toctree-l3"><a class="reference internal" href="../The-ROS2-Project/Governance/Working-Groups.html">About Working Groups</a></li>
<li class="toctree-l3"><a class="reference internal" href="../The-ROS2-Project/Governance/How-To-Start-A-Community-Working-Group.html">如何启动社区工作组</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../The-ROS2-Project/Marketing.html">营销</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../API-Docs.html">API文档</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Related-Projects.html">相关项目</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Related-Projects/Intel-ROS2-Projects.html">Intel ROS 2 项目</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Related-Projects/Nvidia-ROS2-Projects.html">NVIDIA ROS 2项目</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Glossary.html">术语表</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Citations.html">引用</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ROS 2 Documentation: Humble</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../How-To-Guides.html">如何指南</a> &raquo;</li>
      <li>ament_cmake 用户文档</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/ros2/ros2_documentation/blob/humble/source/How-To-Guides/Ament-CMake-Documentation.rst" class="fa fa-github"> 在 GitHub 上修改</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             


  <div class="section" id="ament-cmake-user-documentation">
<h1>ament_cmake 用户文档<a class="headerlink" href="#ament-cmake-user-documentation" title="永久链接至标题"></a></h1>
<p><code class="docutils literal notranslate"><span class="pre">ament_cmake</span></code> 是ROS 2中基于CMake的软件包构建系统（特别是用于大多数C/C++项目）。它是一组增强CMake并为软件包作者添加便利功能的脚本集合。在使用``ament_cmake``之前，了解`CMake &lt;<a class="reference external" href="https://cmake.org/cmake/help/v3.8/">https://cmake.org/cmake/help/v3.8/</a>&gt;`__的基础知识非常有帮助。您可以在`这里 &lt;<a class="reference external" href="https://cmake.org/cmake/help/latest/guide/tutorial/index.html">https://cmake.org/cmake/help/latest/guide/tutorial/index.html</a>&gt;`__找到官方教程。</p>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title">目录</p>
<ul class="simple">
<li><p><a class="reference internal" href="#basics" id="id1">基础知识</a></p>
<ul>
<li><p><a class="reference internal" href="#basic-project-outline" id="id2">基本项目大纲</a></p></li>
<li><p><a class="reference internal" href="#compiler-and-linker-options" id="id3">编译器和链接器选项</a></p></li>
<li><p><a class="reference internal" href="#finding-dependencies" id="id4">查找依赖项</a></p></li>
<li><p><a class="reference internal" href="#adding-targets" id="id5">添加目标</a></p></li>
<li><p><a class="reference internal" href="#linking-to-dependencies" id="id6">链接到依赖项</a></p></li>
<li><p><a class="reference internal" href="#installing" id="id7">安装</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#linting-and-testing" id="id8">Linting and Testing</a></p>
<ul>
<li><p><a class="reference internal" href="#linting" id="id9">代码检查</a></p></li>
<li><p><a class="reference internal" href="#testing" id="id10">测试</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#extending-ament" id="id11">扩展 ament</a></p>
<ul>
<li><p><a class="reference internal" href="#adding-a-function-macro-to-ament" id="id12">向 ament 添加函数/宏</a></p></li>
<li><p><a class="reference internal" href="#adding-to-extension-points" id="id13">添加到扩展点</a></p></li>
<li><p><a class="reference internal" href="#adding-extension-points" id="id14">添加扩展点</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#adding-resources" id="id15">添加资源</a></p>
<ul>
<li><p><a class="reference internal" href="#the-ament-index-explained" id="id16">解释ament索引</a></p></li>
<li><p><a class="reference internal" href="#querying-the-ament-index" id="id17">查询ament索引</a></p></li>
<li><p><a class="reference internal" href="#adding-to-the-ament-index" id="id18">添加到 ament 索引</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="basics">
<h2><a class="toc-backref" href="#id1">基础知识</a><a class="headerlink" href="#basics" title="永久链接至标题"></a></h2>
<p>可以使用命令行上的``ros2 pkg create &lt;package_name&gt;``生成基本的CMake大纲。然后，构建信息将汇总在两个文件中：<code class="docutils literal notranslate"><span class="pre">package.xml``和``CMakeLists.txt</span></code>，它们必须位于同一个目录中。<a href="#id1"><span class="problematic" id="id2">``</span></a>package.xml``必须包含所有依赖项以及一些元数据，以允许colcon找到正确的构建顺序以供您的软件包使用，以在CI中安装所需的依赖项，并为使用``bloom``发布提供信息。<a href="#id3"><span class="problematic" id="id4">``</span></a>CMakeLists.txt``包含构建和打包可执行文件和库的命令，将是本文档的主要重点。</p>
<div class="section" id="basic-project-outline">
<h3><a class="toc-backref" href="#id2">基本项目大纲</a><a class="headerlink" href="#basic-project-outline" title="永久链接至标题"></a></h3>
<p>ament软件包的``CMakeLists.txt``的基本大纲包括：</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">cmake_minimum_required</span><span class="p">(</span><span class="s">VERSION</span><span class="w"> </span><span class="s">3.8</span><span class="p">)</span>
<span class="nb">project</span><span class="p">(</span><span class="s">my_project</span><span class="p">)</span>

<span class="nb">ament_package</span><span class="p">()</span>
</pre></div>
</div>
<p><a href="#id1"><span class="problematic" id="id2">``</span></a>project``的参数将是软件包名称，并且必须与``package.xml``中的软件包名称完全相同。</p>
<p>项目设置由``ament_package()``完成，每个软件包必须确切调用一次此函数。<code class="docutils literal notranslate"><span class="pre">ament_package()``安装``package.xml</span></code>，在ament索引中注册软件包，并安装用于CMake的配置（以及可能的目标）文件，以便其他软件包可以使用``find_package``找到它。由于``ament_package()``从``CMakeLists.txt``中收集了大量信息，因此它应该是您的``CMakeLists.txt``中的最后一个调用。</p>
<p><code class="docutils literal notranslate"><span class="pre">ament_package</span></code> 可以接受额外的参数：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_EXTRAS</span></code>：一组CMake文件（通过``configure_file()``扩展的``.cmake``或``.cmake.in``模板），这些文件应该对软件包的客户端可用。关于何时使用这些参数的示例，请参见`添加资源`_中的讨论。有关如何使用模板文件的更多信息，请参见`官方文档 &lt;<a class="reference external" href="https://cmake.org/cmake/help/v3.8/command/configure_file.html">https://cmake.org/cmake/help/v3.8/command/configure_file.html</a>&gt;`__。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_EXTRAS_POST</span></code>：与 <code class="docutils literal notranslate"><span class="pre">CONFIG_EXTRAS</span></code> 相同，但添加文件的顺序不同。<code class="docutils literal notranslate"><span class="pre">CONFIG_EXTRAS</span></code> 文件在为 <code class="docutils literal notranslate"><span class="pre">ament_export_*</span></code> 调用生成文件之前包含，而 <code class="docutils literal notranslate"><span class="pre">CONFIG_EXTRAS_POST</span></code> 的文件在之后包含。</p></li>
</ul>
<p>除了向 <code class="docutils literal notranslate"><span class="pre">ament_package</span></code> 添加外，您还可以添加到变量 <code class="docutils literal notranslate"><span class="pre">${PROJECT_NAME}_CONFIG_EXTRAS</span></code> 和 <code class="docutils literal notranslate"><span class="pre">${PROJECT_NAME}_CONFIG_EXTRAS_POST</span></code>，效果相同。唯一的区别是再次添加文件的顺序，具体顺序如下：</p>
<ul class="simple">
<li><p>由``CONFIG_EXTRAS``添加的文件</p></li>
<li><p>通过附加到``${PROJECT_NAME}_CONFIG_EXTRAS``添加的文件</p></li>
<li><p>通过附加到``${PROJECT_NAME}_CONFIG_EXTRAS_POST``添加的文件</p></li>
<li><p>由``CONFIG_EXTRAS_POST``添加的文件</p></li>
</ul>
</div>
<div class="section" id="compiler-and-linker-options">
<h3><a class="toc-backref" href="#id3">编译器和链接器选项</a><a class="headerlink" href="#compiler-and-linker-options" title="永久链接至标题"></a></h3>
<p>ROS 2针对符合C++17和C99标准的编译器。未来可能会针对更新版本进行定位，并在`此处 &lt;<a class="reference external" href="https://www.ros.org/reps/rep-2000.html">https://www.ros.org/reps/rep-2000.html</a>&gt;`__引用。因此，通常要设置相应的CMake标志：</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">if</span><span class="p">(</span><span class="s">NOT</span><span class="w"> </span><span class="s">CMAKE_C_STANDARD</span><span class="p">)</span>
<span class="w">  </span><span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_C_STANDARD</span><span class="w"> </span><span class="s">99</span><span class="p">)</span>
<span class="nb">endif</span><span class="p">()</span>
<span class="nb">if</span><span class="p">(</span><span class="s">NOT</span><span class="w"> </span><span class="s">CMAKE_CXX_STANDARD</span><span class="p">)</span>
<span class="w">  </span><span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_CXX_STANDARD</span><span class="w"> </span><span class="s">17</span><span class="p">)</span>
<span class="nb">endif</span><span class="p">()</span>
</pre></div>
</div>
<p>为了保持代码的清晰，编译器应该对可疑的代码引发警告，并应该修复这些警告。</p>
<p>建议至少包括以下警告级别：</p>
<ul class="simple">
<li><p>对于Visual Studio：默认的``W1``警告</p></li>
<li><p>对于GCC和Clang，强烈建议使用``-Wall -Wextra -Wpedantic``，并建议使用``-Wshadow``。</p></li>
</ul>
<p>目前建议使用``add_compile_options``为所有目标添加这些选项。这可以避免在所有可执行文件、库和测试的代码中使用基于目标的编译选项而导致混乱：</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">if</span><span class="p">(</span><span class="s">CMAKE_COMPILER_IS_GNUCXX</span><span class="w"> </span><span class="s">OR</span><span class="w"> </span><span class="s">CMAKE_CXX_COMPILER_ID</span><span class="w"> </span><span class="s">MATCHES</span><span class="w"> </span><span class="s2">&quot;Clang&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="nb">add_compile_options</span><span class="p">(</span><span class="s">-Wall</span><span class="w"> </span><span class="s">-Wextra</span><span class="w"> </span><span class="s">-Wpedantic</span><span class="p">)</span>
<span class="nb">endif</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="finding-dependencies">
<h3><a class="toc-backref" href="#id4">查找依赖项</a><a class="headerlink" href="#finding-dependencies" title="永久链接至标题"></a></h3>
<p>大多数``ament_cmake``项目将依赖于其他软件包。在CMake中，通过调用``find_package``来实现这一点。例如，如果您的软件包依赖于``rclcpp``，那么``CMakeLists.txt``文件应包含以下内容：</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">find_package</span><span class="p">(</span><span class="s">rclcpp</span><span class="w"> </span><span class="s">REQUIRED</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>不应该必须``find_package``一个不是显式需要但是是另一个显式需要的依赖项的依赖库。如果是这种情况，请针对相应的软件包提交错误报告。</p>
</div>
</div>
<div class="section" id="adding-targets">
<h3><a class="toc-backref" href="#id5">添加目标</a><a class="headerlink" href="#adding-targets" title="永久链接至标题"></a></h3>
<p>在CMake术语中，<a href="#id1"><span class="problematic" id="id2">``</span></a>targets``是此项目将创建的构件。可以创建库或可执行文件，单个项目可以包含零个或多个它们。</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-TGlicmFyaWVz" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-TGlicmFyaWVz" name="TGlicmFyaWVz" role="tab" tabindex="0">Libraries</button><button aria-controls="panel-0-RXhlY3V0YWJsZXM=" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-RXhlY3V0YWJsZXM=" name="RXhlY3V0YWJsZXM=" role="tab" tabindex="-1">Executables</button></div><div aria-labelledby="tab-0-TGlicmFyaWVz" class="sphinx-tabs-panel group-tab" id="panel-0-TGlicmFyaWVz" name="TGlicmFyaWVz" role="tabpanel" tabindex="0"><p>使用``add_library``调用创建这些库，该调用应包含目标名称和应编译以创建库的源文件。</p>
<p>由于C/C++中头文件和实现文件的分离，通常不需要将头文件作为``add_library``的参数。</p>
<p>建议采用以下最佳实践：</p>
<ul class="simple">
<li><p>将应该供此库的客户端使用的头文件（因此必须安装的头文件）放在名为软件包的``include``文件夹的子目录中，而所有其他文件（<a href="#id1"><span class="problematic" id="id2">``</span></a>.c/.cpp``和不应导出的头文件）放在``src``文件夹中。</p></li>
<li><p>在``add_library``调用中，只有``.c/.cpp``文件被明确引用。</p></li>
<li><p>通过以下方式查找到您的库``my_library``的头文件</p></li>
</ul>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">target_include_directories</span><span class="p">(</span><span class="s">my_library</span>
<span class="w">  </span><span class="s">PUBLIC</span>
<span class="w">    </span><span class="s2">&quot;$&lt;BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/include&gt;&quot;</span>
<span class="w">    </span><span class="s2">&quot;$&lt;INSTALL_INTERFACE:include/${PROJECT_NAME}&gt;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>在构建时，将文件夹 <code class="docutils literal notranslate"><span class="pre">${CMAKE_CURRENT_SOURCE_DIR}/include</span></code> 中的所有文件添加到公共接口，安装时将包含文件夹中的所有文件（相对于 <code class="docutils literal notranslate"><span class="pre">${CMAKE_INSTALL_DIR}</span></code>）添加到公共接口。</p>
<p><code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">pkg</span> <span class="pre">create</span></code> 创建一个遵循这些规则的软件包布局。</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>由于Windows是官方支持的平台之一，为了最大程度地影响，任何软件包也应该在Windows上构建。Windows库格式强制执行符号可见性；也就是说，应该从客户端使用的每个符号都必须由库明确导出（并且需要隐式导入符号）。</p>
<p>由于GCC和Clang构建通常不会执行此操作，建议使用`GCC Wiki中的逻辑&lt;<a class="reference external" href="https://gcc.gnu.org/wiki/Visibility">https://gcc.gnu.org/wiki/Visibility</a>&gt;`__。要在名为 <code class="docutils literal notranslate"><span class="pre">my_library</span></code> 的软件包中使用它：</p>
<ul>
<li><p>将链接中的逻辑复制到名为 <code class="docutils literal notranslate"><span class="pre">visibility_control.hpp</span></code> 的头文件中。</p></li>
<li><p>将 <code class="docutils literal notranslate"><span class="pre">DLL</span></code> 替换为 <a href="#id1"><span class="problematic" id="id2">``</span></a>MY_LIBRARY``（示例见`rviz_rendering的可见性控制&lt;<a class="reference external" href="https://github.com/ros2/rviz/blob/ros2/rviz_rendering/include/rviz_rendering/visibility_control.hpp">https://github.com/ros2/rviz/blob/ros2/rviz_rendering/include/rviz_rendering/visibility_control.hpp</a>&gt;`__）。</p></li>
<li><p>对于需要导出的所有符号（例如类或函数），请使用宏 &quot;MY_LIBRARY_PUBLIC&quot;。</p></li>
<li><p>在项目的 <code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code> 中使用：</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">target_compile_definitions</span><span class="p">(</span><span class="s">my_library</span><span class="w"> </span><span class="s">PRIVATE</span><span class="w"> </span><span class="s2">&quot;MY_LIBRARY_BUILDING_LIBRARY&quot;</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ul>
<p>更多详情，请参阅：<a class="reference internal" href="../The-ROS2-Project/Contributing/Windows-Tips-and-Tricks.html#windows-symbol-visibility"><span class="std std-ref">Windows Tips and Tricks 文档中的 Windows 符号可见性</span></a>。</p>
</div>
</div><div aria-labelledby="tab-0-RXhlY3V0YWJsZXM=" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-RXhlY3V0YWJsZXM=" name="RXhlY3V0YWJsZXM=" role="tabpanel" tabindex="0"><p>应该使用 <code class="docutils literal notranslate"><span class="pre">add_executable</span></code> 进行创建，其中应包含目标名称和应编译以创建可执行文件的源文件。可执行文件可能还需要通过使用 <code class="docutils literal notranslate"><span class="pre">target_link_libraries</span></code> 链接到该软件包中创建的任何库。</p>
<p>由于可执行文件通常不作为库由客户端使用，因此不需要将头文件放在 <code class="docutils literal notranslate"><span class="pre">include</span></code> 目录中。</p>
</div></div>
<p>如果软件包同时包含库和可执行文件，请确保结合上述&quot;Libraries&quot;和&quot;Executables&quot;的建议。</p>
</div>
<div class="section" id="linking-to-dependencies">
<h3><a class="toc-backref" href="#id6">链接到依赖项</a><a class="headerlink" href="#linking-to-dependencies" title="永久链接至标题"></a></h3>
<p>有两种方法可以将您的目标与依赖项链接起来。</p>
<p>第一种推荐的方法是使用 ament 宏 <code class="docutils literal notranslate"><span class="pre">ament_target_dependencies</span></code>。例如，假设我们想要将 <code class="docutils literal notranslate"><span class="pre">my_library</span></code> 链接到线性代数库 Eigen3。</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">find_package</span><span class="p">(</span><span class="s">Eigen3</span><span class="w"> </span><span class="s">REQUIRED</span><span class="p">)</span>
<span class="nb">ament_target_dependencies</span><span class="p">(</span><span class="s">my_library</span><span class="w"> </span><span class="s">PUBLIC</span><span class="w"> </span><span class="s">Eigen3</span><span class="p">)</span>
</pre></div>
</div>
<p>它包括必要的头文件和库以及它们的依赖项，以便项目能够正确找到它们。</p>
<p>第二种方法是使用 <code class="docutils literal notranslate"><span class="pre">target_link_libraries</span></code>。</p>
<p>现代 CMake 更喜欢仅使用目标进行导出和链接。CMake 目标可以进行命名空间，类似于 C++。如果可用，最好使用带命名空间的目标。例如，<code class="docutils literal notranslate"><span class="pre">Eigen3</span></code> 定义了目标 <code class="docutils literal notranslate"><span class="pre">Eigen3::Eigen</span></code>。</p>
<p>在 Eigen3 的示例中，调用应该如下所示：</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">target_link_libraries</span><span class="p">(</span><span class="s">my_library</span><span class="w"> </span><span class="s">PUBLIC</span><span class="w"> </span><span class="s">Eigen3::Eigen</span><span class="p">)</span>
</pre></div>
</div>
<p>这也会包括必要的头文件、库和它们的依赖项。请注意，此依赖项必须在以前通过调用 <code class="docutils literal notranslate"><span class="pre">find_package</span></code> 发现过。</p>
</div>
<div class="section" id="installing">
<h3><a class="toc-backref" href="#id7">安装</a><a class="headerlink" href="#installing" title="永久链接至标题"></a></h3>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-1-TGlicmFyaWVz" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-1-TGlicmFyaWVz" name="TGlicmFyaWVz" role="tab" tabindex="0">Libraries</button><button aria-controls="panel-1-RXhlY3V0YWJsZXM=" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-RXhlY3V0YWJsZXM=" name="RXhlY3V0YWJsZXM=" role="tab" tabindex="-1">Executables</button></div><div aria-labelledby="tab-1-TGlicmFyaWVz" class="sphinx-tabs-panel group-tab" id="panel-1-TGlicmFyaWVz" name="TGlicmFyaWVz" role="tabpanel" tabindex="0"><p>当构建可重用库时，需要导出一些信息供下游包轻松使用。</p>
<p>首先，安装应该提供给客户的头文件。include目录是为了支持``colcon``中的覆盖而自定义的；请参阅 <a class="reference external" href="https://colcon.readthedocs.io/en/released/user/overriding-packages.html#install-headers-to-a-unique-include-directory">https://colcon.readthedocs.io/en/released/user/overriding-packages.html#install-headers-to-a-unique-include-directory</a> 以获取更多信息。</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">install</span><span class="p">(</span>
<span class="w">  </span><span class="s">DIRECTORY</span><span class="w"> </span><span class="s">include/</span>
<span class="w">  </span><span class="s">DESTINATION</span><span class="w"> </span><span class="s">include/</span><span class="o">${</span><span class="nv">PROJECT_NAME</span><span class="o">}</span>
<span class="p">)</span>
</pre></div>
</div>
<p>接下来，安装目标并创建导出目标（<code class="docutils literal notranslate"><span class="pre">export_${PROJECT_NAME}</span></code>），其他代码将使用它来找到此包。请注意，您可以使用单个``install``调用来安装项目中的所有库。</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">install</span><span class="p">(</span>
<span class="w">  </span><span class="s">TARGETS</span><span class="w"> </span><span class="s">my_library</span>
<span class="w">  </span><span class="s">EXPORT</span><span class="w"> </span><span class="s">export_</span><span class="o">${</span><span class="nv">PROJECT_NAME</span><span class="o">}</span>
<span class="w">  </span><span class="s">LIBRARY</span><span class="w"> </span><span class="s">DESTINATION</span><span class="w"> </span><span class="s">lib</span>
<span class="w">  </span><span class="s">ARCHIVE</span><span class="w"> </span><span class="s">DESTINATION</span><span class="w"> </span><span class="s">lib</span>
<span class="w">  </span><span class="s">RUNTIME</span><span class="w"> </span><span class="s">DESTINATION</span><span class="w"> </span><span class="s">bin</span>
<span class="p">)</span>

<span class="nb">ament_export_targets</span><span class="p">(</span><span class="s">export_</span><span class="o">${</span><span class="nv">PROJECT_NAME</span><span class="o">}</span><span class="w"> </span><span class="s">HAS_LIBRARY_TARGET</span><span class="p">)</span>
<span class="nb">ament_export_dependencies</span><span class="p">(</span><span class="s">some_dependency</span><span class="p">)</span>
</pre></div>
</div>
<p>以下是上面片段中发生的事情：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ament_export_targets``宏导出了CMake的目标。这是为了让您的库的客户可以使用``target_link_libraries(client</span> <span class="pre">PRIVATE</span> <span class="pre">my_library::my_library)``语法。如果导出集包含一个库，请将选项``HAS_LIBRARY_TARGET``添加到``ament_export_targets</span></code>，这将将潜在库添加到环境变量中。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ament_export_dependencies``将依赖项导出到下游包。这是必要的，以便库的用户不必为这些依赖项调用``find_package</span></code>。</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>从CMake子目录中调用``ament_export_targets``、<a href="#id1"><span class="problematic" id="id2">``</span></a>ament_export_dependencies``或其他ament命令将不会按预期工作。这是因为CMake子目录无法在调用``ament_package``的父范围中设置必要的变量。</p>
</div>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>Windows DLL文件被视为运行时工件，并安装到``RUNTIME DESTINATION``文件夹中。因此，建议在Unix系统上开发库时保留``RUNTIME``安装。</p>
</div>
<ul class="simple">
<li><p>安装调用的``EXPORT``标记需要额外注意：它安装了``my_library``目标的CMake文件。它的名称必须与``ament_export_targets``中的参数完全相同。为确保可以通过``ament_target_dependencies``使用它，它不应与库的名称完全相同，而应具有类似于``export_``（如上所示）的前缀。</p></li>
<li><p>所有安装路径都相对于``CMAKE_INSTALL_PREFIX``，这已经由colcon/ament正确设置。</p></li>
</ul>
<p>还有两个额外的可用函数，但对于基于目标的安装来说是多余的：</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">ament_export_include_directories</span><span class="p">(</span><span class="s2">&quot;include/${PROJECT_NAME}&quot;</span><span class="p">)</span>
<span class="nb">ament_export_libraries</span><span class="p">(</span><span class="s">my_library</span><span class="p">)</span>
</pre></div>
</div>
<p>第一个宏标记了导出包含目录的目录。第二个宏标记了已安装库的位置（这是在调用``ament_export_targets``时通过``HAS_LIBRARY_TARGET``参数完成的）。只有在下游项目无法或不希望使用基于CMake目标的依赖项时才应使用这些函数。</p>
<p>一些宏可以接受不同类型的参数以进行非目标导出，但由于现代Make的推荐方式是使用目标，我们将不在此处介绍它们。这些选项的文档可以在源代码本身中找到。</p>
</div><div aria-labelledby="tab-1-RXhlY3V0YWJsZXM=" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-RXhlY3V0YWJsZXM=" name="RXhlY3V0YWJsZXM=" role="tabpanel" tabindex="0"><p>When installing an executable, the following stanza <em>must be followed exactly</em> for the rest of the ROS tooling to find it:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">install</span><span class="p">(</span><span class="s">TARGETS</span><span class="w"> </span><span class="s">my_exe</span>
<span class="w">    </span><span class="s">DESTINATION</span><span class="w"> </span><span class="s">lib/</span><span class="o">${</span><span class="nv">PROJECT_NAME</span><span class="o">}</span><span class="p">)</span>
</pre></div>
</div>
</div></div>
<p>如果软件包同时包含库和可执行文件，请确保结合上述&quot;Libraries&quot;和&quot;Executables&quot;的建议。</p>
</div>
</div>
<div class="section" id="linting-and-testing">
<h2><a class="toc-backref" href="#id8">Linting and Testing</a><a class="headerlink" href="#linting-and-testing" title="永久链接至标题"></a></h2>
<p>为了将测试与使用 colcon 构建库分开，将所有对代码检查和测试的调用都包装在条件语句中：</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">if</span><span class="p">(</span><span class="s">BUILD_TESTING</span><span class="p">)</span>
<span class="w">  </span><span class="nb">find_package</span><span class="p">(</span><span class="s">ament_cmake_gtest</span><span class="w"> </span><span class="s">REQUIRED</span><span class="p">)</span>
<span class="w">  </span><span class="nb">ament_add_gtest</span><span class="p">(</span><span class="s">&lt;tests&gt;</span><span class="p">)</span>
<span class="nb">endif</span><span class="p">()</span>
</pre></div>
</div>
<div class="section" id="linting">
<h3><a class="toc-backref" href="#id9">代码检查</a><a class="headerlink" href="#linting" title="永久链接至标题"></a></h3>
<p>建议使用`ament_lint_auto &lt;<a class="reference external" href="https://github.com/ament/ament_lint/blob/humble/ament_lint_auto/doc/index.rst#ament_lint_auto">https://github.com/ament/ament_lint/blob/humble/ament_lint_auto/doc/index.rst#ament_lint_auto</a>&gt;`_中的组合调用：</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">find_package</span><span class="p">(</span><span class="s">ament_lint_auto</span><span class="w"> </span><span class="s">REQUIRED</span><span class="p">)</span>
<span class="nb">ament_lint_auto_find_test_dependencies</span><span class="p">()</span>
</pre></div>
</div>
<p>这将按照``package.xml``中定义的方式运行代码检查工具。建议使用由``ament_lint_common``软件包定义的代码检查工具集。其中包含的各个代码检查工具及其功能可以在`ament_lint_common文档 &lt;<a class="reference external" href="https://github.com/ament/ament_lint/blob/humble/ament_lint_common/doc/index.rst">https://github.com/ament/ament_lint/blob/humble/ament_lint_common/doc/index.rst</a>&gt;`_中查看。</p>
<p>ament提供的代码检查工具也可以单独添加，而不是运行``ament_lint_auto``。如何添加的一个示例可以在`ament_cmake_lint_cmake文档 &lt;<a class="reference external" href="https://github.com/ament/ament_lint/blob/humble/ament_cmake_lint_cmake/doc/index.rst">https://github.com/ament/ament_lint/blob/humble/ament_cmake_lint_cmake/doc/index.rst</a>&gt;`_中找到。</p>
</div>
<div class="section" id="testing">
<h3><a class="toc-backref" href="#id10">测试</a><a class="headerlink" href="#testing" title="永久链接至标题"></a></h3>
<p>Ament包含CMake宏，可以简化设置GTests的过程。调用：</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">find_package</span><span class="p">(</span><span class="s">ament_cmake_gtest</span><span class="p">)</span>
<span class="nb">ament_add_gtest</span><span class="p">(</span><span class="s">some_test</span><span class="w"> </span><span class="s">&lt;test_sources&gt;</span><span class="p">)</span>
</pre></div>
</div>
<p>以添加一个GTest。然后，这是一个常规目标，可以与其他库链接（如项目库）。这些宏有额外的参数：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">APPEND_ENV</span></code>：追加环境变量。例如，您可以通过调用来添加到ament前缀路径：</p></li>
</ul>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">find_package</span><span class="p">(</span><span class="s">ament_cmake_gtest</span><span class="w"> </span><span class="s">REQUIRED</span><span class="p">)</span>
<span class="nb">ament_add_gtest</span><span class="p">(</span><span class="s">some_test</span><span class="w"> </span><span class="s">&lt;test_sources&gt;</span>
<span class="w">  </span><span class="s">APPEND_ENV</span><span class="w"> </span><span class="s">PATH=some/addtional/path/for/testing/resources</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">APPEND_LIBRARY_DIRS</span></code>：追加库文件目录，以便链接器在运行时能够找到它们。这可以通过设置环境变量，如在Windows上设置``PATH``，在Linux上设置``LD_LIBRARY_PATH``来实现，但这样做会使调用与特定平台相关。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ENV</span></code>：设置环境变量（语法与``APPEND_ENV``相同）。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TIMEOUT</span></code>：设置测试的超时时间（以秒为单位）。GTests的默认超时时间为60秒。例如：</p></li>
</ul>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">ament_add_gtest</span><span class="p">(</span><span class="s">some_test</span><span class="w"> </span><span class="s">&lt;test_sources&gt;</span><span class="w"> </span><span class="s">TIMEOUT</span><span class="w"> </span><span class="s">120</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SKIP_TEST</span></code>：跳过此测试（在控制台输出中将显示为“通过”）。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SKIP_LINKING_MAIN_LIBRARIES</span></code>：不链接GTest。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">WORKING_DIRECTORY</span></code>：设置测试的工作目录。</p></li>
</ul>
<p>否则，默认工作目录是 <code class="docutils literal notranslate"><span class="pre">CMAKE_CURRENT_BINARY_DIR</span></code>，在 <a class="reference external" href="https://cmake.org/cmake/help/latest/variable/CMAKE_CURRENT_BINARY_DIR.html">CMake 文档</a> 中有描述。</p>
<p>类似地，有一个 CMake 宏用于设置 GTest，包括 GMock：</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">find_package</span><span class="p">(</span><span class="s">ament_cmake_gmock</span><span class="w"> </span><span class="s">REQUIRED</span><span class="p">)</span>
<span class="nb">ament_add_gmock</span><span class="p">(</span><span class="s">some_test</span><span class="w"> </span><span class="s">&lt;test_sources&gt;</span><span class="p">)</span>
</pre></div>
</div>
<p>它具有与 <code class="docutils literal notranslate"><span class="pre">ament_add_gtest</span></code> 相同的附加参数。</p>
</div>
</div>
<div class="section" id="extending-ament">
<h2><a class="toc-backref" href="#id11">扩展 ament</a><a class="headerlink" href="#extending-ament" title="永久链接至标题"></a></h2>
<p>可以使用 <code class="docutils literal notranslate"><span class="pre">ament_cmake</span></code> 注册附加的宏/函数，并以多种方式进行扩展。</p>
<div class="section" id="adding-a-function-macro-to-ament">
<h3><a class="toc-backref" href="#id12">向 ament 添加函数/宏</a><a class="headerlink" href="#adding-a-function-macro-to-ament" title="永久链接至标题"></a></h3>
<p>扩展ament通常意味着您希望其他软件包可以使用某些函数。向客户端软件包提供宏的最佳方法是将其注册到ament中。</p>
<p>可以通过追加``${PROJECT_NAME}_CONFIG_EXTRAS``变量来实现，该变量由``ament_package()``使用，通过以下方式：</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">list</span><span class="p">(</span><span class="s">APPEND</span><span class="w"> </span><span class="o">${</span><span class="nv">PROJECT_NAME</span><span class="o">}</span><span class="s">_CONFIG_EXTRAS</span>
<span class="w">  </span><span class="s">path/to/file.cmake</span><span class="s2">&quot;</span>
<span class="s2">  other/pathto/file.cmake&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
<p>或者，您可以直接将文件添加到``ament_package()``调用中：</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">ament_package</span><span class="p">(</span><span class="s">CONFIG_EXTRAS</span>
<span class="w">  </span><span class="s">path/to/file.cmake</span>
<span class="w">  </span><span class="s">other/pathto/file.cmake</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="adding-to-extension-points">
<h3><a class="toc-backref" href="#id13">添加到扩展点</a><a class="headerlink" href="#adding-to-extension-points" title="永久链接至标题"></a></h3>
<p>除了可以在其他软件包中使用的简单函数文件外，您还可以向ament添加扩展。这些扩展是通过定义扩展点的函数执行的脚本。ament扩展的最常见用例可能是注册rosidl消息生成器：当编写生成器时，通常希望使用生成器生成所有消息和服务，而无需修改消息/服务定义软件包的代码。通过将生成器注册为``rosidl_generate_interfaces``的扩展，可以实现这一点。</p>
<p>例如，参见</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">ament_register_extension</span><span class="p">(</span>
<span class="w">  </span><span class="s2">&quot;rosidl_generate_interfaces&quot;</span>
<span class="w">  </span><span class="s2">&quot;rosidl_generator_cpp&quot;</span>
<span class="w">  </span><span class="s2">&quot;rosidl_generator_cpp_generate_interfaces.cmake&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>它为软件包 <code class="docutils literal notranslate"><span class="pre">rosidl_generator_cpp</span></code> 在扩展点 <code class="docutils literal notranslate"><span class="pre">rosidl_generate_interfaces</span></code> 上注册了宏 <code class="docutils literal notranslate"><span class="pre">rosidl_generator_cpp_generate_interfaces.cmake</span></code> 。当扩展点被执行时，它将触发在此处执行脚本 <code class="docutils literal notranslate"><span class="pre">rosidl_generator_cpp_generate_interfaces.cmake</span></code> 。特别地，这将在每次执行函数 <code class="docutils literal notranslate"><span class="pre">rosidl_generate_interfaces</span></code> 时调用生成器。</p>
<p>除了``rosidl_generate_interfaces``之外，生成器的最重要的扩展点是``ament_package``，它将通过``ament_package()``调用简单地执行脚本。在注册资源时，此扩展点非常有用（请参见下文）。</p>
<p><a href="#id1"><span class="problematic" id="id2">``</span></a>ament_register_extension``是一个接受三个参数的函数：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">extension_point</span></code>：扩展点的名称（大多数情况下，这将是 <code class="docutils literal notranslate"><span class="pre">ament_package</span></code> 或 <code class="docutils literal notranslate"><span class="pre">rosidl_generate_interfaces</span></code> 中的一个）</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">package_name</span></code>：包含CMake文件的包的名称（即文件所在的项目的项目名称）</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cmake_filename</span></code>：当运行扩展点时执行的CMake文件</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>可以以类似于 <code class="docutils literal notranslate"><span class="pre">ament_package</span></code> 和 <code class="docutils literal notranslate"><span class="pre">rosidl_generate_interfaces</span></code> 的方式定义自定义扩展点，但这几乎是不必要的。</p>
</div>
</div>
<div class="section" id="adding-extension-points">
<h3><a class="toc-backref" href="#id14">添加扩展点</a><a class="headerlink" href="#adding-extension-points" title="永久链接至标题"></a></h3>
<p>非常罕见的情况下，定义一个新的扩展点到ament可能是有趣的。</p>
<p>扩展点可以在宏中注册，以便在调用相应的宏时执行所有扩展。要实现这一点</p>
<ul class="simple">
<li><p>为您的扩展定义和记录一个名称（例如``my_extension_point``），这个名称将在使用扩展点时传递给``ament_register_extension``宏。</p></li>
<li><p>在应执行扩展调用的宏/函数中：</p></li>
</ul>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">ament_execute_extensions</span><span class="p">(</span><span class="s">my_extension_point</span><span class="p">)</span>
</pre></div>
</div>
<p>Ament扩展通过定义一个变量来工作，该变量包含扩展点的名称，并用要执行的宏填充该变量。在调用``ament_execute_extensions``时，然后按顺序执行变量中定义的脚本。</p>
</div>
</div>
<div class="section" id="adding-resources">
<h2><a class="toc-backref" href="#id15">添加资源</a><a class="headerlink" href="#adding-resources" title="永久链接至标题"></a></h2>
<p>特别是在开发插件或允许插件的软件包时，通常需要从另一个ROS软件包（例如插件）中添加资源。示例可以是使用pluginlib的工具的插件。</p>
<p>这可以通过使用ament索引（也称为“资源索引”）来实现。</p>
<div class="section" id="the-ament-index-explained">
<h3><a class="toc-backref" href="#id16">解释ament索引</a><a class="headerlink" href="#the-ament-index-explained" title="永久链接至标题"></a></h3>
<p>有关设计和意图的详细信息，请参阅`此处 &lt;<a class="reference external" href="https://github.com/ament/ament_cmake/blob/humble/ament_cmake_core/doc/resource_index.md">https://github.com/ament/ament_cmake/blob/humble/ament_cmake_core/doc/resource_index.md</a>&gt;`__</p>
<p>原则上，ament索引包含在您的软件包的install/share文件夹中的一个文件夹中。它包含以不同类型资源命名的浅层子文件夹。在子文件夹内，每个提供该资源的软件包都以“标记文件”的形式引用。该文件可以包含获取资源所需的任何内容，例如资源的安装目录的相对路径，也可以是空的。</p>
<p>举个例子，考虑为RViz提供显示插件：在名为``my_rviz_displays``的项目中提供RViz插件，这些插件将被pluginlib读取，您将提供一个``plugin_description.xml``文件，该文件将被安装和用于pluginlib来加载插件。为了实现这一点，通过资源索引将plugin_description.xml注册为资源</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">pluginlib_export_plugin_description_file</span><span class="p">(</span><span class="s">rviz_common</span><span class="w"> </span><span class="s">plugins_description.xml</span><span class="p">)</span>
</pre></div>
</div>
<p>运行``colcon build``时，它会将文件``my_rviz_displays``安装到resource_index的子文件夹``rviz_common__pluginlib__plugin``中。rviz_common内的Pluginlib工厂将从所有名为``rviz_common__pluginlib__plugin``的文件夹中收集来自导出插件的软件包的信息。Pluginlib工厂的标记文件包含到``plugins_description.xml``文件的安装文件夹相对路径（以及库的名称作为标记文件名）。有了这些信息，pluginlib可以加载库并从``plugin_description.xml``文件中知道要加载哪些插件。</p>
<p>作为第二个例子，考虑让您自己的RViz插件使用您自己的自定义网格的可能性。网格在启动时加载，这样插件所有者就不必处理它，但这意味着RViz必须知道这些网格。为了实现这一点，RViz提供了一个函数：</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">register_rviz_ogre_media_exports</span><span class="p">(</span><span class="s">DIRECTORIES</span><span class="w"> </span><span class="s">&lt;my_dirs&gt;</span><span class="p">)</span>
</pre></div>
</div>
<p>这将目录注册为ament索引中的ogre_media资源。简而言之，它会将名为该项目的文件安装到名为“rviz_ogre_media_exports”的子文件夹中，该文件调用该函数。该文件包含安装文件夹相对于宏中列出的目录的路径。在启动时，RViz现在可以搜索所有名为“rviz_ogre_media_exports”的文件夹，并加载所提供文件夹中的资源。这些搜索使用``ament_index_cpp``（对于Python软件包，使用``ament_index_py``）进行。</p>
<p>在接下来的几节中，我们将探讨如何将您自己的资源添加到ament索引中，并提供最佳实践。</p>
</div>
<div class="section" id="querying-the-ament-index">
<h3><a class="toc-backref" href="#id17">查询ament索引</a><a class="headerlink" href="#querying-the-ament-index" title="永久链接至标题"></a></h3>
<p>如有必要，可以通过CMake查询ament索引中的资源。为此，有三个函数：</p>
<p><code class="docutils literal notranslate"><span class="pre">ament_index_has_resource</span></code>: Obtain a prefix path to the resource if it exists with the following parameters:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">var</span></code>：输出参数：如果资源不存在，请将此变量填充为FALSE，否则填充为资源的前缀路径</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">resource_type</span></code>：资源的类型（例如``rviz_common__pluginlib__plugin``）</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">resource_name</span></code>: 资源的名称通常等于添加资源的包的名称，资源的类型为 resource_type（例如 <code class="docutils literal notranslate"><span class="pre">rviz_default_plugins</span></code>）。</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">ament_index_get_resource</span></code>: 获取特定资源的内容，即 ament 索引中标记文件的内容。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">var</span></code>: 输出参数，如果存在，将填充资源标记文件的内容。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">resource_type</span></code>：资源的类型（例如``rviz_common__pluginlib__plugin``）</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">resource_name</span></code>: 资源的名称通常等于添加资源的包的名称，资源的类型为 resource_type（例如 <code class="docutils literal notranslate"><span class="pre">rviz_default_plugins</span></code>）。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PREFIX_PATH</span></code>: 要搜索的前缀路径（通常，默认的 <code class="docutils literal notranslate"><span class="pre">ament_index_get_prefix_path()</span></code> 就足够了）。</p></li>
</ul>
<p>请注意，如果资源不存在，<code class="docutils literal notranslate"><span class="pre">ament_index_get_resource</span></code> 将抛出错误，因此可能需要使用 <code class="docutils literal notranslate"><span class="pre">ament_index_has_resource</span></code> 进行检查。</p>
<p><code class="docutils literal notranslate"><span class="pre">ament_index_get_resources</span></code>：从索引中获取所有注册了特定类型资源的软件包</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">var</span></code>：输出参数，包含所有注册了指定资源类型的软件包名称列表</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">resource_type</span></code>：资源的类型（例如``rviz_common__pluginlib__plugin``）</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PREFIX_PATH</span></code>: 要搜索的前缀路径（通常，默认的 <code class="docutils literal notranslate"><span class="pre">ament_index_get_prefix_path()</span></code> 就足够了）。</p></li>
</ul>
</div>
<div class="section" id="adding-to-the-ament-index">
<h3><a class="toc-backref" href="#id18">添加到 ament 索引</a><a class="headerlink" href="#adding-to-the-ament-index" title="永久链接至标题"></a></h3>
<p>定义资源需要两个信息：</p>
<ul class="simple">
<li><p>资源的名称必须是唯一的，</p></li>
<li><p>标记文件的布局可以是任意的，也可以是空的（例如，用于标记ROS 2包的“package”资源）</p></li>
</ul>
<p>对于RViz网格资源，对应的选择是：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rviz_ogre_media_exports</span></code> 作为资源的名称，</p></li>
<li><p>安装路径相对于包含资源的所有文件夹的路径。这将使您能够编写使用包中相应资源的逻辑。</p></li>
</ul>
<p>为了让用户能够轻松地为您的软件包注册资源，您还应该提供宏或函数，例如 pluginlib 函数或 <code class="docutils literal notranslate"><span class="pre">rviz_ogre_media_exports</span></code> 函数。</p>
<p>要注册一个资源，请使用 ament 函数 <code class="docutils literal notranslate"><span class="pre">ament_index_register_resource</span></code>。这将在资源索引中创建和安装标记文件。例如，对于 <code class="docutils literal notranslate"><span class="pre">rviz_ogre_media_exports</span></code> 的相应调用如下所示：</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">ament_index_register_resource</span><span class="p">(</span><span class="s">rviz_ogre_media_exports</span><span class="w"> </span><span class="s">CONTENT</span><span class="w"> </span><span class="o">${</span><span class="nv">OGRE_MEDIA_RESOURCE_FILE</span><span class="o">}</span><span class="p">)</span>
</pre></div>
</div>
<p>这将安装一个名为 <code class="docutils literal notranslate"><span class="pre">${PROJECT_NAME}</span></code> 的文件到资源索引中的文件夹 <code class="docutils literal notranslate"><span class="pre">rviz_ogre_media_exports</span></code> 中，其内容由变量 <code class="docutils literal notranslate"><span class="pre">${OGRE_MEDIA_RESOURCE_FILE}</span></code> 提供。该宏有一些可能有用的参数：</p>
<ul class="simple">
<li><p>第一个（无名称）参数是资源的名称，对应于资源索引中文件夹的名称</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONTENT</span></code>: 标记文件的内容作为字符串。这可以是一个相对路径列表等。<code class="docutils literal notranslate"><span class="pre">CONTENT</span></code> 不能与 <code class="docutils literal notranslate"><span class="pre">CONTENT_FILE</span></code> 一起使用。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONTENT_FILE</span></code>: 用于创建标记文件的文件的路径。该文件可以是一个普通文件或使用 <code class="docutils literal notranslate"><span class="pre">configure_file()</span></code> 扩展的模板文件。<code class="docutils literal notranslate"><span class="pre">CONTENT_FILE</span></code> 不能与 <code class="docutils literal notranslate"><span class="pre">CONTENT</span></code> 一起使用。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PACKAGE_NAME</span></code>：导出资源的软件包/库的名称，即标记文件的名称。默认为 <code class="docutils literal notranslate"><span class="pre">${PROJECT_NAME}</span></code>。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AMENT_INDEX_BINARY_DIR</span></code>：生成的ament索引的基路径。除非真的有必要，否则始终使用默认值 <code class="docutils literal notranslate"><span class="pre">${CMAKE_BINARY_DIR}/ament_cmake_index</span></code>。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SKIP_INSTALL</span></code>：跳过安装标记文件。</p></li>
</ul>
<p>由于每个软件包只存在一个标记文件，如果同一项目调用了两次CMake函数/宏，则通常会出现问题。然而，对于大型项目，最好将调用注册资源的操作拆分为多次。</p>
<p>因此，最佳实践是让一个注册资源的宏，例如 <code class="docutils literal notranslate"><span class="pre">register_rviz_ogre_media_exports.cmake</span></code>，仅填充一些变量。然后，在 <code class="docutils literal notranslate"><span class="pre">ament_package</span></code> 的扩展中添加对 <code class="docutils literal notranslate"><span class="pre">ament_index_register_resource</span></code> 的真实调用。由于每个项目只能有一次对 <code class="docutils literal notranslate"><span class="pre">ament_package</span></code> 的调用，因此资源的注册始终只有一个位置。对于 <code class="docutils literal notranslate"><span class="pre">rviz_ogre_media_exports</span></code>，这就是以下策略：</p>
<ul class="simple">
<li><p>宏 <code class="docutils literal notranslate"><span class="pre">register_rviz_ogre_media_exports</span></code> 接受一个文件夹列表，并将它们附加到名为 <code class="docutils literal notranslate"><span class="pre">OGRE_MEDIA_RESOURCE_FILE</span></code> 的变量中。</p></li>
<li><p>另一个名为 <code class="docutils literal notranslate"><span class="pre">register_rviz_ogre_media_exports_hook</span></code> 的宏在 <code class="docutils literal notranslate"><span class="pre">${OGRE_MEDIA_RESOURCE_FILE}</span></code> 非空时调用 <code class="docutils literal notranslate"><span class="pre">ament_index_register_resource</span></code>。</p></li>
<li><p>通过调用，将 <code class="docutils literal notranslate"><span class="pre">register_rviz_ogre_media_exports_hook.cmake</span></code> 文件在第三个文件 <code class="docutils literal notranslate"><span class="pre">register_rviz_ogre_media_exports_hook-extras.cmake</span></code> 中注册为 ament 扩展</p></li>
</ul>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">ament_register_extension</span><span class="p">(</span><span class="s2">&quot;ament_package&quot;</span><span class="w"> </span><span class="s2">&quot;rviz_rendering&quot;</span>
<span class="w">  </span><span class="s2">&quot;register_rviz_ogre_media_exports_hook.cmake&quot;</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p>文件 <code class="docutils literal notranslate"><span class="pre">register_rviz_ogre_media_exports.cmake</span></code> 和 <code class="docutils literal notranslate"><span class="pre">register_rviz_ogre_media_exports_hook-extra.cmake</span></code> 在 <code class="docutils literal notranslate"><span class="pre">ament_package()</span></code> 中被注册为 <code class="docutils literal notranslate"><span class="pre">CONFIG_EXTRA</span></code>。</p></li>
</ul>
</div>
</div>
</div>



           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Developing-a-ROS-2-Package.html" class="btn btn-neutral float-left" title="开发ROS 2软件包" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
        <a href="Ament-CMake-Python-Documentation.html" class="btn btn-neutral float-right" title="ament_cmake_python 用户文档" accesskey="n" rel="next">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2023, Open Robotics.</p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用了 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a>开发.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-EVD5Z6G6NH"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-EVD5Z6G6NH', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>