<!DOCTYPE html>
<html class="writer-html5" lang="zh" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ament_cmake user documentation [待校准@9694] &mdash; ROS 2 Documentation: Humble  文档</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../_static/tabs.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="canonical" href="https://docs.ros.org/en/humble/How-To-Guides/Ament-CMake-Documentation.html" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="ament_cmake_python user documentation [待校准@9847]" href="Ament-CMake-Python-Documentation.html" />
    <link rel="prev" title="Developing a ROS 2 package [待校准@10027]" href="Developing-a-ROS-2-Package.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> ROS 2 Documentation: Humble
            <img src="../_static/humble-small.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="在文档中搜索" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Installation.html">Installation [待校准&#64;57]</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Ubuntu-Install-Debians.html">Ubuntu (Debian) [待校准&#64;513]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Windows-Install-Binary.html">Windows (binary) [待校准&#64;522]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/RHEL-Install-RPMs.html">RHEL (RPM) [待校准&#64;468]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Alternatives.html">Alternatives [待校准&#64;87]</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Installation/Alternatives/Ubuntu-Development-Setup.html">Ubuntu (source) [待校准&#64;167]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/Alternatives/Ubuntu-Install-Binary.html">Ubuntu (binary) [待校准&#64;192]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/Alternatives/Windows-Development-Setup.html">Windows (source) [待校准&#64;199]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/Alternatives/RHEL-Development-Setup.html">RHEL (source) [待校准&#64;103]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/Alternatives/RHEL-Install-Binary.html">RHEL (binary) [待校准&#64;148]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/Alternatives/macOS-Development-Setup.html">macOS (source) [待校准&#64;302]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/Alternatives/Fedora-Development-Setup.html">Fedora (source) [待校准&#64;89]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/Alternatives/Latest-Development-Setup.html">Latest development (source) [待校准&#64;93]</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Maintaining-a-Source-Checkout.html">Maintain source checkout [待校准&#64;449]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Testing.html">Testing with pre-release binaries [待校准&#64;487]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/DDS-Implementations.html">DDS implementations [待校准&#64;331]</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Installation/DDS-Implementations/Install-Connext-Security-Plugins.html">Connext security plugins [待校准&#64;381]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/DDS-Implementations/Install-Connext-University-Eval.html">RTI Connext DDS [待校准&#64;395]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/DDS-Implementations/Working-with-Eclipse-CycloneDDS.html">Eclipse Cyclone DDS [待校准&#64;407]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/DDS-Implementations/Working-with-GurumNetworks-GurumDDS.html">GurumNetworks GurumDDS [待校准&#64;423]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/DDS-Implementations/Working-with-eProsima-Fast-DDS.html">eProsima Fast DDS [待校准&#64;442]</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Releases.html">Distributions [待校准&#64;548]</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Iron-Irwini.html">Iron Irwini (<code class="docutils literal notranslate"><span class="pre">iron</span></code>) [待校准&#64;7633]</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Releases/Iron-Irwini-Complete-Changelog.html">Iron Irwini Changelog [待校准&#64;5006]</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Humble-Hawksbill.html">Humble Hawksbill (<code class="docutils literal notranslate"><span class="pre">humble</span></code>) [待校准&#64;7413]</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Releases/Humble-Hawksbill-Complete-Changelog.html">Humble Hawksbill changelog [待校准&#64;3416]</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Foxy-Fitzroy.html">Foxy Fitzroy (<code class="docutils literal notranslate"><span class="pre">foxy</span></code>) [待校准&#64;7053]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Rolling-Ridley.html">Rolling Ridley (<code class="docutils literal notranslate"><span class="pre">rolling</span></code>) [待校准&#64;7964]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Development.html">Development Distribution [待校准&#64;793]</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Releases/Release-Jazzy-Jalisco.html">Jazzy Jalisco (codename 'jazzy'; May, 2024) [待校准&#64;7901]</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/End-of-Life.html">End-of-Life Distributions [待校准&#64;795]</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Releases/Release-Galactic-Geochelone.html">Galactic Geochelone (<code class="docutils literal notranslate"><span class="pre">galactic</span></code>) [待校准&#64;7215]</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Releases/Galactic-Geochelone-Complete-Changelog.html">Galactic Geochelone changelog [待校准&#64;797]</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Releases/Release-Eloquent-Elusor.html">Eloquent Elusor (<code class="docutils literal notranslate"><span class="pre">eloquent</span></code>) [待校准&#64;6977]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Releases/Release-Dashing-Diademata.html">Dashing Diademata (<code class="docutils literal notranslate"><span class="pre">dashing</span></code>) [待校准&#64;6787]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Releases/Release-Crystal-Clemmys.html">Crystal Clemmys (<code class="docutils literal notranslate"><span class="pre">crystal</span></code>) [待校准&#64;6708]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Releases/Release-Bouncy-Bolson.html">Bouncy Bolson (<code class="docutils literal notranslate"><span class="pre">bouncy</span></code>) [待校准&#64;6680]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Releases/Release-Ardent-Apalone.html">Ardent Apalone (<code class="docutils literal notranslate"><span class="pre">ardent</span></code>) [待校准&#64;6639]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Releases/Beta3-Overview.html">Beta 3 (<code class="docutils literal notranslate"><span class="pre">r2b3</span></code>) [待校准&#64;774]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Releases/Beta2-Overview.html">Beta 2 (<code class="docutils literal notranslate"><span class="pre">r2b2</span></code>) [待校准&#64;743]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Releases/Beta1-Overview.html">Beta 1 (<code class="docutils literal notranslate"><span class="pre">Asphalt</span></code>) [待校准&#64;709]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Releases/Alpha-Overview.html">Alphas [待校准&#64;629]</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Process.html">Development process for a release [待校准&#64;7907]</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Tutorials.html">Tutorials [待校准&#64;11819]</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Beginner-CLI-Tools.html">Beginner: CLI tools [待校准&#64;12708]</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-CLI-Tools/Configuring-ROS2-Environment.html">Configuring environment [待校准&#64;12709]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-CLI-Tools/Introducing-Turtlesim/Introducing-Turtlesim.html">Using <code class="docutils literal notranslate"><span class="pre">turtlesim</span></code>, <code class="docutils literal notranslate"><span class="pre">ros2</span></code>, and <code class="docutils literal notranslate"><span class="pre">rqt</span></code> [待校准&#64;12741]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-CLI-Tools/Understanding-ROS2-Nodes/Understanding-ROS2-Nodes.html">Understanding nodes [待校准&#64;12924]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-CLI-Tools/Understanding-ROS2-Topics/Understanding-ROS2-Topics.html">Understanding topics [待校准&#64;13038]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-CLI-Tools/Understanding-ROS2-Services/Understanding-ROS2-Services.html">Understanding services [待校准&#64;12998]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-CLI-Tools/Understanding-ROS2-Parameters/Understanding-ROS2-Parameters.html">Understanding parameters [待校准&#64;12960]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-CLI-Tools/Understanding-ROS2-Actions/Understanding-ROS2-Actions.html">Understanding actions [待校准&#64;12873]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-CLI-Tools/Using-Rqt-Console/Using-Rqt-Console.html">Using <code class="docutils literal notranslate"><span class="pre">rqt_console</span></code> to view logs [待校准&#64;13097]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-CLI-Tools/Launching-Multiple-Nodes/Launching-Multiple-Nodes.html">Launching nodes [待校准&#64;12803]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-CLI-Tools/Recording-And-Playing-Back-Data/Recording-And-Playing-Back-Data.html">Recording and playing back data [待校准&#64;12824]</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries.html">Beginner: Client libraries [待校准&#64;13127]</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Colcon-Tutorial.html">Using <code class="docutils literal notranslate"><span class="pre">colcon</span></code> to build packages [待校准&#64;13128]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Creating-A-Workspace/Creating-A-Workspace.html">Creating a workspace [待校准&#64;13188]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Creating-Your-First-ROS2-Package.html">Creating a package [待校准&#64;13256]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Writing-A-Simple-Cpp-Publisher-And-Subscriber.html">Writing a simple publisher and subscriber (C++) [待校准&#64;13592]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Writing-A-Simple-Py-Publisher-And-Subscriber.html">Writing a simple publisher and subscriber (Python) [待校准&#64;13685]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Writing-A-Simple-Cpp-Service-And-Client.html">Writing a simple service and client (C++) [待校准&#64;13647]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Writing-A-Simple-Py-Service-And-Client.html">Writing a simple service and client (Python) [待校准&#64;13724]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Custom-ROS2-Interfaces.html">Creating custom msg and srv files [待校准&#64;13319]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Single-Package-Define-And-Use-Interface.html">Implementing custom interfaces [待校准&#64;13463]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Using-Parameters-In-A-Class-CPP.html">Using parameters in a class (C++) [待校准&#64;13531]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Using-Parameters-In-A-Class-Python.html">Using parameters in a class (Python) [待校准&#64;13572]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Getting-Started-With-Ros2doctor.html">Using <code class="docutils literal notranslate"><span class="pre">ros2doctor</span></code> to identify issues [待校准&#64;13375]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Pluginlib.html">Creating and using plugins (C++) [待校准&#64;13415]</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Intermediate.html">Intermediate [待校准&#64;14043]</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Intermediate/Rosdep.html">Managing Dependencies with rosdep [待校准&#64;14387]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Intermediate/Creating-an-Action.html">Creating an action [待校准&#64;14118]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Intermediate/Writing-an-Action-Server-Client/Cpp.html">Writing an action server and client (C++) [待校准&#64;15068]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Intermediate/Writing-an-Action-Server-Client/Py.html">Writing an action server and client (Python) [待校准&#64;15139]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Intermediate/Composition.html">Composing multiple nodes in a single process [待校准&#64;14044]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Intermediate/Monitoring-For-Parameter-Changes-CPP.html">Monitoring for parameter changes (C++) [待校准&#64;14353]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Intermediate/Launch/Launch-Main.html">Launch [待校准&#64;14186]</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Launch/Creating-Launch-Files.html">Creating a launch file [待校准&#64;14148]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Launch/Launch-system.html">Integrating launch files into ROS 2 packages [待校准&#64;14199]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Launch/Using-Substitutions.html">Using substitutions [待校准&#64;14323]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Launch/Using-Event-Handlers.html">Using event handlers [待校准&#64;14227]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Launch/Using-ROS2-Launch-For-Large-Projects.html">Managing large projects [待校准&#64;14261]</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Tf2-Main.html"><code class="docutils literal notranslate"><span class="pre">tf2</span></code> [待校准&#64;14657]</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Introduction-To-Tf2.html">Introducing <code class="docutils literal notranslate"><span class="pre">tf2</span></code> [待校准&#64;14573]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Writing-A-Tf2-Static-Broadcaster-Py.html">Writing a static broadcaster (Python) [待校准&#64;14862]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Writing-A-Tf2-Static-Broadcaster-Cpp.html">Writing a static broadcaster (C++) [待校准&#64;14825]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Writing-A-Tf2-Broadcaster-Py.html">Writing a broadcaster (Python) [待校准&#64;14788]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Writing-A-Tf2-Broadcaster-Cpp.html">Writing a broadcaster (C++) [待校准&#64;14757]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Writing-A-Tf2-Listener-Py.html">Writing a listener (Python) [待校准&#64;14819]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Writing-A-Tf2-Listener-Cpp.html">Writing a listener (C++) [待校准&#64;14798]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Adding-A-Frame-Py.html">Adding a frame (Python) [待校准&#64;14522]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Adding-A-Frame-Cpp.html">Adding a frame (C++) [待校准&#64;14479]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Learning-About-Tf2-And-Time-Py.html">Using time (Python) [待校准&#64;14620]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Learning-About-Tf2-And-Time-Cpp.html">Using time (C++) [待校准&#64;14600]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Time-Travel-With-Tf2-Py.html">Traveling in time (Python) [待校准&#64;14709]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Time-Travel-With-Tf2-Cpp.html">Traveling in time (C++) [待校准&#64;14684]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Debugging-Tf2-Problems.html">Debugging [待校准&#64;14535]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Quaternion-Fundamentals.html">Quaternion fundamentals [待校准&#64;14634]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Using-Stamped-Datatypes-With-Tf2-Ros-MessageFilter.html">Using stamped datatypes with <code class="docutils literal notranslate"><span class="pre">tf2_ros::MessageFilter</span></code> [待校准&#64;14717]</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Intermediate/Testing/Testing-Main.html">Testing [待校准&#64;14461]</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Testing/CLI.html">Running Tests in ROS 2 from the Command Line [待校准&#64;14427]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Testing/Cpp.html">Writing Basic Tests with C++ with GTest [待校准&#64;14435]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Testing/Python.html">Writing Basic Tests with Python [待校准&#64;14447]</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Intermediate/URDF/URDF-Main.html">URDF [待校准&#64;14991]</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/URDF/Building-a-Visual-Robot-Model-with-URDF-from-Scratch.html">Building a visual robot model from scratch [待校准&#64;14942]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/URDF/Building-a-Movable-Robot-Model-with-URDF.html">Building a movable robot model [待校准&#64;14920]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/URDF/Adding-Physical-and-Collision-Properties-to-a-URDF-Model.html">Adding physical and collision properties [待校准&#64;14873]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/URDF/Using-Xacro-to-Clean-Up-a-URDF-File.html">Using Xacro to clean up your code [待校准&#64;15019]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/URDF/Using-URDF-with-Robot-State-Publisher.html">Using URDF with <code class="docutils literal notranslate"><span class="pre">robot_state_publisher</span></code> [待校准&#64;14993]</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Advanced.html">Advanced [待校准&#64;11825]</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Advanced/Topic-Statistics-Tutorial/Topic-Statistics-Tutorial.html">Enabling topic statistics (C++) [待校准&#64;12648]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Advanced/Discovery-Server/Discovery-Server.html">Using Fast DDS Discovery Server as discovery protocol [community-contributed] [待校准&#64;11871]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Advanced/Allocator-Template-Tutorial.html">Implementing a custom memory allocator [待校准&#64;11826]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Advanced/FastDDS-Configuration.html">Unlocking the potential of Fast DDS middleware [community-contributed] [待校准&#64;11958]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Advanced/Recording-A-Bag-From-Your-Own-Node-CPP.html">Recording a bag from a node (C++) [待校准&#64;12035]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Advanced/Recording-A-Bag-From-Your-Own-Node-Py.html">Recording a bag from a node (Python) [待校准&#64;12115]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Advanced/Simulators/Simulation-Main.html">Simulators [待校准&#64;12418]</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Advanced/Simulators/Webots/Simulation-Webots.html">Webots [待校准&#64;12646]</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../Tutorials/Advanced/Simulators/Webots/Installation-Ubuntu.html">Installation (Ubuntu) [待校准&#64;12476]</a></li>
<li class="toctree-l5"><a class="reference internal" href="../Tutorials/Advanced/Simulators/Webots/Installation-Windows.html">Installation (Windows) [待校准&#64;12493]</a></li>
<li class="toctree-l5"><a class="reference internal" href="../Tutorials/Advanced/Simulators/Webots/Installation-MacOS.html">Installation (macOS) [待校准&#64;12421]</a></li>
<li class="toctree-l5"><a class="reference internal" href="../Tutorials/Advanced/Simulators/Webots/Setting-Up-Simulation-Webots-Basic.html">Setting up a robot simulation (Basic) [待校准&#64;12561]</a></li>
<li class="toctree-l5"><a class="reference internal" href="../Tutorials/Advanced/Simulators/Webots/Setting-Up-Simulation-Webots-Advanced.html">Setting up a robot simulation (Advanced) [待校准&#64;12524]</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Advanced/Simulators/Gazebo/Simulation-Gazebo.html"><code class="xref any docutils literal notranslate"><span class="pre">Gazebo</span></code> 是一个用于仿真机器人的开源三维仿真环境。它提供了一个模拟的物理引擎、渲染引擎和碰撞检测引擎，能够模拟真实世界中的物体和环境。Gazebo 还支持传感器模拟，例如摄像头和激光传感器。它可以与 ROS 2 无缝集成，使开发者能够在仿真环境中测试和验证他们的机器人控制算法。 [&#64;12416]</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../Tutorials/Advanced/Simulators/Gazebo/Gazebo.html">Setting up a robot simulation (Gazebo) [待校准&#64;12388]</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Advanced/Security/Security-Main.html">Security [待校准&#64;12314]</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Advanced/Security/Introducing-ros2-security.html">Setting up security [待校准&#64;12265]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Advanced/Security/The-Keystore.html">Understanding the security keystore [待校准&#64;12331]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Advanced/Security/Security-on-Two.html">Ensuring security across machines [待校准&#64;12315]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Advanced/Security/Examine-Traffic.html">Examining network traffic [待校准&#64;12230]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Advanced/Security/Access-Controls.html">Setting access controls [待校准&#64;12143]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Advanced/Security/Deployment-Guidelines.html">Deployment Guidelines [待校准&#64;12166]</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Demos.html">Demos [待校准&#64;13752]</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Demos/Quality-of-Service.html">Using quality-of-service settings for lossy networks [待校准&#64;13907]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Demos/Managed-Nodes.html">Managing nodes with managed lifecycles [待校准&#64;13905]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Demos/Intra-Process-Communication.html">Setting up efficient intra-process communication [待校准&#64;13795]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Demos/Rosbag-with-ROS1-Bridge.html">Recording and playing back data with <code class="docutils literal notranslate"><span class="pre">rosbag</span></code> using the ROS 1 bridge [待校准&#64;13998]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Demos/Real-Time-Programming.html">Understanding real-time programming [待校准&#64;13935]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Demos/dummy-robot-demo.html">Experimenting with a dummy robot [待校准&#64;14025]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Demos/Logging-and-logger-configuration.html">Logging [待校准&#64;13844]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Demos/Content-Filtering-Subscription.html">Creating a content filtering subscription [待校准&#64;13761]</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Miscellaneous.html">Miscellaneous [待校准&#64;15199]</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Miscellaneous/Deploying-ROS-2-on-IBM-Cloud.html">Deploying on IBM Cloud Kubernetes [community-contributed] [待校准&#64;15248]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Miscellaneous/Eclipse-Oxygen-with-ROS-2-and-rviz2.html">Using Eclipse Oxygen with <code class="docutils literal notranslate"><span class="pre">rviz2</span></code> [community-contributed] [待校准&#64;15335]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Miscellaneous/Building-Realtime-rt_preempt-kernel-for-ROS-2.html">Building a real-time Linux kernel [community-contributed] [待校准&#64;15228]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Miscellaneous/Building-ROS2-Package-with-eclipse-2021-06.html">Building a package with Eclipse 2021-06 [待校准&#64;15200]</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../How-To-Guides.html">How-to Guides [待校准&#64;9690]</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Installation-Troubleshooting.html">Installation troubleshooting [待校准&#64;10060]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Developing-a-ROS-2-Package.html">Developing a ROS 2 package [待校准&#64;10027]</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">ament_cmake user documentation [待校准&#64;9694]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Ament-CMake-Python-Documentation.html">ament_cmake_python user documentation [待校准&#64;9847]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Launch-files-migration-guide.html">Migrating launch files from ROS 1 to ROS 2 [待校准&#64;10180]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Launch-file-different-formats.html">Using Python, XML, and YAML for ROS 2 Launch Files [待校准&#64;10153]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Launching-composable-nodes.html">Using ROS 2 launch to launch composable nodes [待校准&#64;10276]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Parameters-YAML-files-migration-guide.html">Migrating YAML parameter files from ROS 1 to ROS 2 [待校准&#64;10394]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Node-arguments.html">Passing ROS arguments to nodes via the command-line [待校准&#64;10292]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Sync-Vs-Async.html">Synchronous vs. asynchronous service clients [待校准&#64;10676]</a></li>
<li class="toctree-l2"><a class="reference internal" href="DDS-tuning.html">DDS tuning information [待校准&#64;9983]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Overriding-QoS-Policies-For-Recording-And-Playback.html">rosbag2: Overriding QoS Policies [待校准&#64;10316]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Working-with-multiple-RMW-implementations.html">Working with multiple ROS 2 middleware implementations [待校准&#64;10916]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Cross-compilation.html">Cross-compilation [待校准&#64;9896]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Releasing/Releasing-a-Package.html">Releasing a Package [待校准&#64;10617]</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Releasing/First-Time-Release.html">First Time Release [待校准&#64;10481]</a></li>
<li class="toctree-l3"><a class="reference internal" href="Releasing/Subsequent-Releases.html">Subsequent Releases [待校准&#64;10627]</a></li>
<li class="toctree-l3"><a class="reference internal" href="Releasing/Release-Team-Repository.html">Release Team / Repository [待校准&#64;10555]</a></li>
<li class="toctree-l3"><a class="reference internal" href="Releasing/Release-Track.html">Release Track [待校准&#64;10576]</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Using-Python-Packages.html">Using Python Packages with ROS 2 [待校准&#64;10716]</a></li>
<li class="toctree-l2"><a class="reference internal" href="RQt-Port-Plugin-Windows.html">Porting RQt plugins to Windows [待校准&#64;10406]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Run-2-nodes-in-single-or-separate-docker-containers.html">Running ROS 2 nodes in Docker [community-contributed] [待校准&#64;10635]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Visualizing-ROS-2-Data-With-Foxglove-Studio.html">Visualizing ROS 2 data with Foxglove Studio [待校准&#64;10852]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Package-maintainer-guide.html">ROS 2 Package Maintainer Guide [待校准&#64;10328]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Building-a-Custom-Debian-Package.html">Building a custom Debian package [待校准&#64;9885]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Building-ROS-2-with-Tracing-Instrumentation.html">Building ROS 2 with tracing instrumentation [待校准&#64;9864]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Topics-Services-Actions.html">Topics vs Services vs Actions [待校准&#64;10702]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Using-Variants.html">Using variants [待校准&#64;10736]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Using-ros2-param.html">Using the <code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">param</span></code> command-line tool [待校准&#64;10828]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Using-ros1_bridge-Jammy-upstream.html">Using <code class="docutils literal notranslate"><span class="pre">ros1_bridge</span></code> with upstream ROS on Ubuntu 22.04 [待校准&#64;10811]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Disabling-ZeroCopy-loaned-messages.html">Disabling Zero Copy Loaned Messages [待校准&#64;10050]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Installing-on-Raspberry-Pi.html">ROS 2 on Raspberry Pi [待校准&#64;10133]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Using-callback-groups.html">Using Callback Groups [待校准&#64;10751]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Setup-ROS-2-with-VSCode-and-Docker-Container.html">Setup ROS 2 with VSCode and Docker [community-contributed] [待校准&#64;10648]</a></li>
<li class="toctree-l2"><a class="reference internal" href="RQt-Source-Install.html">Building RQt from source [待校准&#64;10427]</a><ul>
<li class="toctree-l3"><a class="reference internal" href="RQt-Source-Install-MacOS.html">Building RQt from source on macOS [待校准&#64;10452]</a></li>
<li class="toctree-l3"><a class="reference internal" href="RQt-Source-Install-Windows10.html">Building RQt from source on Windows 10 [待校准&#64;10460]</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Concepts.html">Concepts [待校准&#64;10972]</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Domain-ID.html">The ROS_DOMAIN_ID [待校准&#64;11227]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Different-Middleware-Vendors.html">About different ROS 2 DDS/RTPS vendors [待校准&#64;11188]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Logging.html">About logging and logger configuration [待校准&#64;11359]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Quality-of-Service-Settings.html">About Quality of Service settings [待校准&#64;11467]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-ROS-2-Client-Libraries.html">About ROS 2 client libraries [待校准&#64;11557]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-ROS-Interfaces.html">About ROS 2 interfaces [待校准&#64;11636]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-ROS-2-Parameters.html">About parameters in ROS 2 [待校准&#64;11600]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Executors.html">Executors [待校准&#64;11260]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Topic-Statistics.html">About topic statistics [待校准&#64;11800]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Command-Line-Tools.html">Introspection with command line tools [待校准&#64;11118]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-RQt.html">Overview and usage of RQt [待校准&#64;11735]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Composition.html">About Composition [待校准&#64;11151]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Catment.html">On the mixing of ament and catkin (catment) [待校准&#64;11058]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Cross-Compilation.html">About Cross-compilation [待校准&#64;11173]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Security.html">About ROS 2 Security [待校准&#64;11762]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Tf2.html">About tf2 [待校准&#64;11782]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Build-System.html">About the build system [待校准&#64;11008]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Internal-Interfaces.html">About internal ROS 2 interfaces [待校准&#64;11300]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Middleware-Implementations.html">About ROS 2 middleware implementations [待校准&#64;11445]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-ROS-2-Client-Libraries.html">About ROS 2 client libraries [待校准&#64;11557]</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Contact.html">Contact [待校准&#64;15448]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../The-ROS2-Project.html">The ROS 2 Project [待校准&#64;7973]</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../The-ROS2-Project/Contributing.html">Contributing [待校准&#64;7975]</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../The-ROS2-Project/Contributing/Developer-Guide.html">ROS 2 developer guide [待校准&#64;8291]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../The-ROS2-Project/Contributing/Code-Style-Language-Versions.html">Code style and language versions [待校准&#64;8062]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../The-ROS2-Project/Contributing/Quality-Guide.html">Quality guide: ensuring code quality [待校准&#64;8878]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../The-ROS2-Project/Contributing/Migration-Guide.html">Migration guide from ROS 1 [待校准&#64;8646]</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../The-ROS2-Project/Contributing/Migration-Guide-Python.html">Python migration guide from ROS 1 [待校准&#64;8869]</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../The-ROS2-Project/Contributing/Build-Farms.html">ROS Build Farms [待校准&#64;8014]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../The-ROS2-Project/Contributing/Windows-Tips-and-Tricks.html">Windows Tips and Tricks [待校准&#64;8970]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../The-ROS2-Project/Contributing/Contributing-To-ROS-2-Documentation.html">Contributing to ROS 2 Documentation [待校准&#64;8219]</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../The-ROS2-Project/Features.html">Features Status [待校准&#64;9093]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../The-ROS2-Project/Feature-Ideas.html">Feature Ideas [待校准&#64;9007]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../The-ROS2-Project/Roadmap.html">Roadmap [待校准&#64;9640]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../The-ROS2-Project/ROSCon-Content.html">ROSCon Talks [待校准&#64;9431]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../The-ROS2-Project/Governance.html">Project Governance [待校准&#64;9152]</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../The-ROS2-Project/Governance/ROS2-TSC-Charter.html">ROS 2 Technical Steering Committee Charter [待校准&#64;9275]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../The-ROS2-Project/Governance/ROS2-TSC-Intake-process.html">ROS 2 TSC applicant intake process [待校准&#64;9364]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../The-ROS2-Project/Governance/How-To-Start-A-Community-Working-Group.html">How to Start a Community Working Group [待校准&#64;9248]</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../The-ROS2-Project/Marketing.html">Marketing [待校准&#64;9415]</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../API-Docs.html">API Documentation [待校准&#64;10948]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Related-Projects.html">相关项目 [&#64;1]</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Related-Projects/Intel-ROS2-Projects.html">Intel ROS 2 Projects [待校准&#64;14]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Related-Projects/Nvidia-ROS2-Projects.html">NVIDIA ROS 2 Projects [待校准&#64;32]</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Glossary.html">Glossary [待校准&#64;10956]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Citations.html">Citations [待校准&#64;15376]</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ROS 2 Documentation: Humble</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../How-To-Guides.html">How-to Guides [待校准&#64;9690]</a> &raquo;</li>
      <li>ament_cmake user documentation [待校准&#64;9694]</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/ros2/ros2_documentation/blob/humble/source/How-To-Guides/Ament-CMake-Documentation.rst" class="fa fa-github"> 在 GitHub 上修改</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             


  <div class="section" id="ament-cmake-user-documentation">
<h1>ament_cmake user documentation <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9694">[待校准&#64;9694]</a><a class="headerlink" href="#ament-cmake-user-documentation" title="永久链接至标题"></a></h1>
<p>ament_cmake is the build system for CMake based packages in ROS 2 (in particular, it will be used for most if not all C/C++ projects). It is a set of scripts enhancing CMake and adding convenience functionality for package authors. Knowing the basics of <a class="reference external" href="https://cmake.org/cmake/help/v3.5/">CMake</a> will be very helpful, an official tutorial can be found <a class="reference external" href="https://cmake.org/cmake/help/latest/guide/tutorial/index.html">here</a>. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9695">[待校准&#64;9695]</a></p>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title">Table of Contents <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9696">[待校准&#64;9696]</a></p>
<ul class="simple">
<li><p><a class="reference internal" href="#basics" id="id1">Basics [待校准&#64;9697]</a></p>
<ul>
<li><p><a class="reference internal" href="#basic-project-outline" id="id2">Basic project outline [待校准&#64;9699]</a></p></li>
<li><p><a class="reference internal" href="#adding-files-and-headers" id="id3">Adding files and headers [待校准&#64;9711]</a></p></li>
<li><p><a class="reference internal" href="#adding-dependencies" id="id4">Adding Dependencies [待校准&#64;9720]</a></p></li>
<li><p><a class="reference internal" href="#building-a-library" id="id5">Building a Library [待校准&#64;9729]</a></p></li>
<li><p><a class="reference internal" href="#compiler-and-linker-options" id="id6">Compiler and linker options [待校准&#64;9745]</a></p></li>
<li><p><a class="reference internal" href="#building-libraries-on-windows" id="id7">Building libraries on Windows [待校准&#64;9753]</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#testing-and-linting" id="id8">Testing and Linting [待校准&#64;9761]</a></p>
<ul>
<li><p><a class="reference internal" href="#linting" id="id9">Linting [待校准&#64;9763]</a></p></li>
<li><p><a class="reference internal" href="#testing" id="id10">Testing [待校准&#64;9767]</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#extending-ament" id="id11">Extending ament [待校准&#64;9780]</a></p>
<ul>
<li><p><a class="reference internal" href="#adding-a-function-macro-to-ament" id="id12">Adding a function/macro to ament [待校准&#64;9782]</a></p></li>
<li><p><a class="reference internal" href="#adding-to-extension-points" id="id13">Adding to extension points [待校准&#64;9786]</a></p></li>
<li><p><a class="reference internal" href="#adding-extension-points" id="id14">Adding extension points [待校准&#64;9796]</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#adding-resources" id="id15">Adding resources [待校准&#64;9802]</a></p>
<ul>
<li><p><a class="reference internal" href="#the-ament-index-explained" id="id16">The ament index explained [待校准&#64;9805]</a></p></li>
<li><p><a class="reference internal" href="#querying-the-ament-index" id="id17">Querying the ament index [待校准&#64;9813]</a></p></li>
<li><p><a class="reference internal" href="#adding-to-the-ament-index" id="id18">Adding to the ament index [待校准&#64;9825]</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="basics">
<h2>Basics <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9697">[待校准&#64;9697]</a><a class="headerlink" href="#basics" title="永久链接至标题"></a></h2>
<p>A basic CMake outline can be produced using <code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">pkg</span> <span class="pre">create</span> <span class="pre">&lt;package_name&gt;</span></code> on the command line. The basic build information is then gathered in two files: the <code class="docutils literal notranslate"><span class="pre">package.xml</span></code> and the <code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code>. The <code class="docutils literal notranslate"><span class="pre">package.xml</span></code> must contain all dependencies and a bit of metadata to allow colcon to find the correct build order for your packages, to install the required dependencies in CI as well as provide the information for a release with <code class="docutils literal notranslate"><span class="pre">bloom</span></code>. The <code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code> contains the commands to build and package executables and libraries and will be the main focus of this document. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9698">[待校准&#64;9698]</a></p>
<div class="section" id="basic-project-outline">
<h3>Basic project outline <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9699">[待校准&#64;9699]</a><a class="headerlink" href="#basic-project-outline" title="永久链接至标题"></a></h3>
<p>The basic outline of the <code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code> of an ament package contains: <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9700">[待校准&#64;9700]</a></p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">cmake_minimum_required</span><span class="p">(</span><span class="s">VERSION</span><span class="w"> </span><span class="s">3.5</span><span class="p">)</span>
<span class="nb">project</span><span class="p">(</span><span class="s">my_project</span><span class="p">)</span>

<span class="nb">ament_package</span><span class="p">()</span>
</pre></div>
</div>
<p>The argument to <code class="docutils literal notranslate"><span class="pre">project</span></code> will be the package name and must be identical to the package name in the <code class="docutils literal notranslate"><span class="pre">package.xml</span></code>. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9701">[待校准&#64;9701]</a></p>
<p>The project setup is done by <code class="docutils literal notranslate"><span class="pre">ament_package()</span></code> and this call must occur exactly once per package. <code class="docutils literal notranslate"><span class="pre">ament_package()</span></code> installs the <code class="docutils literal notranslate"><span class="pre">package.xml</span></code>, registers the package with the ament index, and installs config (and possibly target) files for CMake so that it can be found by other packages using <code class="docutils literal notranslate"><span class="pre">find_package</span></code>. Since <code class="docutils literal notranslate"><span class="pre">ament_package()</span></code> gathers a lot of information from the <code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code> it should be the last call in your <code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code>. Although it is possible to follow calls to <code class="docutils literal notranslate"><span class="pre">ament_package()</span></code> by calls to <code class="docutils literal notranslate"><span class="pre">install</span></code> functions copying files and directories, it is simpler to just keep <code class="docutils literal notranslate"><span class="pre">ament_package()</span></code> the last call. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9702">[待校准&#64;9702]</a></p>
<p><code class="docutils literal notranslate"><span class="pre">ament_package</span></code> can be given additional arguments: <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9703">[待校准&#64;9703]</a></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_EXTRAS</span></code>: a list of CMake files (<code class="docutils literal notranslate"><span class="pre">.cmake</span></code> or <code class="docutils literal notranslate"><span class="pre">.cmake.in</span></code> templates expanded by <code class="docutils literal notranslate"><span class="pre">configure_file()</span></code>) which should be available to clients of the package. For an example of when to use these arguments, see the discussion in <a class="reference internal" href="#adding-resources">Adding resources</a>. For more information on how to use template files, see <a class="reference external" href="https://cmake.org/cmake/help/v3.5/command/configure_file.html">the official documentation</a>. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9704">[待校准&#64;9704]</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_EXTRAS_POST</span></code>: same as <code class="docutils literal notranslate"><span class="pre">CONFIG_EXTRAS</span></code>, but the order in which the files are added differs. While <code class="docutils literal notranslate"><span class="pre">CONFIG_EXTRAS</span></code> files are included before the files generated for the <code class="docutils literal notranslate"><span class="pre">ament_export_*</span></code> calls the files from <code class="docutils literal notranslate"><span class="pre">CONFIG_EXTRAS_POST</span></code> are included afterwards. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9705">[待校准&#64;9705]</a></p></li>
</ul>
<p>Instead of adding to <code class="docutils literal notranslate"><span class="pre">ament_package</span></code>, you can also add to the variable <code class="docutils literal notranslate"><span class="pre">${PROJECT_NAME}_CONFIG_EXTRAS</span></code> and <code class="docutils literal notranslate"><span class="pre">${PROJECT_NAME}_CONFIG_EXTRAS_POST</span></code> with the same effect. The only difference is again the order in which the files are added with the following total order: <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9706">[待校准&#64;9706]</a></p>
<ul class="simple">
<li><p>files added by <code class="docutils literal notranslate"><span class="pre">CONFIG_EXTRAS</span></code> <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9707">[待校准&#64;9707]</a></p></li>
<li><p>files added by appending to <code class="docutils literal notranslate"><span class="pre">${PROJECT_NAME}_CONFIG_EXTRAS</span></code> <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9708">[待校准&#64;9708]</a></p></li>
<li><p>files added by appending to <code class="docutils literal notranslate"><span class="pre">${PROJECT_NAME}_CONFIG_EXTRAS_POST</span></code> <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9709">[待校准&#64;9709]</a></p></li>
<li><p>files added by <code class="docutils literal notranslate"><span class="pre">CONFIG_EXTRAS_POST</span></code> <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9710">[待校准&#64;9710]</a></p></li>
</ul>
</div>
<div class="section" id="adding-files-and-headers">
<h3>Adding files and headers <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9711">[待校准&#64;9711]</a><a class="headerlink" href="#adding-files-and-headers" title="永久链接至标题"></a></h3>
<p>There are two main targets to build: libraries and executables which are built by <code class="docutils literal notranslate"><span class="pre">add_library</span></code> and <code class="docutils literal notranslate"><span class="pre">add_executable</span></code> respectively. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9712">[待校准&#64;9712]</a></p>
<p>With the separation of header files and implementation in C/C++, it is not always necessary to add both files as argument to <code class="docutils literal notranslate"><span class="pre">add_library</span></code>/ <code class="docutils literal notranslate"><span class="pre">add_executable</span></code>. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9713">[待校准&#64;9713]</a></p>
<p>The following best practice is proposed: <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9714">[待校准&#64;9714]</a></p>
<ul class="simple">
<li><p>if you are building a library, put all headers which should be usable by clients and therefore must be installed into a subdirectory of the <code class="docutils literal notranslate"><span class="pre">include</span></code> folder named like the package, while all other files (<code class="docutils literal notranslate"><span class="pre">.c/.cpp</span></code> and header files which should not be exported) are inside the <code class="docutils literal notranslate"><span class="pre">src</span></code> folder. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9715">[待校准&#64;9715]</a></p></li>
<li><p>only cpp files are explicitly referenced in the call to <code class="docutils literal notranslate"><span class="pre">add_library</span></code> or <code class="docutils literal notranslate"><span class="pre">add_executable</span></code> <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9716">[待校准&#64;9716]</a></p></li>
<li><p>allow to find headers via <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9717">[待校准&#64;9717]</a></p></li>
</ul>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">target_include_directories</span><span class="p">(</span><span class="s">my_target</span>
<span class="w">  </span><span class="s">PUBLIC</span>
<span class="w">    </span><span class="o">$&lt;</span><span class="nv">BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/include</span><span class="o">&gt;</span>
<span class="w">    </span><span class="o">$&lt;</span><span class="nv">INSTALL_INTERFACE:include</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
<p>This adds all files in the folder <code class="docutils literal notranslate"><span class="pre">${CMAKE_CURRENT_SOURCE_DIR}/include</span></code> to the public interface during build time and all files in the include folder (relative to <code class="docutils literal notranslate"><span class="pre">${CMAKE_INSTALL_DIR}</span></code>) when being installed. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9718">[待校准&#64;9718]</a></p>
<p>In principle, using generator expressions here is not necessary if both folders are called <code class="docutils literal notranslate"><span class="pre">include</span></code> and top-level with respect to <code class="docutils literal notranslate"><span class="pre">${CMAKE_CURRENT_SOURCE_DIR}</span></code> and <code class="docutils literal notranslate"><span class="pre">${CMAKE_INSTALL_DIR}</span></code>, but it is very common. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9719">[待校准&#64;9719]</a></p>
</div>
<div class="section" id="adding-dependencies">
<h3>Adding Dependencies <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9720">[待校准&#64;9720]</a><a class="headerlink" href="#adding-dependencies" title="永久链接至标题"></a></h3>
<p>There are two ways to link your packages against a new dependency. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9721">[待校准&#64;9721]</a></p>
<p>The first and recommended way is to use the ament macro <code class="docutils literal notranslate"><span class="pre">ament_target_dependencies</span></code>. As an example, suppose we want to link <code class="docutils literal notranslate"><span class="pre">my_target</span></code> against the linear algebra library Eigen3. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9722">[待校准&#64;9722]</a></p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">find_package</span><span class="p">(</span><span class="s">Eigen3</span><span class="w"> </span><span class="s">REQUIRED</span><span class="p">)</span>
<span class="nb">ament_target_dependencies</span><span class="p">(</span><span class="s">my_target</span><span class="w"> </span><span class="s">Eigen3</span><span class="p">)</span>
</pre></div>
</div>
<p>It includes the necessary headers and libraries and their dependencies to be correctly found by the project. It will also ensure that the include directories of all dependencies are ordered correctly when using overlay workspaces. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9723">[待校准&#64;9723]</a></p>
<p>The second way is to use <code class="docutils literal notranslate"><span class="pre">target_link_libraries</span></code>. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9724">[待校准&#64;9724]</a></p>
<p>The recommended way in modern CMake is to only use targets, exporting and linking against them. CMake targets are namespaced, similar to C++. For instance, <code class="docutils literal notranslate"><span class="pre">Eigen3</span></code> defines the target <code class="docutils literal notranslate"><span class="pre">Eigen3::Eigen</span></code>. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9725">[待校准&#64;9725]</a></p>
<p>At least until <code class="docutils literal notranslate"><span class="pre">Crystal</span> <span class="pre">Clemmys</span></code> target names are not supported in the <code class="docutils literal notranslate"><span class="pre">ament_target_dependencies</span></code> macro. Sometimes it will be necessary to call the <code class="docutils literal notranslate"><span class="pre">target_link_libaries</span></code> CMake function. In the example of Eigen3, the call should then look like <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9726">[待校准&#64;9726]</a></p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">find_package</span><span class="p">(</span><span class="s">Eigen3</span><span class="w"> </span><span class="s">REQUIRED</span><span class="p">)</span>
<span class="nb">target_link_libraries</span><span class="p">(</span><span class="s">my_target</span><span class="w"> </span><span class="s">Eigen3::Eigen</span><span class="p">)</span>
</pre></div>
</div>
<p>This will also include necessary headers, libraries and their dependencies, but in contrast to <code class="docutils literal notranslate"><span class="pre">ament_target_dependencies</span></code> it might not correctly order the dependencies when using overlay workspaces. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9727">[待校准&#64;9727]</a></p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>It should never be necessary to <code class="docutils literal notranslate"><span class="pre">find_package</span></code> a library that is not explicitly needed but is a dependency of another dependency that is explicitly needed. If that is the case, file a bug against the corresponding package. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9728">[待校准&#64;9728]</a></p>
</div>
</div>
<div class="section" id="building-a-library">
<h3>Building a Library <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9729">[待校准&#64;9729]</a><a class="headerlink" href="#building-a-library" title="永久链接至标题"></a></h3>
<p>When building a reusable library, some information needs to be exported for downstream packages to easily use it. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9730">[待校准&#64;9730]</a></p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">ament_export_targets</span><span class="p">(</span><span class="s">my_libraryTargets</span><span class="w"> </span><span class="s">HAS_LIBRARY_TARGET</span><span class="p">)</span>
<span class="nb">ament_export_dependencies</span><span class="p">(</span><span class="s">some_dependency</span><span class="p">)</span>

<span class="nb">install</span><span class="p">(</span>
<span class="w">  </span><span class="s">DIRECTORY</span><span class="w"> </span><span class="s">include/</span>
<span class="w">  </span><span class="s">DESTINATION</span><span class="w"> </span><span class="s">include</span>
<span class="p">)</span>

<span class="nb">install</span><span class="p">(</span>
<span class="w">  </span><span class="s">TARGETS</span><span class="w"> </span><span class="s">my_library</span>
<span class="w">  </span><span class="s">EXPORT</span><span class="w"> </span><span class="s">my_libraryTargets</span>
<span class="w">  </span><span class="s">LIBRARY</span><span class="w"> </span><span class="s">DESTINATION</span><span class="w"> </span><span class="s">lib</span>
<span class="w">  </span><span class="s">ARCHIVE</span><span class="w"> </span><span class="s">DESTINATION</span><span class="w"> </span><span class="s">lib</span>
<span class="w">  </span><span class="s">RUNTIME</span><span class="w"> </span><span class="s">DESTINATION</span><span class="w"> </span><span class="s">bin</span>
<span class="w">  </span><span class="s">INCLUDES</span><span class="w"> </span><span class="s">DESTINATION</span><span class="w"> </span><span class="s">include</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Here, we assume that the folder <code class="docutils literal notranslate"><span class="pre">include</span></code> contains the headers which need to be exported. Note that it is not necessary to put all headers into a separate folder, only those that should be included by clients. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9731">[待校准&#64;9731]</a></p>
<p>Here is what's happening in the snippet above: <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9732">[待校准&#64;9732]</a></p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">ament_export_targets</span></code> macro exports the targets for CMake. This is necessary to allow your library's clients to use the <code class="docutils literal notranslate"><span class="pre">target_link_libraries(client</span> <span class="pre">my_library::my_library)</span></code> syntax. <code class="docutils literal notranslate"><span class="pre">ament_export_targets</span></code> can take an arbitrary list of targets named as <code class="docutils literal notranslate"><span class="pre">EXPORT</span></code> in an install call and an additional option <code class="docutils literal notranslate"><span class="pre">HAS_LIBRARY_TARGET</span></code>, which adds potential libraries to environment variables. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9733">[待校准&#64;9733]</a></p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">ament_export_dependencies</span></code> exports dependencies to downstream packages. This is necessary so that the user of the library does not have to call <code class="docutils literal notranslate"><span class="pre">find_package</span></code> for those dependencies, too. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9734">[待校准&#64;9734]</a></p></li>
<li><p>The first <code class="docutils literal notranslate"><span class="pre">install</span></code> commands installs the header files which should be available to clients. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9735">[待校准&#64;9735]</a></p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>Calling <code class="docutils literal notranslate"><span class="pre">ament_export_targets</span></code>, <code class="docutils literal notranslate"><span class="pre">ament_export_dependencies</span></code>, or other ament commands from a CMake subdirectory will not work as expected. This is because the CMake subdirectory has no way of setting necessary variables in the parent scope where <code class="docutils literal notranslate"><span class="pre">ament_package</span></code> is called. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9736">[待校准&#64;9736]</a></p>
</div>
<ul class="simple">
<li><p>The last large install command installs the library. Archive and library files will be exported to the lib folder, runtime binaries will be installed to the bin folder and the path to installed headers is <code class="docutils literal notranslate"><span class="pre">include</span></code>. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9737">[待校准&#64;9737]</a></p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>Windows DLLs are treated as runtime artifacts and installed into the <code class="docutils literal notranslate"><span class="pre">RUNTIME</span> <span class="pre">DESTINATION</span></code> folder. It is therefore advised to not leave out the <code class="docutils literal notranslate"><span class="pre">RUNTIME</span></code> install even when developing libraries on Unix based systems. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9738">[待校准&#64;9738]</a></p>
</div>
<ul class="simple">
<li><p>Regarding the <code class="docutils literal notranslate"><span class="pre">include</span> <span class="pre">directory</span></code>, the install command only adds information to CMake, it does not actually install the includes folder. This is done by copying the headers via <code class="docutils literal notranslate"><span class="pre">install(DIRECTORY</span> <span class="pre">&lt;dir&gt;</span> <span class="pre">DESTINATION</span> <span class="pre">&lt;dest&gt;)</span></code> as described above. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9739">[待校准&#64;9739]</a></p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">EXPORT</span></code> notation of the install call requires additional attention: It installs the CMake files for the <code class="docutils literal notranslate"><span class="pre">my_library</span></code> target. It is named exactly like the argument in <code class="docutils literal notranslate"><span class="pre">ament_export_targets</span></code> and could be named like the library. However, this will then prohibit using the <code class="docutils literal notranslate"><span class="pre">ament_target_dependencies</span></code> way of including your library. To allow for full flexibility, it is advised to prepend the export target with something like <code class="docutils literal notranslate"><span class="pre">&lt;target&gt;Targets</span></code>. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9740">[待校准&#64;9740]</a></p></li>
<li><p>All install paths are relative to <code class="docutils literal notranslate"><span class="pre">CMAKE_INSTALL_PREFIX</span></code>, which is already set correctly by colcon/ament <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9741">[待校准&#64;9741]</a></p></li>
</ul>
<p>There are two additional functions which can be used but are superfluous for target based installs: <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9742">[待校准&#64;9742]</a></p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">ament_export_include_directories</span><span class="p">(</span><span class="s">include</span><span class="p">)</span>
<span class="nb">ament_export_libraries</span><span class="p">(</span><span class="s">my_library</span><span class="p">)</span>
</pre></div>
</div>
<p>The first macro marks the directory of the exported include directories (this is achieved by <code class="docutils literal notranslate"><span class="pre">INCLUDES</span> <span class="pre">DESTINATION</span></code> in the target <code class="docutils literal notranslate"><span class="pre">install</span></code> call). The second macro marks the location of the installed library (this is done by the <code class="docutils literal notranslate"><span class="pre">HAS_LIBRARY_TARGET</span></code> argument in the call to <code class="docutils literal notranslate"><span class="pre">ament_export_targets</span></code>). <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9743">[待校准&#64;9743]</a></p>
<p>Some of the macros can take different types of arguments for non-target exports, but since the recommended way for modern Make is to use targets, we will not cover them here. Documentation of these options can be found in the source code itself. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9744">[待校准&#64;9744]</a></p>
</div>
<div class="section" id="compiler-and-linker-options">
<h3>Compiler and linker options <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9745">[待校准&#64;9745]</a><a class="headerlink" href="#compiler-and-linker-options" title="永久链接至标题"></a></h3>
<p>ROS 2 targets compilers which comply with the C++14 and C99 standard until at least <code class="docutils literal notranslate"><span class="pre">Crystal</span> <span class="pre">Clemmys</span></code>. Newer versions might be targeted in the future and are referenced <a class="reference external" href="https://www.ros.org/reps/rep-2000.html">here</a>. Therefore it is customary to set the corresponding CMake flags: <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9746">[待校准&#64;9746]</a></p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">if</span><span class="p">(</span><span class="s">NOT</span><span class="w"> </span><span class="s">CMAKE_C_STANDARD</span><span class="p">)</span>
<span class="w">  </span><span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_C_STANDARD</span><span class="w"> </span><span class="s">99</span><span class="p">)</span>
<span class="nb">endif</span><span class="p">()</span>
<span class="nb">if</span><span class="p">(</span><span class="s">NOT</span><span class="w"> </span><span class="s">CMAKE_CXX_STANDARD</span><span class="p">)</span>
<span class="w">  </span><span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_CXX_STANDARD</span><span class="w"> </span><span class="s">14</span><span class="p">)</span>
<span class="nb">endif</span><span class="p">()</span>
</pre></div>
</div>
<p>To keep the code clean, compilers should throw warnings for questionable code and these warnings should be fixed. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9747">[待校准&#64;9747]</a></p>
<p>It is recommended to at least cover the following warning levels: <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9748">[待校准&#64;9748]</a></p>
<ul class="simple">
<li><p>For Visual Studio, the default <code class="docutils literal notranslate"><span class="pre">W1</span></code> warnings are kept <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9749">[待校准&#64;9749]</a></p></li>
<li><p>For GCC and Clang: <code class="docutils literal notranslate"><span class="pre">-Wall</span> <span class="pre">-Wextra</span> <span class="pre">-Wpedantic</span></code> are required and <code class="docutils literal notranslate"><span class="pre">-Wshadow</span> <span class="pre">-Werror</span></code> are advisable (the latter makes warnings errors). <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9750">[待校准&#64;9750]</a></p></li>
</ul>
<p>Although modern CMake advises to add compiler flags on a target basis, i.e. call <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9751">[待校准&#64;9751]</a></p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">target_compile_options</span><span class="p">(</span><span class="s">my_target</span><span class="w"> </span><span class="s">PRIVATE</span><span class="w"> </span><span class="s">-Wall</span><span class="p">)</span>
</pre></div>
</div>
<p>it is at the moment recommended to use the directory level function <code class="docutils literal notranslate"><span class="pre">add_compile_options(-Wall)</span></code> to not clutter the code with target-based compile options for all executables and tests. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9752">[待校准&#64;9752]</a></p>
</div>
<div class="section" id="building-libraries-on-windows">
<h3>Building libraries on Windows <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9753">[待校准&#64;9753]</a><a class="headerlink" href="#building-libraries-on-windows" title="永久链接至标题"></a></h3>
<p>Since Linux, Mac and Windows are all officially supported platforms, to have maximum impact any package should also build on Windows. The Windows library format enforces symbol visibility: Every symbol which should be used from a client has to be explicitly exported by the library (and data symbols need to be implicitly imported). <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9754">[待校准&#64;9754]</a></p>
<p>To keep this compatible with Clang and GCC builds, it is advised to use the logic in <a class="reference external" href="https://gcc.gnu.org/wiki/Visibility">the GCC wiki</a>. To use it for a package called <code class="docutils literal notranslate"><span class="pre">my_library</span></code>: <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9755">[待校准&#64;9755]</a></p>
<ul class="simple">
<li><p>Copy the logic in the link into a header file called <code class="docutils literal notranslate"><span class="pre">visibility_control.hpp</span></code>. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9756">[待校准&#64;9756]</a></p></li>
<li><p>Replace <code class="docutils literal notranslate"><span class="pre">DLL</span></code> by <code class="docutils literal notranslate"><span class="pre">MY_LIBRARY</span></code> (for an example, see visibility control of <a class="reference external" href="https://github.com/ros2/rviz/blob/ros2/rviz_rendering/include/rviz_rendering/visibility_control.hpp">rviz_rendering</a>). <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9757">[待校准&#64;9757]</a></p></li>
<li><p>Use the macros &quot;MY_LIBRARY_PUBLIC&quot; for all symbols you need to export (i.e. classes or functions). <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9758">[待校准&#64;9758]</a></p></li>
<li><p>In the project <code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code> use: <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9759">[待校准&#64;9759]</a></p></li>
</ul>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">target_compile_definitions</span><span class="p">(</span><span class="s">my_library</span><span class="w"> </span><span class="s">PRIVATE</span><span class="w"> </span><span class="s2">&quot;MY_LIBRARY_BUILDING_LIBRARY&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>For more details, see <a class="reference internal" href="../The-ROS2-Project/Contributing/Windows-Tips-and-Tricks.html#windows-symbol-visibility"><span class="std std-ref">Windows Symbol Visibility in the Windows Tips and Tricks document</span></a>. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9760">[待校准&#64;9760]</a></p>
</div>
</div>
<div class="section" id="testing-and-linting">
<h2>Testing and Linting <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9761">[待校准&#64;9761]</a><a class="headerlink" href="#testing-and-linting" title="永久链接至标题"></a></h2>
<p>In order to separate testing from building the library with colcon, wrap all calls to linters and tests in a conditional: <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9762">[待校准&#64;9762]</a></p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">if</span><span class="p">(</span><span class="s">BUILD_TESTING</span><span class="p">)</span>
<span class="w">  </span><span class="nb">find_package</span><span class="p">(</span><span class="s">ament_cmake_gtest</span><span class="w"> </span><span class="s">REQUIRED</span><span class="p">)</span>
<span class="w">  </span><span class="nb">ament_add_gtest</span><span class="p">(</span><span class="s">&lt;tests&gt;</span><span class="p">)</span>
<span class="nb">endif</span><span class="p">()</span>
</pre></div>
</div>
<div class="section" id="linting">
<h3>Linting <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9763">[待校准&#64;9763]</a><a class="headerlink" href="#linting" title="永久链接至标题"></a></h3>
<p>It's advised to use the combined call from <a class="reference external" href="https://github.com/ament/ament_lint/blob/humble/ament_lint_auto/doc/index.rst#ament_lint_auto">ament_lint_auto</a>: <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9764">[待校准&#64;9764]</a></p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">find_package</span><span class="p">(</span><span class="s">ament_lint_auto</span><span class="w"> </span><span class="s">REQUIRED</span><span class="p">)</span>
<span class="nb">ament_lint_auto_find_test_dependencies</span><span class="p">()</span>
</pre></div>
</div>
<p>This will run linters as defined in the <code class="docutils literal notranslate"><span class="pre">package.xml</span></code>. It is recommended to use the set of linters defined by the package <code class="docutils literal notranslate"><span class="pre">ament_lint_common</span></code>. The individual linters included there, as well as their functions, can be seen in the <a class="reference external" href="https://github.com/ament/ament_lint/blob/humble/ament_lint_common/doc/index.rst">ament_lint_common docs</a>. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9765">[待校准&#64;9765]</a></p>
<p>Linters provided by ament can also be added separately, instead of running <code class="docutils literal notranslate"><span class="pre">ament_lint_auto</span></code>. One example of how to do so can be found in the <a class="reference external" href="https://github.com/ament/ament_lint/blob/humble/ament_cmake_lint_cmake/doc/index.rst">ament_cmake_lint_cmake documentation</a>. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9766">[待校准&#64;9766]</a></p>
</div>
<div class="section" id="testing">
<h3>Testing <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9767">[待校准&#64;9767]</a><a class="headerlink" href="#testing" title="永久链接至标题"></a></h3>
<p>Ament contains CMake macros to simplify setting up GTests. Call: <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9768">[待校准&#64;9768]</a></p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">find_package</span><span class="p">(</span><span class="s">ament_cmake_gtest</span><span class="p">)</span>
<span class="nb">ament_add_gtest</span><span class="p">(</span><span class="s">some_test</span><span class="w"> </span><span class="s">&lt;test_sources&gt;</span><span class="p">)</span>
</pre></div>
</div>
<p>to add a GTest. This is then a regular target which can be linked against other libraries (such as the project library). The macros have additional parameters: <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9769">[待校准&#64;9769]</a></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">APPEND_ENV</span></code>: append environment variables. For instance you can add to the ament prefix path by calling: <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9770">[待校准&#64;9770]</a></p></li>
</ul>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">find_package</span><span class="p">(</span><span class="s">ament_cmake_gtest</span><span class="w"> </span><span class="s">REQUIRED</span><span class="p">)</span>
<span class="nb">ament_add_gtest</span><span class="p">(</span><span class="s">some_test</span><span class="w"> </span><span class="s">&lt;test_sources&gt;</span>
<span class="w">  </span><span class="s">APPEND_ENV</span><span class="w"> </span><span class="s">PATH=some/addtional/path/for/testing/resources</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">APPEND_LIBRARY_DIRS</span></code>: append libraries so that they can be found by the linker at runtime. This can be achieved by setting environment variables like <code class="docutils literal notranslate"><span class="pre">PATH</span></code> on Windows and <code class="docutils literal notranslate"><span class="pre">LD_LIBRARY_PATH</span></code> on Linux, but this makes the call platform specific. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9771">[待校准&#64;9771]</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ENV</span></code>: set environment variables (same syntax as <code class="docutils literal notranslate"><span class="pre">APPEND_ENV</span></code>). <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9772">[待校准&#64;9772]</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TIMEOUT</span></code>: set a test timeout in second. The default for GTests is 60 seconds.  For example: <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9773">[待校准&#64;9773]</a></p></li>
</ul>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">ament_add_gtest</span><span class="p">(</span><span class="s">some_test</span><span class="w"> </span><span class="s">&lt;test_sources&gt;</span><span class="w"> </span><span class="s">TIMEOUT</span><span class="w"> </span><span class="s">120</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SKIP_TEST</span></code>: skip this test (will be shown as &quot;passed&quot; in the console output). <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9774">[待校准&#64;9774]</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SKIP_LINKING_MAIN_LIBRARIES</span></code>: Don't link against GTest. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9775">[待校准&#64;9775]</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">WORKING_DIRECTORY</span></code>: set the working directory for the test. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9776">[待校准&#64;9776]</a></p></li>
</ul>
<p>The default working directory otherwise is the <code class="docutils literal notranslate"><span class="pre">CMAKE_CURRENT_BINARY_DIR</span></code>, which is described in the <a class="reference external" href="https://cmake.org/cmake/help/latest/variable/CMAKE_CURRENT_BINARY_DIR.html">CMake documentation</a>. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9777">[待校准&#64;9777]</a></p>
<p>Similarly, there is a CMake macro to set up GTest including GMock: <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9778">[待校准&#64;9778]</a></p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">find_package</span><span class="p">(</span><span class="s">ament_cmake_gmock</span><span class="w"> </span><span class="s">REQUIRED</span><span class="p">)</span>
<span class="nb">ament_add_gmock</span><span class="p">(</span><span class="s">some_test</span><span class="w"> </span><span class="s">&lt;test_sources&gt;</span><span class="p">)</span>
</pre></div>
</div>
<p>It has the same additional parameters as <code class="docutils literal notranslate"><span class="pre">ament_add_gtest</span></code>. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9779">[待校准&#64;9779]</a></p>
</div>
</div>
<div class="section" id="extending-ament">
<h2>Extending ament <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9780">[待校准&#64;9780]</a><a class="headerlink" href="#extending-ament" title="永久链接至标题"></a></h2>
<p>It is possible to register additional macros/functions with <code class="docutils literal notranslate"><span class="pre">ament_cmake</span></code> and extend it in several ways. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9781">[待校准&#64;9781]</a></p>
<div class="section" id="adding-a-function-macro-to-ament">
<h3>Adding a function/macro to ament <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9782">[待校准&#64;9782]</a><a class="headerlink" href="#adding-a-function-macro-to-ament" title="永久链接至标题"></a></h3>
<p>Extending ament will often times mean that you want to have some functions available to other packages. The best way to provide the macro to client packages is to register it with ament. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9783">[待校准&#64;9783]</a></p>
<p>This can be done by appending the <code class="docutils literal notranslate"><span class="pre">${PROJECT_NAME}_CONFIG_EXTRAS</span></code> variable, which is used by <code class="docutils literal notranslate"><span class="pre">ament_package()</span></code> via <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9784">[待校准&#64;9784]</a></p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">list</span><span class="p">(</span><span class="s">APPEND</span><span class="w"> </span><span class="o">${</span><span class="nv">PROJECT_NAME</span><span class="o">}</span><span class="s">_CONFIG_EXTRAS</span>
<span class="w">  </span><span class="s">path/to/file.cmake</span><span class="s2">&quot;</span>
<span class="s2">  other/pathto/file.cmake&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Alternatively, you can directly add the files to the <code class="docutils literal notranslate"><span class="pre">ament_package()</span></code> call: <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9785">[待校准&#64;9785]</a></p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">ament_package</span><span class="p">(</span><span class="s">CONFIG_EXTRAS</span>
<span class="w">  </span><span class="s">path/to/file.cmake</span>
<span class="w">  </span><span class="s">other/pathto/file.cmake</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="adding-to-extension-points">
<h3>Adding to extension points <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9786">[待校准&#64;9786]</a><a class="headerlink" href="#adding-to-extension-points" title="永久链接至标题"></a></h3>
<p>In addition to simple files with functions that can be used in other packages, you can also add extensions to ament. Those extensions are scripts which are executed with the function which defines the extension point. The most common use-case for ament extensions is probably registering rosidl message generators: When writing a generator, you normally want to generate all messages and services with your generator also without modifying the code for the message/service definition packages. This is possible by registering the generator as an extension to <code class="docutils literal notranslate"><span class="pre">rosidl_generate_interfaces</span></code>. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9787">[待校准&#64;9787]</a></p>
<p>As an example, see <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9788">[待校准&#64;9788]</a></p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">ament_register_extension</span><span class="p">(</span>
<span class="w">  </span><span class="s2">&quot;rosidl_generate_interfaces&quot;</span>
<span class="w">  </span><span class="s2">&quot;rosidl_generator_cpp&quot;</span>
<span class="w">  </span><span class="s2">&quot;rosidl_generator_cpp_generate_interfaces.cmake&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>which registers the macro <code class="docutils literal notranslate"><span class="pre">rosidl_generator_cpp_generate_interfaces.cmake</span></code> for the package <code class="docutils literal notranslate"><span class="pre">rosidl_generator_cpp</span></code> to the extension point <code class="docutils literal notranslate"><span class="pre">rosidl_generate_interfaces</span></code>. When the extension point gets executed, this will trigger the execution of the script <code class="docutils literal notranslate"><span class="pre">rosidl_generator_cpp_generate_interfaces.cmake</span></code> here. In particular, this will call the generator whenever the function <code class="docutils literal notranslate"><span class="pre">rosidl_generate_interfaces</span></code> gets executed. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9789">[待校准&#64;9789]</a></p>
<p>The most important extension point for generators, aside from <code class="docutils literal notranslate"><span class="pre">rosidl_generate_interfaces</span></code>, is <code class="docutils literal notranslate"><span class="pre">ament_package</span></code>, which will simply execute scripts with the <code class="docutils literal notranslate"><span class="pre">ament_package()</span></code> call. This extension point is useful when registering resources (see below). <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9790">[待校准&#64;9790]</a></p>
<p><code class="docutils literal notranslate"><span class="pre">ament_register_extension</span></code> is a function which takes exactly three arguments: <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9791">[待校准&#64;9791]</a></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">extension_point</span></code>: The name of the extension point (most of the time this will be one of <code class="docutils literal notranslate"><span class="pre">ament_package</span></code> or <code class="docutils literal notranslate"><span class="pre">rosidl_generate_interfaces</span></code>) <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9792">[待校准&#64;9792]</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">package_name</span></code>: The name of the package containing the CMake file (i.e. the project name of the project where the file is written to) <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9793">[待校准&#64;9793]</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cmake_filename</span></code>: The CMake file executed when the extension point is run <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9794">[待校准&#64;9794]</a></p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>It is possible to define custom extension points in a similar manner to <code class="docutils literal notranslate"><span class="pre">ament_package</span></code> and <code class="docutils literal notranslate"><span class="pre">rosidl_generate_interfaces</span></code>, but this should hardly be necessary. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9795">[待校准&#64;9795]</a></p>
</div>
</div>
<div class="section" id="adding-extension-points">
<h3>Adding extension points <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9796">[待校准&#64;9796]</a><a class="headerlink" href="#adding-extension-points" title="永久链接至标题"></a></h3>
<p>Very rarely, it might be interesting to define a new extension point to ament. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9797">[待校准&#64;9797]</a></p>
<p>Extension points can be registered within a macro so that all extensions will be executed when the corresponding macro is called. To do so: <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9798">[待校准&#64;9798]</a></p>
<ul class="simple">
<li><p>Define and document a name for your extension (e.g. <code class="docutils literal notranslate"><span class="pre">my_extension_point</span></code>), which is the name passed to the <code class="docutils literal notranslate"><span class="pre">ament_register_extension</span></code> macro when using the extension point. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9799">[待校准&#64;9799]</a></p></li>
<li><p>In the macro/function which should execute the extensions call: <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9800">[待校准&#64;9800]</a></p></li>
</ul>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">ament_execute_extensions</span><span class="p">(</span><span class="s">my_extension_point</span><span class="p">)</span>
</pre></div>
</div>
<p>Ament extensions work by defining a variable containing the name of the extension point and filling it with the macros to be executed. Upon calling <code class="docutils literal notranslate"><span class="pre">ament_execute_extensions</span></code>, the scripts defined in the variable are then executed one after another. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9801">[待校准&#64;9801]</a></p>
</div>
</div>
<div class="section" id="adding-resources">
<h2>Adding resources <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9802">[待校准&#64;9802]</a><a class="headerlink" href="#adding-resources" title="永久链接至标题"></a></h2>
<p>Especially when developing plugins or packages which allow plugins it is often essential to add resources to one ROS package from another (e.g. a plugin). Examples can be plugins for tools using the pluginlib. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9803">[待校准&#64;9803]</a></p>
<p>This can be achieved using the ament index (also called &quot;resource index&quot;). <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9804">[待校准&#64;9804]</a></p>
<div class="section" id="the-ament-index-explained">
<h3>The ament index explained <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9805">[待校准&#64;9805]</a><a class="headerlink" href="#the-ament-index-explained" title="永久链接至标题"></a></h3>
<p>For details on the design and intentions, see <a class="reference external" href="https://github.com/ament/ament_cmake/blob/humble/ament_cmake_core/doc/resource_index.md">here</a> <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9806">[待校准&#64;9806]</a></p>
<p>In principle, the ament index is contained in a folder within the install/share folder of your package. It contains shallow subfolders named after different types of resources. Within the subfolder, each package providing said resource is referenced by name with a &quot;marker file&quot;. The file may contain whatever content necessary to obtain the resources, e.g. relative paths to the installation directories of the resource, it may also be simply empty. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9807">[待校准&#64;9807]</a></p>
<p>To give an example, consider providing display plugins for RViz: When providing RViz plugins in a project named <code class="docutils literal notranslate"><span class="pre">my_rviz_displays</span></code> which will be read by the pluginlib, you will provide a <code class="docutils literal notranslate"><span class="pre">plugin_description.xml</span></code> file, which will be installed and used by the pluginlib to load the plugins. To achieve this, the plugin_description.xml is registered as a resource in the resource_index via <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9808">[待校准&#64;9808]</a></p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">pluginlib_export_plugin_description_file</span><span class="p">(</span><span class="s">rviz_common</span><span class="w"> </span><span class="s">plugins_description.xml</span><span class="p">)</span>
</pre></div>
</div>
<p>When running <code class="docutils literal notranslate"><span class="pre">colcon</span> <span class="pre">build</span></code>, this installs a file <code class="docutils literal notranslate"><span class="pre">my_rviz_displays</span></code> into a subfolder <code class="docutils literal notranslate"><span class="pre">rviz_common__pluginlib__plugin</span></code> into the resource_index. Pluginlib factories within rviz_common will know to gather information from all folders named <code class="docutils literal notranslate"><span class="pre">rviz_common__pluginlib__plugin</span></code> for packages that export plugins. The marker file for pluginlib factories contains an install-folder relative path to the <code class="docutils literal notranslate"><span class="pre">plugins_description.xml</span></code> file (and the name of the library as marker file name). With this information, the pluginlib can load the library and know which plugins to load from the <code class="docutils literal notranslate"><span class="pre">plugin_description.xml</span></code> file. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9809">[待校准&#64;9809]</a></p>
<p>As a second example, consider the possibility to let your own RViz plugins use your own custom meshes. Meshes get loaded at startup time so that the plugin owner does not have to deal with it, but this implies RViz has to know about the meshes. To achieve this, RViz provides a function: <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9810">[待校准&#64;9810]</a></p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">register_rviz_ogre_media_exports</span><span class="p">(</span><span class="s">DIRECTORIES</span><span class="w"> </span><span class="s">&lt;my_dirs&gt;</span><span class="p">)</span>
</pre></div>
</div>
<p>This registers the directories as an ogre_media resource in the ament index. In short, it installs a file named after the project which calls the function into a subfolder called <code class="docutils literal notranslate"><span class="pre">rviz_ogre_media_exports</span></code>. The file contains the install folder relative paths to the directories listed in the macros. On startup time, RViz can now search for all folders called <code class="docutils literal notranslate"><span class="pre">rviz_ogre_media_exports</span></code> and load resources in all folders provided. These searches are done using <code class="docutils literal notranslate"><span class="pre">ament_index_cpp</span></code> (or <code class="docutils literal notranslate"><span class="pre">ament_index_py</span></code> for Python packages). <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9811">[待校准&#64;9811]</a></p>
<p>In the following sections we will explore how to add your own resources to the ament index and provide best practices for doing so. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9812">[待校准&#64;9812]</a></p>
</div>
<div class="section" id="querying-the-ament-index">
<h3>Querying the ament index <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9813">[待校准&#64;9813]</a><a class="headerlink" href="#querying-the-ament-index" title="永久链接至标题"></a></h3>
<p>If necessary, it is possible to query the ament index for resources via CMake. To do so, there are three functions: <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9814">[待校准&#64;9814]</a></p>
<p><code class="docutils literal notranslate"><span class="pre">ament_index_has_resource</span></code>: obtain a prefix path to the resource if it exists with the following parameters: <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9815">[待校准&#64;9815]</a></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">var</span></code>: the output parameter: fill this variable with FALSE if the resource does not exist or the prefix path to the resource otherwise <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9816">[待校准&#64;9816]</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">resource_type</span></code>: The type of the resource (e.g. <code class="docutils literal notranslate"><span class="pre">rviz_common__pluginlib__plugin</span></code>) <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9817">[待校准&#64;9817]</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">resource_name</span></code>: The name of the resource which usually amounts to the name of the package having added the resource of type resource_type (e.g. <code class="docutils literal notranslate"><span class="pre">rviz_default_plugins</span></code>) <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9818">[待校准&#64;9818]</a></p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">ament_index_get_resource</span></code>: Obtain the content of a specific resource, i.e. the contents of the marker file in the ament index. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9819">[待校准&#64;9819]</a></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">var</span></code>: the output parameter: filled with the content of the resource marker file if it exists. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9820">[待校准&#64;9820]</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">resource_type</span></code>: The type of the resource (e.g. <code class="docutils literal notranslate"><span class="pre">rviz_common__pluginlib__plugin</span></code>) <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9817">[待校准&#64;9817]</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">resource_name</span></code>: The name of the resource which usually amounts to the name of the package having added the resource of type resource_type (e.g. <code class="docutils literal notranslate"><span class="pre">rviz_default_plugins</span></code>) <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9818">[待校准&#64;9818]</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PREFIX_PATH</span></code>: The prefix path to search for (usually, the default <code class="docutils literal notranslate"><span class="pre">ament_index_get_prefix_path()</span></code> will be enough). <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9821">[待校准&#64;9821]</a></p></li>
</ul>
<p>Note that <code class="docutils literal notranslate"><span class="pre">ament_index_get_resource</span></code> will throw an error if the resource does not exist, so it might be necessary to check using <code class="docutils literal notranslate"><span class="pre">ament_index_has_resource</span></code>. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9822">[待校准&#64;9822]</a></p>
<p><code class="docutils literal notranslate"><span class="pre">ament_index_get_resources</span></code>: Get all packages which registered resources of a specific type from the index <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9823">[待校准&#64;9823]</a></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">var</span></code>: Output parameter: filled with a list of names of all packages which registered a resource of resource_type <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9824">[待校准&#64;9824]</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">resource_type</span></code>: The type of the resource (e.g. <code class="docutils literal notranslate"><span class="pre">rviz_common__pluginlib__plugin</span></code>) <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9817">[待校准&#64;9817]</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PREFIX_PATH</span></code>: The prefix path to search for (usually, the default <code class="docutils literal notranslate"><span class="pre">ament_index_get_prefix_path()</span></code> will be enough). <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9821">[待校准&#64;9821]</a></p></li>
</ul>
</div>
<div class="section" id="adding-to-the-ament-index">
<h3>Adding to the ament index <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9825">[待校准&#64;9825]</a><a class="headerlink" href="#adding-to-the-ament-index" title="永久链接至标题"></a></h3>
<p>Defining a resource requires two bits of information: <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9826">[待校准&#64;9826]</a></p>
<ul class="simple">
<li><p>a name for the resource which must be unique, <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9827">[待校准&#64;9827]</a></p></li>
<li><p>a layout of the marker file, which can be anything and could also be empty (this is true for instance for the &quot;package&quot; resource marking a ROS 2 package) <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9828">[待校准&#64;9828]</a></p></li>
</ul>
<p>For the RViz mesh resource, the corresponding choices were: <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9829">[待校准&#64;9829]</a></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rviz_ogre_media_exports</span></code> as name of the resource, <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9830">[待校准&#64;9830]</a></p></li>
<li><p>install path relative paths to all folders containing resources. This will already enable you to write the logic for using the corresponding resource in your package. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9831">[待校准&#64;9831]</a></p></li>
</ul>
<p>To allow users to easily register resources for your package, you should furthermore provide macros or functions such as the pluginlib function or <code class="docutils literal notranslate"><span class="pre">rviz_ogre_media_exports</span></code> function. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9832">[待校准&#64;9832]</a></p>
<p>To register a resource, use the ament function <code class="docutils literal notranslate"><span class="pre">ament_index_register_resource</span></code>. This will create and install the marker files in the resource_index. As an example, the corresponding call for <code class="docutils literal notranslate"><span class="pre">rviz_ogre_media_exports</span></code> is the following: <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9833">[待校准&#64;9833]</a></p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">ament_index_register_resource</span><span class="p">(</span><span class="s">rviz_ogre_media_exports</span><span class="w"> </span><span class="s">CONTENT</span><span class="w"> </span><span class="o">${</span><span class="nv">OGRE_MEDIA_RESOURCE_FILE</span><span class="o">}</span><span class="p">)</span>
</pre></div>
</div>
<p>This installs a file named like <code class="docutils literal notranslate"><span class="pre">${PROJECT_NAME}</span></code> into a folder <code class="docutils literal notranslate"><span class="pre">rviz_ogre_media_exports</span></code> into the resource_index with content given by variable <code class="docutils literal notranslate"><span class="pre">${OGRE_MEDIA_RESOURCE_FILE}</span></code>. The macro has a number of parameters that can be useful: <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9834">[待校准&#64;9834]</a></p>
<ul class="simple">
<li><p>the first (unnamed) parameter is the name of the resource, which amounts to the name of the folder in the resource_index <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9835">[待校准&#64;9835]</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONTENT</span></code>: The content of the marker file as string. This could be a list of relative paths, etc. <code class="docutils literal notranslate"><span class="pre">CONTENT</span></code> cannot be used together with <code class="docutils literal notranslate"><span class="pre">CONTENT_FILE</span></code>. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9836">[待校准&#64;9836]</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONTENT_FILE</span></code>: The path to a file which will be use to create the marker file. The file can be a plain file or a template file expanded with <code class="docutils literal notranslate"><span class="pre">configure_file()</span></code>. <code class="docutils literal notranslate"><span class="pre">CONTENT_FILE</span></code> cannot be used together with <code class="docutils literal notranslate"><span class="pre">CONTENT</span></code>. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9837">[待校准&#64;9837]</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PACKAGE_NAME</span></code>: The name of the package/library exporting the resource, which amounts to the name of the marker file. Defaults to <code class="docutils literal notranslate"><span class="pre">${PROJECT_NAME}</span></code>. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9838">[待校准&#64;9838]</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AMENT_INDEX_BINARY_DIR</span></code>: The base path of the generated ament index. Unless really necessary, always use the default <code class="docutils literal notranslate"><span class="pre">${CMAKE_BINARY_DIR}/ament_cmake_index</span></code>. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9839">[待校准&#64;9839]</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SKIP_INSTALL</span></code>: Skip installing the marker file. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9840">[待校准&#64;9840]</a></p></li>
</ul>
<p>Since only one marker file exists per package, it is usually a problem if the CMake function/macro gets called twice by the same project. However, for large projects it might be best to split up calls registering resources. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9841">[待校准&#64;9841]</a></p>
<p>Therefore, it is best practice to let a macro registering a resource such as <code class="docutils literal notranslate"><span class="pre">register_rviz_ogre_media_exports.cmake</span></code> only fill some variables. The real call to <code class="docutils literal notranslate"><span class="pre">ament_index_register_resource</span></code> can then be added within an ament extension to <code class="docutils literal notranslate"><span class="pre">ament_package</span></code>. Since there must only ever be one call to <code class="docutils literal notranslate"><span class="pre">ament_package</span></code> per project, there will always only be one place where the resource gets registered. In the case of <code class="docutils literal notranslate"><span class="pre">rviz_ogre_media_exports</span></code> this amounts to the following strategy: <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9842">[待校准&#64;9842]</a></p>
<ul class="simple">
<li><p>The macro <code class="docutils literal notranslate"><span class="pre">register_rviz_ogre_media_exports</span></code> takes a list of folders and appends them to a variable called <code class="docutils literal notranslate"><span class="pre">OGRE_MEDIA_RESOURCE_FILE</span></code>. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9843">[待校准&#64;9843]</a></p></li>
<li><p>Another macro called <code class="docutils literal notranslate"><span class="pre">register_rviz_ogre_media_exports_hook</span></code> calls <code class="docutils literal notranslate"><span class="pre">ament_index_register_resource</span></code> if <code class="docutils literal notranslate"><span class="pre">${OGRE_MEDIA_RESOURCE_FILE}</span></code> is non-empty. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9844">[待校准&#64;9844]</a></p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">register_rviz_ogre_media_exports_hook.cmake</span></code> file is registered as an ament extension in a third file <code class="docutils literal notranslate"><span class="pre">register_rviz_ogre_media_exports_hook-extras.cmake</span></code> via calling <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9845">[待校准&#64;9845]</a></p></li>
</ul>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">ament_register_extension</span><span class="p">(</span><span class="s2">&quot;ament_package&quot;</span><span class="w"> </span><span class="s2">&quot;rviz_rendering&quot;</span>
<span class="w">  </span><span class="s2">&quot;register_rviz_ogre_media_exports_hook.cmake&quot;</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p>The files <code class="docutils literal notranslate"><span class="pre">register_rviz_ogre_media_exports.cmake</span></code> and <code class="docutils literal notranslate"><span class="pre">register_rviz_ogre_media_exports_hook-extra.cmake</span></code> are registered as <code class="docutils literal notranslate"><span class="pre">CONFIG_EXTRA</span></code> with <code class="docutils literal notranslate"><span class="pre">ament_package()</span></code>. <a class="reference external" href="http://dev.ros2.fishros.com/calibpage/#/home?msgid=9846">[待校准&#64;9846]</a></p></li>
</ul>
</div>
</div>
</div>



           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Developing-a-ROS-2-Package.html" class="btn btn-neutral float-left" title="Developing a ROS 2 package [待校准@10027]" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
        <a href="Ament-CMake-Python-Documentation.html" class="btn btn-neutral float-right" title="ament_cmake_python user documentation [待校准@9847]" accesskey="n" rel="next">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2023, Open Robotics.</p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用了 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a>开发.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-EVD5Z6G6NH"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-EVD5Z6G6NH', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>