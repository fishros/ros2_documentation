<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>How-To-Guides/RQt-Source-Install-Windows10</title>
</head>
<body>
  <div class="section" id="building-rqt-from-source-on-windows-10">
<h1>在 Windows 10 上从源代码构建 RQt<a class="headerlink" href="#building-rqt-from-source-on-windows-10" title="永久链接至标题"></a></h1>
<p>本页面提供了在 Windows 上从源代码构建 RQt 的特定信息。在继续查看 <a class="reference internal" href="RQt-Source-Install.html"><span class="doc">RQt 源代码安装页面</span></a> 之前，请按照这些说明进行操作。</p>
<p>如果您还没有这样做，请在继续之前按照 <a class="reference internal" href="../Installation/Alternatives/Windows-Development-Setup.html"><span class="doc">ROS 2 Windows Development Setup guide</span></a> 进行设置。</p>
<div class="section" id="system-requirements">
<h2>系统要求<a class="headerlink" href="#system-requirements" title="永久链接至标题"></a></h2>
<ul class="simple">
<li><p>Windows 10</p></li>
<li><p>Visual Studio 15.7.6</p></li>
</ul>
<p>当前的 Visual Studio 15.8 无法构建 ROS 2（<a class="reference external" href="https://github.com/osrf/osrf_testing_tools_cpp/issues/15">请参阅问题</a>）。可以在 <a class="reference external" href="https://docs.microsoft.com/en-us/visualstudio/productinfo/installing-an-earlier-release-of-vs2017">这里找到</a> 较旧版本的 VS。</p>
</div>
<div class="section" id="dependencies">
<h2>依赖项<a class="headerlink" href="#dependencies" title="永久链接至标题"></a></h2>
<p>RQt软件包的主要依赖项是sip和PyQt5。PySide2可能在将来得到支持。尽管它们通过PyPI和chocolatey提供，但您必须通过源代码安装它们以获得兼容的版本。</p>
<div class="section" id="install-sip-by-source">
<h3>通过源代码安装sip<a class="headerlink" href="#install-sip-by-source" title="永久链接至标题"></a></h3>
<p>从https://www.riverbankcomputing.com/software/sip/download下载</p>
<p>以管理员身份运行x64本机工具命令提示符，并``cd``到未压缩的源目录。</p>
<p>运行：</p>
<div class="highlight-bat notranslate"><div class="highlight"><pre><span></span>python3 configure.py
nmake
nmake install
</pre></div>
</div>
<p>如果您的系统上安装的是 <code class="docutils literal notranslate"><span class="pre">python3</span></code>，请确保使用该程序名称。</p>
</div>
<div class="section" id="install-pyqt5-by-source">
<h3>通过源码安装 PyQt5<a class="headerlink" href="#install-pyqt5-by-source" title="永久链接至标题"></a></h3>
<p>从 <a class="reference external" href="https://www.riverbankcomputing.com/software/pyqt/download5">https://www.riverbankcomputing.com/software/pyqt/download5</a> 下载</p>
<p>以管理员身份运行 x64 本机工具命令提示符，并``cd``到未压缩的源目录。我在编译 QtNfc 时遇到了 Qt 5.11.3 和 PyQt5 的问题，但可以很容易地禁用它。</p>
<div class="highlight-bat notranslate"><div class="highlight"><pre><span></span>python3 configure.py --disable QtNfc
nmake
nmake install
</pre></div>
</div>
</div>
<div class="section" id="test-that-it-works">
<h3>测试它是否正常工作<a class="headerlink" href="#test-that-it-works" title="永久链接至标题"></a></h3>
<p>如果安装没有出现错误，请尝试以下命令。它们应该能够正常运行，您应该看到您的``sip.exe``版本为 4.19.13。</p>
<div class="highlight-bat notranslate"><div class="highlight"><pre><span></span>sip -V
python3 -c <span class="s2">&quot;from PyQt5 import QtCore&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="other-dependencies">
<h3>其他依赖项<a class="headerlink" href="#other-dependencies" title="永久链接至标题"></a></h3>
<p>从 <a class="reference external" href="https://graphviz.gitlab.io/_pages/Download/Download_windows.html">https://graphviz.gitlab.io/_pages/Download/Download_windows.html</a> 安装 GraphViz。</p>
<p>安装 <code class="docutils literal notranslate"><span class="pre">pydot</span></code> 和 <code class="docutils literal notranslate"><span class="pre">pyparsing</span></code>：</p>
<div class="highlight-bat notranslate"><div class="highlight"><pre><span></span>pip3 install pydot pyparsing
</pre></div>
</div>
<p>PyGraphViz 是 <code class="docutils literal notranslate"><span class="pre">qt_dotgraph</span></code> 的一个测试依赖项，但它目前不支持在 Windows 上构建，且通过源代码构建并不直接。手动合并此补丁是当前推荐的解决方案（未经验证）：<a class="reference external" href="https://github.com/Kagami/pygraphviz/commit/fe442dc16accb629c3feaf157af75f67ccabbd6e">pygraphviz 补丁</a></p>
</div>
</div>
<div class="section" id="install-rqt-by-source">
<h2>通过源代码安装 RQt<a class="headerlink" href="#install-rqt-by-source" title="永久链接至标题"></a></h2>
<p>继续查看 <a class="reference internal" href="RQt-Source-Install.html"><span class="doc">RQt 源代码安装页面</span></a>。</p>
</div>
</div>

  <div id="footer">
    <p>欢迎帮助改进！</p>
  </div>
</body>
</html>