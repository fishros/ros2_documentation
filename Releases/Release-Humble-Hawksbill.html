<!DOCTYPE html>
<html class="writer-html5" lang="zh" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Humble Hawksbill (humble) &mdash; ROS 2 Documentation: Humble  文档</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../_static/tabs.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="canonical" href="https://docs.ros.org/en/humble/Releases/Release-Humble-Hawksbill.html" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script src="../_static/tabs.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="Humble Hawksbill 变更日志" href="Humble-Hawksbill-Complete-Changelog.html" />
    <link rel="prev" title="Iron Irwini 更新日志" href="Iron-Irwini-Complete-Changelog.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> ROS 2 Documentation: Humble
            <img src="../_static/humble-small.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="在文档中搜索" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Installation.html">安装</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Ubuntu-Install-Debians.html">Ubuntu（Debian）</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Windows-Install-Binary.html">Windows (二进制)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/RHEL-Install-RPMs.html">RHEL（RPM）</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Alternatives.html">替代方案</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Installation/Alternatives/Ubuntu-Development-Setup.html">Ubuntu（源代码）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/Alternatives/Ubuntu-Install-Binary.html">Ubuntu（二进制）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/Alternatives/Windows-Development-Setup.html">Windows（源代码）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/Alternatives/RHEL-Development-Setup.html">RHEL（源代码）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/Alternatives/RHEL-Install-Binary.html">RHEL（二进制）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/Alternatives/macOS-Development-Setup.html">macOS（源码）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/Alternatives/Fedora-Development-Setup.html">Fedora（源代码）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/Alternatives/Latest-Development-Setup.html">最新的开发版本（源码）</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Maintaining-a-Source-Checkout.html">维护源代码检出。</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Testing.html">使用预发布二进制文件进行测试</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/DDS-Implementations.html">DDS 实现</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Installation/DDS-Implementations/Install-Connext-Security-Plugins.html">Connext安全插件</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/DDS-Implementations/Install-Connext-University-Eval.html">RTI Connext DDS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/DDS-Implementations/Working-with-Eclipse-CycloneDDS.html">Eclipse Cyclone DDS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/DDS-Implementations/Working-with-GurumNetworks-GurumDDS.html">GurumNetworks GurumDDS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/DDS-Implementations/Working-with-eProsima-Fast-DDS.html">eProsima Fast DDS</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../Releases.html">分发版本</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Release-Iron-Irwini.html">Iron Irwini (<code class="docutils literal notranslate"><span class="pre">iron</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Iron-Irwini-Complete-Changelog.html">Iron Irwini 更新日志</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Humble Hawksbill (<code class="docutils literal notranslate"><span class="pre">humble</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Humble-Hawksbill-Complete-Changelog.html">Humble Hawksbill 变更日志</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Release-Foxy-Fitzroy.html">Foxy Fitzroy (<code class="xref any docutils literal notranslate"><span class="pre">foxy</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="Release-Rolling-Ridley.html">Rolling Ridley (<code class="docutils literal notranslate"><span class="pre">rolling</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="Development.html">开发分发版</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Release-Jazzy-Jalisco.html">Jazzy Jalisco (codename 'jazzy'; May, 2024)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="End-of-Life.html">终止生命周期的发行版</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Release-Galactic-Geochelone.html">Galactic Geochelone（<code class="docutils literal notranslate"><span class="pre">galactic</span></code>）</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Galactic-Geochelone-Complete-Changelog.html">Galactic Geochelone更改日志</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Release-Eloquent-Elusor.html">Eloquent Elusor（<code class="docutils literal notranslate"><span class="pre">eloquent</span></code>）</a></li>
<li class="toctree-l3"><a class="reference internal" href="Release-Dashing-Diademata.html">Dashing Diademata（<code class="docutils literal notranslate"><span class="pre">dashing</span></code>）</a></li>
<li class="toctree-l3"><a class="reference internal" href="Release-Crystal-Clemmys.html">Crystal Clemmys (<code class="docutils literal notranslate"><span class="pre">crystal</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="Release-Bouncy-Bolson.html">Bouncy Bolson（<code class="docutils literal notranslate"><span class="pre">bouncy</span></code>）</a></li>
<li class="toctree-l3"><a class="reference internal" href="Release-Ardent-Apalone.html">Ardent Apalone (<code class="docutils literal notranslate"><span class="pre">ardent</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="Beta3-Overview.html">Beta 3 (<code class="docutils literal notranslate"><span class="pre">r2b3</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="Beta2-Overview.html">Beta 2（<code class="docutils literal notranslate"><span class="pre">r2b2</span></code>）</a></li>
<li class="toctree-l3"><a class="reference internal" href="Beta1-Overview.html">Beta 1（<code class="docutils literal notranslate"><span class="pre">Asphalt</span></code>）</a></li>
<li class="toctree-l3"><a class="reference internal" href="Alpha-Overview.html">阿尔法版本</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Release-Process.html">Development process for a release</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Tutorials.html">教程</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Beginner-CLI-Tools.html">初学者：CLI 工具</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-CLI-Tools/Configuring-ROS2-Environment.html">配置环境</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-CLI-Tools/Introducing-Turtlesim/Introducing-Turtlesim.html">使用``turtlesim``、<code class="docutils literal notranslate"><span class="pre">ros2``和``rqt</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-CLI-Tools/Understanding-ROS2-Nodes/Understanding-ROS2-Nodes.html">理解节点</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-CLI-Tools/Understanding-ROS2-Topics/Understanding-ROS2-Topics.html">理解话题</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-CLI-Tools/Understanding-ROS2-Services/Understanding-ROS2-Services.html">了解服务</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-CLI-Tools/Understanding-ROS2-Parameters/Understanding-ROS2-Parameters.html">理解参数</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-CLI-Tools/Understanding-ROS2-Actions/Understanding-ROS2-Actions.html">理解行为</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-CLI-Tools/Using-Rqt-Console/Using-Rqt-Console.html">使用 <code class="docutils literal notranslate"><span class="pre">rqt_console</span></code> 查看日志</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-CLI-Tools/Launching-Multiple-Nodes/Launching-Multiple-Nodes.html">启动节点</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-CLI-Tools/Recording-And-Playing-Back-Data/Recording-And-Playing-Back-Data.html">录制和回放数据</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries.html">初学者：客户端库</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Colcon-Tutorial.html">使用 <code class="docutils literal notranslate"><span class="pre">colcon</span></code> 构建软件包</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Creating-A-Workspace/Creating-A-Workspace.html">创建一个工作空间</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Creating-Your-First-ROS2-Package.html">创建软件包</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Writing-A-Simple-Cpp-Publisher-And-Subscriber.html">编写一个简单的发布者和订阅者（C++）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Writing-A-Simple-Py-Publisher-And-Subscriber.html">编写一个简单的发布者和订阅者（Python）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Writing-A-Simple-Cpp-Service-And-Client.html">编写一个简单的服务和客户端（C++）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Writing-A-Simple-Py-Service-And-Client.html">编写一个简单的服务和客户端（Python）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Custom-ROS2-Interfaces.html">创建自定义的 msg 和 srv 文件。</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Single-Package-Define-And-Use-Interface.html">实现自定义接口</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Using-Parameters-In-A-Class-CPP.html">在类中使用参数（C++）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Using-Parameters-In-A-Class-Python.html">在类中使用参数（Python）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Getting-Started-With-Ros2doctor.html">使用``ros2doctor``来识别问题</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Pluginlib.html">创建和使用插件（C++）</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Intermediate.html">中级</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Intermediate/Rosdep.html">使用rosdep管理依赖关系</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Intermediate/Creating-an-Action.html">创建一个动作</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Intermediate/Writing-an-Action-Server-Client/Cpp.html">编写一个动作服务器和客户端（C++）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Intermediate/Writing-an-Action-Server-Client/Py.html">编写一个动作服务器和客户端（Python）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Intermediate/Composition.html">在单个进程中组合多个节点</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Intermediate/Monitoring-For-Parameter-Changes-CPP.html">监视参数变化（C++）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Intermediate/Launch/Launch-Main.html">启动</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Launch/Creating-Launch-Files.html">创建一个启动文件</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Launch/Launch-system.html">将启动文件集成到ROS 2包中</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Launch/Using-Substitutions.html">使用替代项</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Launch/Using-Event-Handlers.html">使用事件处理程序</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Launch/Using-ROS2-Launch-For-Large-Projects.html">管理大型项目</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Tf2-Main.html"><code class="docutils literal notranslate"><span class="pre">tf2</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Introduction-To-Tf2.html">介绍``tf2``</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Writing-A-Tf2-Static-Broadcaster-Py.html">编写静态广播器（Python）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Writing-A-Tf2-Static-Broadcaster-Cpp.html">编写静态广播器（C++）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Writing-A-Tf2-Broadcaster-Py.html">编写广播器（Python）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Writing-A-Tf2-Broadcaster-Cpp.html">编写广播器（C++）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Writing-A-Tf2-Listener-Py.html">编写监听器（Python）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Writing-A-Tf2-Listener-Cpp.html">编写监听器（C++）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Adding-A-Frame-Py.html">添加一个帧（Python）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Adding-A-Frame-Cpp.html">添加一个框架（C++）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Learning-About-Tf2-And-Time-Py.html">使用时间（Python）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Learning-About-Tf2-And-Time-Cpp.html">使用时间（C++）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Time-Travel-With-Tf2-Py.html">时间旅行（Python）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Time-Travel-With-Tf2-Cpp.html">时间旅行（C++）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Debugging-Tf2-Problems.html">调试</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Quaternion-Fundamentals.html">四元数基础知识</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Using-Stamped-Datatypes-With-Tf2-Ros-MessageFilter.html">使用带时间戳的数据类型与``tf2_ros::MessageFilter``</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Intermediate/Testing/Testing-Main.html">测试</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Testing/CLI.html">从命令行中运行 ROS 2 中的测试</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Testing/Cpp.html">使用 GTest 编写基本的 C++ 测试</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Testing/Python.html">使用Python编写基本测试</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Intermediate/URDF/URDF-Main.html">URDF</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/URDF/Building-a-Visual-Robot-Model-with-URDF-from-Scratch.html">从头开始构建一个可视化的机器人模型</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/URDF/Building-a-Movable-Robot-Model-with-URDF.html">构建一个可移动的机器人模型。</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/URDF/Adding-Physical-and-Collision-Properties-to-a-URDF-Model.html">添加物理和碰撞属性</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/URDF/Using-Xacro-to-Clean-Up-a-URDF-File.html">使用 Xacro 清理您的代码</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/URDF/Using-URDF-with-Robot-State-Publisher.html">使用URDF和``robot_state_publisher``</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Advanced.html">高级</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Advanced/Topic-Statistics-Tutorial/Topic-Statistics-Tutorial.html">启用主题统计信息（C++）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Advanced/Discovery-Server/Discovery-Server.html">使用Fast DDS Discovery Server作为发现协议[社区贡献]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Advanced/Allocator-Template-Tutorial.html">实现自定义内存分配器</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Advanced/FastDDS-Configuration.html">发挥Fast DDS中间件的潜力 [社区贡献]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Advanced/Recording-A-Bag-From-Your-Own-Node-CPP.html">从节点（C++）录制一个包</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Advanced/Recording-A-Bag-From-Your-Own-Node-Py.html">从节点录制包（Python）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Advanced/Simulators/Simulation-Main.html">模拟器</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Advanced/Simulators/Webots/Simulation-Webots.html">Webots</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../Tutorials/Advanced/Simulators/Webots/Installation-Ubuntu.html">安装（Ubuntu）</a></li>
<li class="toctree-l5"><a class="reference internal" href="../Tutorials/Advanced/Simulators/Webots/Installation-Windows.html">安装（Windows）</a></li>
<li class="toctree-l5"><a class="reference internal" href="../Tutorials/Advanced/Simulators/Webots/Installation-MacOS.html">安装（macOS）</a></li>
<li class="toctree-l5"><a class="reference internal" href="../Tutorials/Advanced/Simulators/Webots/Setting-Up-Simulation-Webots-Basic.html">设置机器人仿真（基础）</a></li>
<li class="toctree-l5"><a class="reference internal" href="../Tutorials/Advanced/Simulators/Webots/Setting-Up-Simulation-Webots-Advanced.html">设置机器人模拟（高级）</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Advanced/Simulators/Gazebo/Simulation-Gazebo.html">Gazebo</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../Tutorials/Advanced/Simulators/Gazebo/Gazebo.html">设置机器人仿真（Gazebo）。</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Advanced/Security/Security-Main.html">安全性</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Advanced/Security/Introducing-ros2-security.html">设置安全性</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Advanced/Security/The-Keystore.html">理解安全密钥库</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Advanced/Security/Security-on-Two.html">确保跨机器的安全性</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Advanced/Security/Examine-Traffic.html">检查网络流量</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Advanced/Security/Access-Controls.html">设置访问控制</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Advanced/Security/Deployment-Guidelines.html">部署指南</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Demos.html">演示</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Demos/Quality-of-Service.html">在不稳定网络中使用服务质量设置</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Demos/Managed-Nodes.html">使用受控生命周期管理节点</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Demos/Intra-Process-Communication.html">设置高效的进程内通信</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Demos/Rosbag-with-ROS1-Bridge.html">使用ROS 1桥接在`rosbag`中记录和回放数据</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Demos/Real-Time-Programming.html">理解实时编程</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Demos/dummy-robot-demo.html">尝试使用虚拟机器人进行实验</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Demos/Logging-and-logger-configuration.html">记录日志</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Demos/Content-Filtering-Subscription.html">创建内容过滤订阅</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Miscellaneous.html">杂项</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Miscellaneous/Deploying-ROS-2-on-IBM-Cloud.html">在 IBM Cloud Kubernetes 上部署 [社区贡献]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Miscellaneous/Eclipse-Oxygen-with-ROS-2-and-rviz2.html">使用 <code class="docutils literal notranslate"><span class="pre">rviz2</span></code> 的 Eclipse Oxygen [社区贡献]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Miscellaneous/Building-Realtime-rt_preempt-kernel-for-ROS-2.html">构建实时Linux内核[社区贡献]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Miscellaneous/Building-ROS2-Package-with-eclipse-2021-06.html">使用Eclipse 2021-06构建软件包</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../How-To-Guides.html">如何指南</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Installation-Troubleshooting.html">安装故障排除</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Developing-a-ROS-2-Package.html">开发ROS 2软件包</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Ament-CMake-Documentation.html">ament_cmake 用户文档</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Ament-CMake-Python-Documentation.html">ament_cmake_python 用户文档</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Launch-files-migration-guide.html">将启动文件从ROS 1迁移到ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Launch-file-different-formats.html">使用 Python、XML 和 YAML 编写 ROS 2 启动文件</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Launching-composable-nodes.html">使用ROS 2 launch启动可组合节点</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Parameters-YAML-files-migration-guide.html">将YAML参数文件从ROS 1迁移到ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Node-arguments.html">通过命令行向节点传递ROS参数</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Sync-Vs-Async.html">同步与异步服务客户端</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/DDS-tuning.html">DDS调优信息</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Overriding-QoS-Policies-For-Recording-And-Playback.html">rosbag2：覆盖 QoS 策略</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Working-with-multiple-RMW-implementations.html">使用多个ROS 2中间件实现</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Cross-compilation.html">交叉编译</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Releasing/Releasing-a-Package.html">发布软件包</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../How-To-Guides/Releasing/First-Time-Release.html">首次发布</a></li>
<li class="toctree-l3"><a class="reference internal" href="../How-To-Guides/Releasing/Subsequent-Releases.html">后续发布</a></li>
<li class="toctree-l3"><a class="reference internal" href="../How-To-Guides/Releasing/Release-Team-Repository.html">发布团队/仓库</a></li>
<li class="toctree-l3"><a class="reference internal" href="../How-To-Guides/Releasing/Release-Track.html">发布跟踪</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Using-Python-Packages.html">在ROS 2中使用Python包</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/RQt-Port-Plugin-Windows.html">将RQt插件移植到Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Run-2-nodes-in-single-or-separate-docker-containers.html">在 Docker 中运行 ROS 2 节点[社区贡献]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Visualizing-ROS-2-Data-With-Foxglove-Studio.html">使用Foxglove Studio可视化ROS 2数据</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Package-maintainer-guide.html">ROS 2软件包维护人员指南</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Building-a-Custom-Debian-Package.html">构建自定义的Debian软件包</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Building-ROS-2-with-Tracing-Instrumentation.html">使用跟踪工具构建ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Topics-Services-Actions.html">主题 vs 服务 vs 动作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Using-Variants.html">使用变体</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Using-ros2-param.html">使用``ros2 param``命令行工具</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Using-ros1_bridge-Jammy-upstream.html">在Ubuntu 22.04上使用``ros1_bridge``和上游ROS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Disabling-ZeroCopy-loaned-messages.html">禁用零拷贝借用消息</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Installing-on-Raspberry-Pi.html">在 Raspberry Pi 上的 ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Using-callback-groups.html">使用回调组</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Setup-ROS-2-with-VSCode-and-Docker-Container.html">使用VSCode和Docker设置ROS 2 [社区贡献]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/RQt-Source-Install.html">从源代码构建 RQt</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../How-To-Guides/RQt-Source-Install-MacOS.html">在 macOS 上从源代码构建 RQt</a></li>
<li class="toctree-l3"><a class="reference internal" href="../How-To-Guides/RQt-Source-Install-Windows10.html">在 Windows 10 上从源代码构建 RQt</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Concepts.html">概念</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Domain-ID.html">ROS_DOMAIN_ID</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Different-Middleware-Vendors.html">关于不同的ROS 2 DDS/RTPS供应商</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Logging.html">关于日志记录和日志记录器配置</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Quality-of-Service-Settings.html">关于服务质量设置</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-ROS-2-Client-Libraries.html">关于ROS 2客户端库</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-ROS-Interfaces.html">关于 ROS 2 接口</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-ROS-2-Parameters.html">关于 ROS 2 中的参数</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Executors.html">执行器</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Topic-Statistics.html">关于主题统计</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Command-Line-Tools.html">使用命令行工具进行内省</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-RQt.html">RQt 的概述和使用方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Composition.html">关于组合</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Catment.html">关于 ament 和 catkin 的混合 (catment)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Cross-Compilation.html">关于交叉编译</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Security.html">关于ROS 2安全性</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Tf2.html">关于tf2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Build-System.html">关于构建系统</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Internal-Interfaces.html">关于内部ROS 2接口&quot;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Middleware-Implementations.html">关于ROS 2中间件实现</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-ROS-2-Client-Libraries.html">关于ROS 2客户端库</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Contact.html">联系</a></li>
<li class="toctree-l1"><a class="reference internal" href="../The-ROS2-Project.html">ROS 2 项目</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../The-ROS2-Project/Contributing.html">贡献</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../The-ROS2-Project/Contributing/Developer-Guide.html">ROS 2开发者指南</a></li>
<li class="toctree-l3"><a class="reference internal" href="../The-ROS2-Project/Contributing/Code-Style-Language-Versions.html">代码风格和语言版本</a></li>
<li class="toctree-l3"><a class="reference internal" href="../The-ROS2-Project/Contributing/Quality-Guide.html">质量指南：确保代码质量</a></li>
<li class="toctree-l3"><a class="reference internal" href="../The-ROS2-Project/Contributing/Migration-Guide.html">从ROS 1迁移指南</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../The-ROS2-Project/Contributing/Migration-Guide-Python.html">ROS 1的Python迁移指南</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../The-ROS2-Project/Contributing/Build-Farms.html">ROS构建农场</a></li>
<li class="toctree-l3"><a class="reference internal" href="../The-ROS2-Project/Contributing/Windows-Tips-and-Tricks.html">Windows提示和技巧</a></li>
<li class="toctree-l3"><a class="reference internal" href="../The-ROS2-Project/Contributing/Contributing-To-ROS-2-Documentation.html">为ROS 2文档做出贡献</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../The-ROS2-Project/Features.html">功能状态</a></li>
<li class="toctree-l2"><a class="reference internal" href="../The-ROS2-Project/Feature-Ideas.html">功能点子</a></li>
<li class="toctree-l2"><a class="reference internal" href="../The-ROS2-Project/Roadmap.html">路线图</a></li>
<li class="toctree-l2"><a class="reference internal" href="../The-ROS2-Project/ROSCon-Content.html">ROSCon 演讲</a></li>
<li class="toctree-l2"><a class="reference internal" href="../The-ROS2-Project/Governance.html">项目治理</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../The-ROS2-Project/Governance/ROS2-TSC-Charter.html">ROS 2 技术指导委员会章程</a></li>
<li class="toctree-l3"><a class="reference internal" href="../The-ROS2-Project/Governance/ROS2-TSC-Intake-process.html">ROS 2 TSC申请者招募流程</a></li>
<li class="toctree-l3"><a class="reference internal" href="../The-ROS2-Project/Governance/How-To-Start-A-Community-Working-Group.html">如何启动社区工作组</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../The-ROS2-Project/Marketing.html">营销</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../API-Docs.html">API文档</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Related-Projects.html">相关项目</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Related-Projects/Intel-ROS2-Projects.html">Intel ROS 2 项目</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Related-Projects/Nvidia-ROS2-Projects.html">NVIDIA ROS 2项目</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Glossary.html">术语表</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Citations.html">引用</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ROS 2 Documentation: Humble</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../Releases.html">分发版本</a> &raquo;</li>
      <li>Humble Hawksbill (<code class="docutils literal notranslate"><span class="pre">humble</span></code>)</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/ros2/ros2_documentation/blob/humble/source/Releases/Release-Humble-Hawksbill.rst" class="fa fa-github"> 在 GitHub 上修改</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             


  <div class="section" id="humble-hawksbill-humble">
<span id="humble-release"></span><h1>Humble Hawksbill (<code class="docutils literal notranslate"><span class="pre">humble</span></code>)<a class="headerlink" href="#humble-hawksbill-humble" title="永久链接至标题"></a></h1>
<div class="toctree-wrapper compound">
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title">目录</p>
<ul class="simple">
<li><p><a class="reference internal" href="#supported-platforms" id="id28">支持的平台</a></p></li>
<li><p><a class="reference internal" href="#installation" id="id29">安装</a></p></li>
<li><p><a class="reference internal" href="#changes-in-patch-release-1-2022-11-23" id="id30">补丁发布1的变化（2022-11-23）</a></p>
<ul>
<li><p><a class="reference internal" href="#ros2topic" id="id31">ros2topic</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#new-features-in-this-ros-2-release" id="id32">这个ROS 2版本的新功能有：</a></p>
<ul>
<li><p><a class="reference internal" href="#ament-cmake-gen-version-h" id="id33">ament_cmake_gen_version_h</a></p></li>
<li><p><a class="reference internal" href="#launch" id="id34">启动</a></p></li>
<li><p><a class="reference internal" href="#launch-ros" id="id35">launch_ros</a></p></li>
<li><p><a class="reference internal" href="#sros2-security-enclaves-support-certificate-revocation-lists" id="id36">SROS2安全飞地支持证书吊销列表</a></p></li>
<li><p><a class="reference internal" href="#content-filtered-topics" id="id37">内容过滤主题</a></p></li>
<li><p><a class="reference internal" href="#ros2cli" id="id38">ros2cli</a></p></li>
<li><p><a class="reference internal" href="#rviz2" id="id39">rviz2</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#changes-since-the-galactic-release" id="id40">Changes since the Galactic release</a></p>
<ul>
<li><p><a class="reference internal" href="#c-headers-are-installed-in-a-subdirectory" id="id41">C++ headers are installed in a subdirectory</a></p></li>
<li><p><a class="reference internal" href="#common-interfaces" id="id42">common_interfaces</a></p></li>
<li><p><a class="reference internal" href="#rmw" id="id43">rmw</a></p></li>
<li><p><a class="reference internal" href="#rmw-connextdds" id="id44">rmw_connextdds</a></p></li>
<li><p><a class="reference internal" href="#rcl" id="id45">rcl</a></p></li>
<li><p><a class="reference internal" href="#rclcpp" id="id46">rclcpp</a></p></li>
<li><p><a class="reference internal" href="#rclcpp-lifecycle" id="id47">rclcpp_lifecycle</a></p></li>
<li><p><a class="reference internal" href="#rclpy" id="id48">rclpy</a></p></li>
<li><p><a class="reference internal" href="#ros1-bridge" id="id49">ros1_bridge</a></p></li>
<li><p><a class="reference internal" href="#id5" id="id50">ros2cli</a></p></li>
<li><p><a class="reference internal" href="#robot-state-publisher" id="id51">robot_state_publisher（机器人状态发布器）</a></p></li>
<li><p><a class="reference internal" href="#rosidl-cmake" id="id52">rosidl_cmake</a></p></li>
<li><p><a class="reference internal" href="#id7" id="id53">rviz2</a></p></li>
<li><p><a class="reference internal" href="#geometry2" id="id54">geometry2</a></p></li>
<li><p><a class="reference internal" href="#rosbag2" id="id55">rosbag2</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#known-issues" id="id56">已知问题</a></p></li>
<li><p><a class="reference internal" href="#release-timeline" id="id57">Release Timeline</a></p></li>
</ul>
</div>
<p><em>Humble Hawksbill</em> 是 ROS 2 的第八个版本。以下是 Humble Hawksbill 自上一个版本以来的重要变化和功能亮点。有关自 Galactic 以来的所有更改的列表，请参阅 <a class="reference internal" href="Humble-Hawksbill-Complete-Changelog.html"><span class="doc">完整变更日志</span></a>。</p>
<div class="section" id="supported-platforms">
<h2><a class="toc-backref" href="#id28">支持的平台</a><a class="headerlink" href="#supported-platforms" title="永久链接至标题"></a></h2>
<p>Humble Hawksbill 主要支持以下平台：</p>
<p>一级平台：</p>
<ul class="simple">
<li><p>Ubuntu 22.04 (Jammy): <code class="docutils literal notranslate"><span class="pre">amd64</span></code> 和 <code class="docutils literal notranslate"><span class="pre">arm64</span></code></p></li>
<li><p>Windows 10（Visual Studio 2019）：<code class="docutils literal notranslate"><span class="pre">amd64</span></code></p></li>
</ul>
<p>二级平台：</p>
<ul class="simple">
<li><p>RHEL 8：<code class="docutils literal notranslate"><span class="pre">amd64</span></code></p></li>
</ul>
<p>Tier 3 平台：</p>
<ul class="simple">
<li><p>Ubuntu 20.04（Focal）：<code class="docutils literal notranslate"><span class="pre">amd64</span></code></p></li>
<li><p>macOS：<code class="docutils literal notranslate"><span class="pre">amd64</span></code></p></li>
<li><p>Debian Bullseye：<code class="docutils literal notranslate"><span class="pre">amd64</span></code></p></li>
</ul>
<p>有关 RMW 实现、编译器/解释器版本和系统依赖版本的更多信息，请参阅 <a class="reference external" href="https://www.ros.org/reps/rep-2000.html">REP 2000</a>。</p>
</div>
<div class="section" id="installation">
<h2><a class="toc-backref" href="#id29">安装</a><a class="headerlink" href="#installation" title="永久链接至标题"></a></h2>
<p><a class="reference external" href="../../humble/Installation.html">安装 Humble Hawksbill</a></p>
</div>
<div class="section" id="changes-in-patch-release-1-2022-11-23">
<h2><a class="toc-backref" href="#id30">补丁发布1的变化（2022-11-23）</a><a class="headerlink" href="#changes-in-patch-release-1-2022-11-23" title="永久链接至标题"></a></h2>
<div class="section" id="ros2topic">
<h3><a class="toc-backref" href="#id31">ros2topic</a><a class="headerlink" href="#ros2topic" title="永久链接至标题"></a></h3>
<div class="section" id="now-as-keyword-for-builtin-interfaces-msg-time-and-auto-for-std-msgs-msg-header">
<h4><code class="docutils literal notranslate"><span class="pre">now</span></code> 作为 <code class="docutils literal notranslate"><span class="pre">builtin_interfaces.msg.Time</span></code> 的关键字，<code class="docutils literal notranslate"><span class="pre">auto</span></code> 作为 <code class="docutils literal notranslate"><span class="pre">std_msgs.msg.Header</span></code> 的关键字。<a class="headerlink" href="#now-as-keyword-for-builtin-interfaces-msg-time-and-auto-for-std-msgs-msg-header" title="永久链接至标题"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">topic</span> <span class="pre">pub</span></code> 现在允许使用关键字 <code class="docutils literal notranslate"><span class="pre">now</span></code> 将 <code class="docutils literal notranslate"><span class="pre">builtin_interfaces.msg.Time</span></code> 消息设置为当前时间。类似地，当传递关键字 <code class="docutils literal notranslate"><span class="pre">auto</span></code> 时，将自动生成 <code class="docutils literal notranslate"><span class="pre">std_msgs.msg.Header</span></code> 消息。此行为与 ROS 1 的 <code class="docutils literal notranslate"><span class="pre">rostopic</span></code> 一致（<a class="reference external" href="http://wiki.ros.org/ROS/YAMLCommandLine#Headers.2Ftimestamps">http://wiki.ros.org/ROS/YAMLCommandLine#Headers.2Ftimestamps</a>）。</p>
<p>相关 PR: <a class="reference external" href="https://github.com/ros2/ros2cli/pull/751">ros2/ros2cli#751</a></p>
</div>
</div>
</div>
<div class="section" id="new-features-in-this-ros-2-release">
<h2><a class="toc-backref" href="#id32">这个ROS 2版本的新功能有：</a><a class="headerlink" href="#new-features-in-this-ros-2-release" title="永久链接至标题"></a></h2>
<div class="section" id="ament-cmake-gen-version-h">
<h3><a class="toc-backref" href="#id33">ament_cmake_gen_version_h</a><a class="headerlink" href="#ament-cmake-gen-version-h" title="永久链接至标题"></a></h3>
<div class="section" id="generating-a-c-c-header-with-version-info">
<h4>生成带有版本信息的 C/C++ 头文件<a class="headerlink" href="#generating-a-c-c-header-with-version-info" title="永久链接至标题"></a></h4>
<p>在 <code class="docutils literal notranslate"><span class="pre">ament_cmake_gen_version_h</span></code> 中添加了一个新的 CMake 函数，用于生成带有包版本信息的头文件，详情请见 <a class="reference external" href="https://github.com/ament/ament_cmake/pull/377">ament/ament_cmake#377</a>。以下是最简单的使用示例：</p>
<div class="highlight-CMake notranslate"><div class="highlight"><pre><span></span><span class="nb">project</span><span class="p">(</span><span class="s">my_project</span><span class="p">)</span>
<span class="nb">add_library</span><span class="p">(</span><span class="s">my_lib</span><span class="w"> </span><span class="s">...</span><span class="p">)</span>
<span class="nb">ament_generate_version_header</span><span class="p">(</span><span class="s">my_lib</span><span class="p">)</span>
</pre></div>
</div>
<p>它将从``package.xml``生成一个带有版本信息的头文件，并使其可用于链接到``my_lib``库的目标。</p>
<p>如何包含该头文件：</p>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;my_project/version.h&gt;</span><span class="cp"></span>
</pre></div>
</div>
<p>头文件的安装位置：</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span><span class="p">(</span><span class="s">VERSION_HEADER</span><span class="w"> </span><span class="o">${</span><span class="nv">CMAKE_INSTALL_PREFIX</span><span class="o">}</span><span class="s">/include/my_project/my_project/version.h</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="launch">
<h3><a class="toc-backref" href="#id34">启动</a><a class="headerlink" href="#launch" title="永久链接至标题"></a></h3>
<div class="section" id="scoping-environment-variables-in-group-actions">
<h4>在组操作中进行环境变量的作用域设置<a class="headerlink" href="#scoping-environment-variables-in-group-actions" title="永久链接至标题"></a></h4>
<p>与启动配置类似，现在默认情况下，环境变量的状态会作用于组操作。</p>
<p>例如，在以下启动文件中，执行的进程将回显值``1``（在Humble之前将回显``2``）：</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-WE1M" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-WE1M" name="WE1M" role="tab" tabindex="0">XML</button><button aria-controls="panel-0-UHl0aG9u" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-UHl0aG9u" name="UHl0aG9u" role="tab" tabindex="-1">Python</button></div><div aria-labelledby="tab-0-WE1M" class="sphinx-tabs-panel group-tab" id="panel-0-WE1M" name="WE1M" role="tabpanel" tabindex="0"><div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;launch&gt;</span>
  <span class="nt">&lt;set_env</span> <span class="na">name=</span><span class="s">&quot;FOO&quot;</span> <span class="na">value=</span><span class="s">&quot;1&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;group&gt;</span>
    <span class="nt">&lt;set_env</span> <span class="na">name=</span><span class="s">&quot;FOO&quot;</span> <span class="na">value=</span><span class="s">&quot;2&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/group&gt;</span>
  <span class="nt">&lt;executable</span> <span class="na">cmd=</span><span class="s">&quot;echo $FOO&quot;</span> <span class="na">output=</span><span class="s">&quot;screen&quot;</span> <span class="na">shell=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/launch&gt;</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-0-UHl0aG9u" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-UHl0aG9u" name="UHl0aG9u" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">launch</span>
<span class="kn">import</span> <span class="nn">launch.actions</span>

<span class="k">def</span> <span class="nf">generate_launch_description</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">launch</span><span class="o">.</span><span class="n">LaunchDescription</span><span class="p">([</span>
        <span class="n">launch</span><span class="o">.</span><span class="n">actions</span><span class="o">.</span><span class="n">SetEnvironmentVariable</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;FOO&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;1&#39;</span><span class="p">),</span>
        <span class="n">launch</span><span class="o">.</span><span class="n">actions</span><span class="o">.</span><span class="n">GroupAction</span><span class="p">([</span>
            <span class="n">launch</span><span class="o">.</span><span class="n">actions</span><span class="o">.</span><span class="n">SetEnvironmentVariable</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;FOO&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;2&#39;</span><span class="p">),</span>
        <span class="p">]),</span>
        <span class="n">launch</span><span class="o">.</span><span class="n">actions</span><span class="o">.</span><span class="n">ExecuteProcess</span><span class="p">(</span><span class="n">cmd</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;echo&#39;</span><span class="p">,</span> <span class="s1">&#39;$FOO&#39;</span><span class="p">],</span> <span class="n">output</span><span class="o">=</span><span class="s1">&#39;screen&#39;</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="p">])</span>
</pre></div>
</div>
</div></div>
<p>如果您想禁用启动配置和环境变量的作用域，您可以将``scoped``参数（或属性）设置为false。</p>
<p>相关PR：<a class="reference external" href="https://github.com/ros2/launch/pull/601">ros2/launch#601</a></p>
</div>
<div class="section" id="launch-pytest">
<h4>launch_pytest<a class="headerlink" href="#launch-pytest" title="永久链接至标题"></a></h4>
<p>我们添加了一个新的软件包，<code class="docutils literal notranslate"><span class="pre">launch_pytest</span></code>，它可以作为``launch_testing``的替代方案。<a href="#id1"><span class="problematic" id="id2">``</span></a>launch_pytest``是一个简单的pytest插件，提供pytest fixtures来管理launch service的生命周期。</p>
<p>请查看`软件包的README以获取详细信息和示例。&lt;<a class="reference external" href="https://github.com/ros2/launch/tree/humble/launch_pytest">https://github.com/ros2/launch/tree/humble/launch_pytest</a>&gt;`_</p>
<p>相关PR：<a class="reference external" href="https://github.com/ros2/launch/pull/528">ros2/launch#528</a></p>
</div>
<div class="section" id="allow-matching-target-actions-with-a-callable">
<h4>允许使用可调用对象与目标动作进行匹配<a class="headerlink" href="#allow-matching-target-actions-with-a-callable" title="永久链接至标题"></a></h4>
<p>现在，事件处理程序可以接受可调用对象来进行匹配，而不仅限于接受目标动作对象。</p>
<p>相关 PR: <a class="reference external" href="https://github.com/ros2/launch/pull/540">ros2/launch#540</a></p>
</div>
<div class="section" id="access-to-math-module-when-evaluating-python-expressions">
<h4>在评估 Python 表达式时可以访问 math 模块<a class="headerlink" href="#access-to-math-module-when-evaluating-python-expressions" title="永久链接至标题"></a></h4>
<p>在``PythonExpression``替换（<code class="docutils literal notranslate"><span class="pre">eval</span></code>）中，我们现在可以使用 Python 的 math 模块中的符号。例如，</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;launch&gt;</span>
  <span class="nt">&lt;log</span> <span class="na">message=</span><span class="s">&quot;$(eval &#39;ceil(pi)&#39;)&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/launch&gt;</span>
</pre></div>
</div>
<p>相关 PR: <a class="reference external" href="https://github.com/ros2/launch/pull/557">ros2/launch#557</a></p>
</div>
<div class="section" id="boolean-substitutions">
<h4>布尔替代<a class="headerlink" href="#boolean-substitutions" title="永久链接至标题"></a></h4>
<p>新增替代 <code class="docutils literal notranslate"><span class="pre">NotSubstitution</span></code>、<code class="docutils literal notranslate"><span class="pre">AndSubstitution</span></code> 和 <code class="docutils literal notranslate"><span class="pre">OrSubstitution</span></code> 提供了一种方便的方法来执行逻辑操作，例如</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;launch&gt;</span>
  <span class="nt">&lt;let</span> <span class="na">name=</span><span class="s">&quot;p&quot;</span> <span class="na">value=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;let</span> <span class="na">name=</span><span class="s">&quot;q&quot;</span> <span class="na">value=</span><span class="s">&quot;false&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;group</span> <span class="na">if=</span><span class="s">&quot;$(or $(var p) $(var q))&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;log</span> <span class="na">message=</span><span class="s">&quot;The first condition is true&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/group&gt;</span>
  <span class="nt">&lt;group</span> <span class="na">unless=</span><span class="s">&quot;$(and $(var p) $(var q))&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;log</span> <span class="na">message=</span><span class="s">&quot;The second condition is false&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/group&gt;</span>
  <span class="nt">&lt;group</span> <span class="na">if=</span><span class="s">&quot;$(not $(var q))&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;log</span> <span class="na">message=</span><span class="s">&quot;The third condition is true&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/group&gt;</span>
<span class="nt">&lt;/launch&gt;</span>
</pre></div>
</div>
<p>相关PR：<a class="reference external" href="https://github.com/ros2/launch/pull/598">ros2/launch#598</a></p>
</div>
<div class="section" id="new-actions">
<h4>新增操作<a class="headerlink" href="#new-actions" title="永久链接至标题"></a></h4>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">AppendEnvironmentVariable</span></code> 将一个值追加到现有环境变量中。</p>
<ul>
<li><p>相关PR：<a class="reference external" href="https://github.com/ros2/launch/pull/543">ros2/launch#543</a></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">ResetLaunchConfigurations</span></code> 重置应用于启动配置的任何配置。</p>
<ul>
<li><p>相关 PR: <a class="reference external" href="https://github.com/ros2/launch/pull/515">ros2/launch#515</a></p></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="launch-ros">
<h3><a class="toc-backref" href="#id35">launch_ros</a><a class="headerlink" href="#launch-ros" title="永久链接至标题"></a></h3>
<div class="section" id="passing-ros-arguments-to-node-actions">
<h4>将 ROS 参数传递给节点操作<a class="headerlink" href="#passing-ros-arguments-to-node-actions" title="永久链接至标题"></a></h4>
<p>现在可以直接提供`ROS 特定的节点参数 &lt;../../How-To-Guides/Node-arguments&gt;`，而无需使用带有前导``--ros-args``标志的``args``:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-1-WE1M" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-1-WE1M" name="WE1M" role="tab" tabindex="0">XML</button><button aria-controls="panel-1-WUFNTA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-WUFNTA==" name="WUFNTA==" role="tab" tabindex="-1">YAML</button></div><div aria-labelledby="tab-1-WE1M" class="sphinx-tabs-panel group-tab" id="panel-1-WE1M" name="WE1M" role="tabpanel" tabindex="0"><div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;launch&gt;</span>
  <span class="nt">&lt;node</span> <span class="na">pkg=</span><span class="s">&quot;demo_nodes_cpp&quot;</span> <span class="na">exec=</span><span class="s">&quot;talker&quot;</span> <span class="na">ros_args=</span><span class="s">&quot;--log-level debug&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/launch&gt;</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-1-WUFNTA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-WUFNTA==" name="WUFNTA==" role="tabpanel" tabindex="0"><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">launch</span><span class="p">:</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">node</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">pkg</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">demo_nodes_cpp</span><span class="w"></span>
<span class="w">    </span><span class="nt">exec</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">talker</span><span class="w"></span>
<span class="w">    </span><span class="nt">ros_args</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;--log-level</span><span class="nv"> </span><span class="s">debug&#39;</span><span class="w"></span>
</pre></div>
</div>
</div></div>
<p>Python 启动文件中``Node``操作对应的参数是``ros_arguments``:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">launch</span> <span class="kn">import</span> <span class="n">LaunchDescription</span>
<span class="kn">import</span> <span class="nn">launch_ros.actions</span>

<span class="k">def</span> <span class="nf">generate_launch_description</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">LaunchDescription</span><span class="p">([</span>
        <span class="n">launch_ros</span><span class="o">.</span><span class="n">actions</span><span class="o">.</span><span class="n">Node</span><span class="p">(</span>
            <span class="n">package</span><span class="o">=</span><span class="s1">&#39;demo_nodes_cpp&#39;</span><span class="p">,</span>
            <span class="n">executable</span><span class="o">=</span><span class="s1">&#39;talker&#39;</span><span class="p">,</span>
            <span class="n">ros_arguments</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;--log-level&#39;</span><span class="p">,</span> <span class="s1">&#39;debug&#39;</span><span class="p">],</span>
        <span class="p">),</span>
    <span class="p">])</span>
</pre></div>
</div>
<p>相关PR：<a class="reference external" href="https://github.com/ros2/launch_ros/pull/249">ros2/launch_ros#249</a> 和 <a class="reference external" href="https://github.com/ros2/launch_ros/pull/253">ros2/launch_ros#253</a>。</p>
</div>
<div class="section" id="frontend-support-for-composable-nodes">
<h4>可组合节点的前端支持<a class="headerlink" href="#frontend-support-for-composable-nodes" title="永久链接至标题"></a></h4>
<p>现在我们可以从前端launch文件中启动节点容器并将组件加载到其中，例如：</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-2-WE1M" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-2-WE1M" name="WE1M" role="tab" tabindex="0">XML</button><button aria-controls="panel-2-WUFNTA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-2-WUFNTA==" name="WUFNTA==" role="tab" tabindex="-1">YAML</button></div><div aria-labelledby="tab-2-WE1M" class="sphinx-tabs-panel group-tab" id="panel-2-WE1M" name="WE1M" role="tabpanel" tabindex="0"><div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;launch&gt;</span>
  <span class="nt">&lt;node_container</span> <span class="na">pkg=</span><span class="s">&quot;rclcpp_components&quot;</span> <span class="na">exec=</span><span class="s">&quot;component_container&quot;</span> <span class="na">name=</span><span class="s">&quot;my_container&quot;</span> <span class="na">namespace=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;composable_node</span> <span class="na">pkg=</span><span class="s">&quot;composition&quot;</span> <span class="na">plugin=</span><span class="s">&quot;composition::Talker&quot;</span> <span class="na">name=</span><span class="s">&quot;talker&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/node_container&gt;</span>
  <span class="nt">&lt;load_composable_node</span> <span class="na">target=</span><span class="s">&quot;my_container&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;composable_node</span> <span class="na">pkg=</span><span class="s">&quot;composition&quot;</span> <span class="na">plugin=</span><span class="s">&quot;composition::Listener&quot;</span> <span class="na">name=</span><span class="s">&quot;listener&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/load_composable_node&gt;</span>
<span class="nt">&lt;/launch&gt;</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-2-WUFNTA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-2-WUFNTA==" name="WUFNTA==" role="tabpanel" tabindex="0"><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">launch</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">node_container</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">pkg</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">rclcpp_components</span><span class="w"></span>
<span class="w">      </span><span class="nt">exec</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">component_container</span><span class="w"></span>
<span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_container</span><span class="w"></span>
<span class="w">      </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;&#39;</span><span class="w"></span>
<span class="w">      </span><span class="nt">composable_node</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">pkg</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">composition</span><span class="w"></span>
<span class="w">          </span><span class="nt">plugin</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">composition::Talker</span><span class="w"></span>
<span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">talker</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">load_composable_node</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">target</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_container</span><span class="w"></span>
<span class="w">      </span><span class="nt">composable_node</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">pkg</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">composition</span><span class="w"></span>
<span class="w">          </span><span class="nt">plugin</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">composition::Listener</span><span class="w"></span>
<span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">listener</span><span class="w"></span>
</pre></div>
</div>
</div></div>
<p>相关PR：<a class="reference external" href="https://github.com/ros2/launch_ros/pull/235">ros2/launch_ros#235</a></p>
</div>
<div class="section" id="parameter-substitution">
<h4>参数替换<a class="headerlink" href="#parameter-substitution" title="永久链接至标题"></a></h4>
<p>新的``ParameterSubstitution``允许您使用``SetParameter``动作替换先前在launch中设置的参数的值。例如：</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;launch&gt;</span>
  <span class="nt">&lt;set_parameter</span> <span class="na">name=</span><span class="s">&quot;foo&quot;</span> <span class="na">value=</span><span class="s">&quot;bar&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;log</span> <span class="na">message=</span><span class="s">&quot;Parameter foo has value $(param foo)&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/launch&gt;</span>
</pre></div>
</div>
<p>相关PR：<a class="reference external" href="https://github.com/ros2/launch_ros/pull/297">ros2/launch_ros#297</a></p>
</div>
<div class="section" id="id1">
<h4>新增操作<a class="headerlink" href="#id1" title="永久链接至标题"></a></h4>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">RosTimer``的功能类似于launch中的``TimerAction</span></code>，但使用ROS时钟（因此可以使用仿真时间，例如）。</p>
<ul>
<li><p>相关PR：<a class="reference external" href="https://github.com/ros2/launch_ros/pull/244">ros2/launch_ros#244</a> 和 <a class="reference external" href="https://github.com/ros2/launch_ros/pull/264">ros2/launch_ros#264</a></p></li>
</ul>
</li>
<li><p><a href="#id1"><span class="problematic" id="id2">``</span></a>SetParametersFromFile``将ROS参数文件传递给启动文件中的所有节点（包括节点组件）。</p>
<ul>
<li><p>相关PR：<a class="reference external" href="https://github.com/ros2/launch_ros/pull/260">ros2/launch_ros#260</a> 和 <a class="reference external" href="https://github.com/ros2/launch_ros/pull/281">ros2/launch_ros#281</a></p></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="sros2-security-enclaves-support-certificate-revocation-lists">
<h3><a class="toc-backref" href="#id36">SROS2安全飞地支持证书吊销列表</a><a class="headerlink" href="#sros2-security-enclaves-support-certificate-revocation-lists" title="永久链接至标题"></a></h3>
<p>证书吊销列表 (CRLs) 是一种概念，允许在证书到期之前吊销特定证书。从 Humble 版本开始，现在可以将 CRL 放入 SROS2 安全飞地中，并使其生效。有关如何使用它的示例，请参阅 <a class="reference external" href="https://github.com/ros2/sros2/blob/humble/SROS2_Linux.md#certificate-revocation-lists">SROS2 教程</a>。</p>
</div>
<div class="section" id="content-filtered-topics">
<h3><a class="toc-backref" href="#id37">内容过滤主题</a><a class="headerlink" href="#content-filtered-topics" title="永久链接至标题"></a></h3>
<p>内容过滤主题支持更复杂的订阅，表示订阅者不一定想看到主题下每个实例的所有值。当底层 RMW 实现支持此功能时，可以使用内容过滤主题来请求基于内容的订阅。</p>
<table class="colwidths-given docutils align-default" id="id27">
<caption><span class="caption-text">RMW 内容过滤主题支持</span><a class="headerlink" href="#id27" title="永久链接至表格"></a></caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>rmw_fastrtps</p></td>
<td><p>支持</p></td>
</tr>
<tr class="row-even"><td><p>rmw_connextdds</p></td>
<td><p>支持</p></td>
</tr>
<tr class="row-odd"><td><p>rmw_cyclonedds</p></td>
<td><p>不支持</p></td>
</tr>
</tbody>
</table>
<p>要了解更多信息，请参阅 <a class="reference external" href="https://github.com/ros2/examples/blob/humble/rclcpp/topics/minimal_subscriber/content_filtering.cpp">content_filtering</a> 示例。</p>
<p>相关设计 PR: <a class="reference external" href="https://github.com/ros2/design/pull/282">ros2/design#282</a>。</p>
</div>
<div class="section" id="ros2cli">
<h3><a class="toc-backref" href="#id38">ros2cli</a><a class="headerlink" href="#ros2cli" title="永久链接至标题"></a></h3>
<div class="section" id="ros2-launch-has-a-launch-prefix-argument">
<h4><code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">launch</span></code> 命令有一个 <code class="docutils literal notranslate"><span class="pre">--launch-prefix</span></code> 参数。<a class="headerlink" href="#ros2-launch-has-a-launch-prefix-argument" title="永久链接至标题"></a></h4>
<p>这允许在启动文件中给所有可执行文件添加前缀，在许多调试情况下非常有用。有关详细信息，请参阅相关的 <a class="reference external" href="https://github.com/ros2/launch_ros/pull/254">pull request</a>，以及 <a class="reference internal" href="../How-To-Guides/Launch-files-migration-guide.html#launch-prefix-example"><span class="std std-ref">教程</span></a>。</p>
<p>相关的，增加了``--launch-prefix-filter`` 命令行选项，用于选择性地将 <code class="docutils literal notranslate"><span class="pre">--launch-prefix</span></code> 的前缀添加到可执行文件中。有关详细信息，请参阅 <a class="reference external" href="https://github.com/ros2/launch_ros/pull/261">pull request</a>。</p>
</div>
<div class="section" id="ros2-topic-echo-has-a-flow-style-argument">
<h4><code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">topic</span> <span class="pre">echo</span></code> 命令有一个 <code class="docutils literal notranslate"><span class="pre">--flow-style</span></code> 参数。<a class="headerlink" href="#ros2-topic-echo-has-a-flow-style-argument" title="永久链接至标题"></a></h4>
<p>这使用户能够在主题的YAML表示中强制使用“流样式”。如果没有此选项，<a href="#id1"><span class="problematic" id="id2">``</span></a>ros2 topic echo /tf_static``的输出可能类似于：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">transforms</span><span class="p">:</span>
<span class="o">-</span> <span class="n">header</span><span class="p">:</span>
    <span class="n">stamp</span><span class="p">:</span>
      <span class="n">sec</span><span class="p">:</span> <span class="mi">1651172841</span>
      <span class="n">nanosec</span><span class="p">:</span> <span class="mi">433705575</span>
    <span class="n">frame_id</span><span class="p">:</span> <span class="n">single_rrbot_link3</span>
  <span class="n">child_frame_id</span><span class="p">:</span> <span class="n">single_rrbot_camera_link</span>
  <span class="n">transform</span><span class="p">:</span>
    <span class="n">translation</span><span class="p">:</span>
      <span class="n">x</span><span class="p">:</span> <span class="mf">0.05</span>
      <span class="n">y</span><span class="p">:</span> <span class="mf">0.0</span>
      <span class="n">z</span><span class="p">:</span> <span class="mf">0.9</span>
    <span class="n">rotation</span><span class="p">:</span>
      <span class="n">x</span><span class="p">:</span> <span class="mf">0.0</span>
      <span class="n">y</span><span class="p">:</span> <span class="mf">0.0</span>
      <span class="n">z</span><span class="p">:</span> <span class="mf">0.0</span>
      <span class="n">w</span><span class="p">:</span> <span class="mf">1.0</span>
</pre></div>
</div>
<p>使用此选项，输出可能类似于：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">transforms</span><span class="p">:</span> <span class="p">[{</span><span class="n">header</span><span class="p">:</span> <span class="p">{</span><span class="n">stamp</span><span class="p">:</span> <span class="p">{</span><span class="n">sec</span><span class="p">:</span> <span class="mi">1651172841</span><span class="p">,</span> <span class="n">nanosec</span><span class="p">:</span> <span class="mi">433705575</span><span class="p">},</span> <span class="n">frame_id</span><span class="p">:</span> <span class="n">single_rrbot_link3</span><span class="p">},</span> <span class="n">child_frame_id</span><span class="p">:</span> <span class="n">single_rrbot_camera_link</span><span class="p">,</span> <span class="n">transform</span><span class="p">:</span> <span class="p">{</span><span class="n">translation</span><span class="p">:</span> <span class="p">{</span><span class="n">x</span><span class="p">:</span> <span class="mf">0.05</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">z</span><span class="p">:</span> <span class="mf">0.9</span><span class="p">},</span> <span class="n">rotation</span><span class="p">:</span> <span class="p">{</span><span class="n">x</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">z</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">w</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">}}}]</span>
</pre></div>
</div>
<p>有关更多信息，请参阅`PyYAML文档 &lt;<a class="reference external" href="https://pyyaml.docsforge.com/master/documentation/#dictionaries-without-nested-collections-are-not-dumped-correctly">https://pyyaml.docsforge.com/master/documentation/#dictionaries-without-nested-collections-are-not-dumped-correctly</a>&gt;`__。</p>
</div>
<div class="section" id="ros2-topic-echo-can-filter-data-based-on-message-contents">
<h4><a href="#id1"><span class="problematic" id="id2">``</span></a>ros2 topic echo``可以根据消息内容进行数据过滤。<a class="headerlink" href="#ros2-topic-echo-can-filter-data-based-on-message-contents" title="永久链接至标题"></a></h4>
<p>这使用户只能打印与特定Python表达式匹配的主题上的数据。例如，使用以下参数只会打印以'foo'开头的字符串消息：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ros2</span> <span class="n">topic</span> <span class="n">echo</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;m.data.startswith(&quot;foo&quot;)` /chatter</span>
</pre></div>
</div>
<p>有关更多信息，请参阅`pull request &lt;<a class="reference external" href="https://github.com/ros2/ros2cli/pull/654">https://github.com/ros2/ros2cli/pull/654</a>&gt;`__。</p>
</div>
</div>
<div class="section" id="rviz2">
<h3><a class="toc-backref" href="#id39">rviz2</a><a class="headerlink" href="#rviz2" title="永久链接至标题"></a></h3>
<div class="section" id="apply-textures-to-arbitrary-triangle-lists">
<h4>Apply textures to arbitrary triangle lists<a class="headerlink" href="#apply-textures-to-arbitrary-triangle-lists" title="永久链接至标题"></a></h4>
<p>We've added <a class="reference external" href="https://github.com/ros2/rviz/pull/719">the ability to apply textures defined via URI to arbitrary triangle lists using UV Coordinates</a>.
Now we can create a gradient pull from a texture map instead of the default grayscale.
This will enable complex coloring of markers.
To use this, you should use the <code class="docutils literal notranslate"><span class="pre">visualization_msgs/Marker.msg</span></code> and fill the <code class="docutils literal notranslate"><span class="pre">texture_resource</span></code>, <code class="docutils literal notranslate"><span class="pre">texture</span></code>, <code class="docutils literal notranslate"><span class="pre">uv_coordinates</span></code> and <code class="docutils literal notranslate"><span class="pre">mesh_file</span></code> fields.
You can find more information <a class="reference external" href="https://github.com/ros2/common_interfaces/pull/153">here</a>.</p>
<img alt="../_images/triangle_marker_with_gradient.png" src="../_images/triangle_marker_with_gradient.png" />
</div>
<div class="section" id="visualization-of-mass-properties-including-inertia">
<h4>Visualization of mass properties (including inertia)<a class="headerlink" href="#visualization-of-mass-properties-including-inertia" title="永久链接至标题"></a></h4>
<p>We also added the ability to visualize inertias. To do this, you select enable 'Inertia' in the 'Mass Properties' under the robot model:</p>
<img alt="../_images/rviz_mass_inertia.png" src="../_images/rviz_mass_inertia.png" />
<p>You can see an image of an inertia below.</p>
<img alt="../_images/tb4_inertia.png" src="../_images/tb4_inertia.png" />
</div>
<div class="section" id="visualize-yuv-images-in-rviz">
<h4>Visualize YUV images in RViz<a class="headerlink" href="#visualize-yuv-images-in-rviz" title="永久链接至标题"></a></h4>
<p>It is now possible to directly visualize YUV images inside of RViz, rather than having to convert to RGB first.
See <a class="reference external" href="https://github.com/ros2/rviz/pull/701">ros2/rviz#701</a> for details.</p>
</div>
<div class="section" id="allow-rendering-of-objects-100-meters">
<h4>Allow rendering of objects &gt; 100 meters<a class="headerlink" href="#allow-rendering-of-objects-100-meters" title="永久链接至标题"></a></h4>
<p>By default, RViz only renders objects that are within 100 meters of a camera.
A new configuration property called &quot;Far Plane Distance&quot; in the rviz camera plugin allows that rendering distance to be configured.</p>
<img alt="../_images/rviz2-far-plane-distance.png" src="../_images/rviz2-far-plane-distance.png" />
<p>See <a class="reference external" href="https://github.com/ros2/rviz/pull/849">ros2/rviz#849</a> for more information.</p>
</div>
</div>
</div>
<div class="section" id="changes-since-the-galactic-release">
<h2><a class="toc-backref" href="#id40">Changes since the Galactic release</a><a class="headerlink" href="#changes-since-the-galactic-release" title="永久链接至标题"></a></h2>
<div class="section" id="c-headers-are-installed-in-a-subdirectory">
<h3><a class="toc-backref" href="#id41">C++ headers are installed in a subdirectory</a><a class="headerlink" href="#c-headers-are-installed-in-a-subdirectory" title="永久链接至标题"></a></h3>
<p>In ROS 2 releases prior to Humble, C++ headers for all packages were installed into a single include directory.
For instance, in Galactic, the directory structure looks like this (reduced for brevity):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>/opt/ros/galactic/include/
├── rcl
│   ├── node.h
├── rclcpp
│   ├── node.hpp
</pre></div>
</div>
<p>This structure can cause serious problems when trying to use overlays.
That is, it is very possible to get the wrong set of header files due to include directory order.
See <a class="reference external" href="https://colcon.readthedocs.io/en/released/user/overriding-packages.html">https://colcon.readthedocs.io/en/released/user/overriding-packages.html</a> for a detailed explanation of the problems.</p>
<p>To help combat this, in Humble (and in all ROS 2 releases going forward), the directory structure has changed:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>/opt/ros/humble/include
├── rcl
│   └── rcl
│       ├── node.h
├── rclcpp
│   └── rclcpp
│       ├── node.hpp
</pre></div>
</div>
<p>Note that downstream packages that use these headers do <em>not</em> have to change; using <code class="docutils literal notranslate"><span class="pre">#include</span> <span class="pre">&lt;rclcpp/node.hpp&gt;</span></code> works as it always did before.
However, when using IDEs that are looking for include directories, it may be necessary to add the individual include directories to the search path.</p>
<p>See <a class="reference external" href="https://github.com/ros2/ros2/issues/1150">https://github.com/ros2/ros2/issues/1150</a> for more information, including the reasoning behind this change.</p>
</div>
<div class="section" id="common-interfaces">
<h3><a class="toc-backref" href="#id42">common_interfaces</a><a class="headerlink" href="#common-interfaces" title="永久链接至标题"></a></h3>
<div class="section" id="support-textures-and-embedded-meshes-for-marker-messages">
<h4>Support Textures and Embedded Meshes for Marker Messages<a class="headerlink" href="#support-textures-and-embedded-meshes-for-marker-messages" title="永久链接至标题"></a></h4>
<p>These two additions will improve the ability to both visualize data in new ways with standard messages and, simultaneously, enable the ability to track this data in rosbag.</p>
<p><strong>Textures</strong> bring the addition of three new fields to markers:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Texture resource is a special URI that can either reference a texture file in</span>
<span class="c1"># a format acceptable to (resource retriever)[https://index.ros.org/p/resource_retriever/]</span>
<span class="c1"># or an embedded texture via a string matching the format:</span>
<span class="c1">#   &quot;embedded://texture_name&quot;</span>
string texture_resource
<span class="c1"># An image to be loaded into the rendering engine as the texture for this marker.</span>
<span class="c1"># This will be used iff texture_resource is set to embedded.</span>
sensor_msgs/CompressedImage texture
<span class="c1"># Location of each vertex within the texture; in the range: [0.0-1.0]</span>
UVCoordinate<span class="o">[]</span> uv_coordinates
</pre></div>
</div>
<p>RViz will fully support texture rendering through the embedded format.</p>
<p>To those familiar with <code class="docutils literal notranslate"><span class="pre">mesh_resource</span></code>, <code class="docutils literal notranslate"><span class="pre">resource_retriever</span></code> should be familiar.
This will allow the programmer to choose where they want to load data from, either a local file or a networked file.
In the interest of being able to record all data in a rosbag, the ability to embed the texture image is included.</p>
<p><strong>Meshes</strong> were modified in a similar way to add the ability to embed a raw Mesh file for the purpose of recording and are modified in a similar way. The Meshfile message has two fields:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># The filename is used for both debug purposes and to provide a file extension</span>
<span class="c1"># for whatever parser is used.</span>
string filename

<span class="c1"># This stores the raw text of the mesh file.</span>
uint8<span class="o">[]</span> data
</pre></div>
</div>
<p>The embedded <code class="docutils literal notranslate"><span class="pre">Meshfile</span></code> message is not yet supported in implementation.</p>
<p>Related PRs: <a class="reference external" href="https://github.com/ros2/common_interfaces/pull/153">ros2/common_interfaces#153</a> <a class="reference external" href="https://github.com/ros2/rviz/pull/719">ros2/rviz#719</a></p>
</div>
<div class="section" id="added-prism-type-to-solidprimitive">
<h4>Added <code class="docutils literal notranslate"><span class="pre">PRISM</span></code> type to SolidPrimitive<a class="headerlink" href="#added-prism-type-to-solidprimitive" title="永久链接至标题"></a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">SolidPrimitive</span></code> message had a new <code class="docutils literal notranslate"><span class="pre">PRISM</span></code> type added, along with the appropriate metadata.
See <a class="reference external" href="https://github.com/ros2/common_interfaces/pull/167">ros2/common_interfaces#167</a> for more information.</p>
</div>
</div>
<div class="section" id="rmw">
<h3><a class="toc-backref" href="#id43">rmw</a><a class="headerlink" href="#rmw" title="永久链接至标题"></a></h3>
<div class="section" id="struct-type-name-suffix-changed-from-t-to-s">
<h4><code class="docutils literal notranslate"><span class="pre">struct</span></code> type name suffix changed from <code class="docutils literal notranslate"><span class="pre">_t</span></code> to <code class="docutils literal notranslate"><span class="pre">_s</span></code><a class="headerlink" href="#struct-type-name-suffix-changed-from-t-to-s" title="永久链接至标题"></a></h4>
<p>To avoid type name duplication errors between <code class="docutils literal notranslate"><span class="pre">struct</span></code> type names and their <code class="docutils literal notranslate"><span class="pre">typedef</span></code>-ed aliases when generating code documentation, the suffix for all <code class="docutils literal notranslate"><span class="pre">struct</span></code> type names has been changed from <code class="docutils literal notranslate"><span class="pre">_t</span></code> to <code class="docutils literal notranslate"><span class="pre">_s</span></code>.
Aliases with <code class="docutils literal notranslate"><span class="pre">_t</span></code> suffixes remain in place.
Thus, this change is a breaking change only for code that uses full <code class="docutils literal notranslate"><span class="pre">struct</span></code> type specifiers i.e. <code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">type_name_t</span></code>.</p>
<p>See <a class="reference external" href="https://github.com/ros2/rmw/pull/313">ros2/rmw#313</a> for more details.</p>
</div>
</div>
<div class="section" id="rmw-connextdds">
<h3><a class="toc-backref" href="#id44">rmw_connextdds</a><a class="headerlink" href="#rmw-connextdds" title="永久链接至标题"></a></h3>
<div class="section" id="use-connext-6-by-default">
<h4>Use Connext 6 by default<a class="headerlink" href="#use-connext-6-by-default" title="永久链接至标题"></a></h4>
<p>By default, Humble Hawksbill uses Connext 6.0.1 as the DDS implementation for <code class="docutils literal notranslate"><span class="pre">rmw_connextdds</span></code>.
It is still possible to use Connext 5.3.1 with <code class="docutils literal notranslate"><span class="pre">rmw_connextdds</span></code>, but it must be rebuilt from source.</p>
</div>
</div>
<div class="section" id="rcl">
<h3><a class="toc-backref" href="#id45">rcl</a><a class="headerlink" href="#rcl" title="永久链接至标题"></a></h3>
<div class="section" id="id2">
<h4><code class="docutils literal notranslate"><span class="pre">struct</span></code> type name suffix changed from <code class="docutils literal notranslate"><span class="pre">_t</span></code> to <code class="docutils literal notranslate"><span class="pre">_s</span></code><a class="headerlink" href="#id2" title="永久链接至标题"></a></h4>
<p>To avoid type name duplication errors between <code class="docutils literal notranslate"><span class="pre">struct</span></code> type names and their <code class="docutils literal notranslate"><span class="pre">typedef</span></code>-ed aliases when generating code documentation, the suffix for all <code class="docutils literal notranslate"><span class="pre">struct</span></code> type names has been changed from <code class="docutils literal notranslate"><span class="pre">_t</span></code> to <code class="docutils literal notranslate"><span class="pre">_s</span></code>.
Aliases with <code class="docutils literal notranslate"><span class="pre">_t</span></code> suffixes remain in place.
Thus, this change is a breaking change only for code that uses full <code class="docutils literal notranslate"><span class="pre">struct</span></code> type specifiers i.e. <code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">type_name_t</span></code>.</p>
<p>See <a class="reference external" href="https://github.com/ros2/rcl/pull/932">ros2/rcl#932</a> for more details.</p>
</div>
<div class="section" id="ros-disable-loaned-messages-environment-variable-added">
<h4>ROS_DISABLE_LOANED_MESSAGES environment variable added<a class="headerlink" href="#ros-disable-loaned-messages-environment-variable-added" title="永久链接至标题"></a></h4>
<p>This environment variable can be used to disable loaned messages support, independently if the rmw supports them or not.
For more details, see the guide <a class="reference internal" href="../How-To-Guides/Disabling-ZeroCopy-loaned-messages.html"><span class="doc">Disabling Zero Copy Loaned Messages</span></a>.</p>
</div>
</div>
<div class="section" id="rclcpp">
<h3><a class="toc-backref" href="#id46">rclcpp</a><a class="headerlink" href="#rclcpp" title="永久链接至标题"></a></h3>
<div class="section" id="support-type-adaption-for-publishers-and-subscriptions">
<h4>Support Type Adaption for Publishers and Subscriptions<a class="headerlink" href="#support-type-adaption-for-publishers-and-subscriptions" title="永久链接至标题"></a></h4>
<p>After defining a type adapter, custom data structures can be used directly by publishers and subscribers, which helps to avoid additional work for the programmer and potential sources of errors.
This is especially useful when working with complex data types, such as when converting OpenCV's <code class="docutils literal notranslate"><span class="pre">cv::Mat</span></code> to ROS's <code class="docutils literal notranslate"><span class="pre">sensor_msgs/msg/Image</span></code> type.</p>
<p>Here is an example of a type adapter that converts <code class="docutils literal notranslate"><span class="pre">std_msgs::msg::String</span></code> to <code class="docutils literal notranslate"><span class="pre">std::string</span></code>:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">template</span><span class="o">&lt;&gt;</span><span class="w"></span>
<span class="k">struct</span><span class="w"> </span><span class="nc">rclcpp</span><span class="o">::</span><span class="n">TypeAdapter</span><span class="o">&lt;</span><span class="w"></span>
<span class="w">   </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span><span class="w"></span>
<span class="w">   </span><span class="n">std_msgs</span><span class="o">::</span><span class="n">msg</span><span class="o">::</span><span class="n">String</span><span class="w"></span>
<span class="o">&gt;</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="k">using</span><span class="w"> </span><span class="n">is_specialized</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">true_type</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="k">using</span><span class="w"> </span><span class="n">custom_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="k">using</span><span class="w"> </span><span class="n">ros_message_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std_msgs</span><span class="o">::</span><span class="n">msg</span><span class="o">::</span><span class="n">String</span><span class="p">;</span><span class="w"></span>

<span class="w">  </span><span class="k">static</span><span class="w"></span>
<span class="w">  </span><span class="kt">void</span><span class="w"></span>
<span class="w">  </span><span class="nf">convert_to_ros_message</span><span class="p">(</span><span class="w"></span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">custom_type</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">source</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">ros_message_type</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">destination</span><span class="p">)</span><span class="w"></span>
<span class="w">  </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">destination</span><span class="p">.</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">source</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="k">static</span><span class="w"></span>
<span class="w">  </span><span class="kt">void</span><span class="w"></span>
<span class="w">  </span><span class="nf">convert_to_custom</span><span class="p">(</span><span class="w"></span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">ros_message_type</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">source</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">custom_type</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">destination</span><span class="p">)</span><span class="w"></span>
<span class="w">  </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">destination</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">source</span><span class="p">.</span><span class="n">data</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>
</pre></div>
</div>
<p>And an example of how the type adapter can be used:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">using</span><span class="w"> </span><span class="n">MyAdaptedType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TypeAdapter</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span><span class="w"> </span><span class="n">std_msgs</span><span class="o">::</span><span class="n">msg</span><span class="o">::</span><span class="n">String</span><span class="o">&gt;</span><span class="p">;</span><span class="w"></span>

<span class="c1">// Publish a std::string</span>
<span class="k">auto</span><span class="w"> </span><span class="n">pub</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">node</span><span class="o">-&gt;</span><span class="n">create_publisher</span><span class="o">&lt;</span><span class="n">MyAdaptedType</span><span class="o">&gt;</span><span class="p">(...);</span><span class="w"></span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">custom_msg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;My std::string&quot;</span><span class="w"></span>
<span class="n">pub</span><span class="o">-&gt;</span><span class="n">publish</span><span class="p">(</span><span class="n">custom_msg</span><span class="p">);</span><span class="w"></span>

<span class="c1">// Pass a std::string to a subscription&#39;s callback</span>
<span class="k">auto</span><span class="w"> </span><span class="n">sub</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">node</span><span class="o">-&gt;</span><span class="n">create_subscription</span><span class="o">&lt;</span><span class="n">MyAdaptedType</span><span class="o">&gt;</span><span class="p">(</span><span class="w"></span>
<span class="w">  </span><span class="s">&quot;topic&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="mi">10</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="p">[](</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">msg</span><span class="p">)</span><span class="w"> </span><span class="p">{...});</span><span class="w"></span>
</pre></div>
</div>
<p>To learn more, see the <a class="reference external" href="https://github.com/ros2/examples/blob/b83b18598b198b4a5ba44f9266c1bb39a393fa17/rclcpp/topics/minimal_publisher/member_function_with_type_adapter.cpp">publisher</a> and <a class="reference external" href="https://github.com/ros2/examples/blob/b83b18598b198b4a5ba44f9266c1bb39a393fa17/rclcpp/topics/minimal_subscriber/member_function_with_type_adapter.cpp">subscription</a> examples, as well as a more complex <a class="reference external" href="https://github.com/ros2/demos/pull/482">demo</a>.
For more details, see <a class="reference external" href="https://ros.org/reps/rep-2007.html">REP 2007</a>.</p>
</div>
<div class="section" id="client-asnyc-send-request-request-returns-a-std-future-instead-of-a-std-shared-future">
<h4><code class="docutils literal notranslate"><span class="pre">Client::asnyc_send_request(request)</span></code> returns a <code class="docutils literal notranslate"><span class="pre">std::future</span></code> instead of a <code class="docutils literal notranslate"><span class="pre">std::shared_future</span></code><a class="headerlink" href="#client-asnyc-send-request-request-returns-a-std-future-instead-of-a-std-shared-future" title="永久链接至标题"></a></h4>
<p>This change was implemented in <a class="reference external" href="https://github.com/ros2/rclcpp/pull/1734">rclcpp#1734</a>.
This breaks API, as <code class="docutils literal notranslate"><span class="pre">std::future::get()</span></code> methods extracts the value from the future.
That means, if that method is called for a second time it will throw an exception.
That doesn't happen with a <code class="docutils literal notranslate"><span class="pre">std::shared_future</span></code>, as its <code class="docutils literal notranslate"><span class="pre">get()</span></code> method returns a <code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">&amp;</span></code>.
Example:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">auto</span><span class="w"> </span><span class="n">future</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">client</span><span class="o">-&gt;</span><span class="n">async_send_request</span><span class="p">(</span><span class="n">req</span><span class="p">);</span><span class="w"></span>
<span class="p">...</span><span class="w"></span>
<span class="n">do_something_with_response</span><span class="p">(</span><span class="n">future</span><span class="p">.</span><span class="n">get</span><span class="p">());</span><span class="w"></span>
<span class="p">...</span><span class="w"></span>
<span class="n">do_something_else_with_response</span><span class="p">(</span><span class="n">future</span><span class="p">.</span><span class="n">get</span><span class="p">());</span><span class="w">  </span><span class="c1">// this will throw an exception now!!</span>
</pre></div>
</div>
<p>should be updated to:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">auto</span><span class="w"> </span><span class="n">future</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">client</span><span class="o">-&gt;</span><span class="n">async_send_request</span><span class="p">(</span><span class="n">req</span><span class="p">);</span><span class="w"></span>
<span class="p">...</span><span class="w"></span>
<span class="k">auto</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">future</span><span class="p">.</span><span class="n">get</span><span class="p">();</span><span class="w"></span>
<span class="n">do_something_with_response</span><span class="p">(</span><span class="n">response</span><span class="p">);</span><span class="w"></span>
<span class="p">...</span><span class="w"></span>
<span class="n">do_something_else_with_response</span><span class="p">(</span><span class="n">response</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>If a shared future is needed, the <code class="docutils literal notranslate"><span class="pre">std::future::share()</span></code> method can be used.</p>
</div>
<div class="section" id="wait-for-all-acked-method-added-to-publisher">
<h4><code class="docutils literal notranslate"><span class="pre">wait_for_all_acked</span></code> method added to <code class="docutils literal notranslate"><span class="pre">Publisher</span></code><a class="headerlink" href="#wait-for-all-acked-method-added-to-publisher" title="永久链接至标题"></a></h4>
<p>This new method will block until all messages in the publisher queue are acked by the matching subscriptions or the specified timeout expires.
It is only useful for reliable publishers, as in the case of best effort QoS there's no acking.
Examples:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">auto</span><span class="w"> </span><span class="n">pub</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">node</span><span class="o">-&gt;</span><span class="n">create_publisher</span><span class="o">&lt;</span><span class="n">std_msgs</span><span class="o">::</span><span class="n">msg</span><span class="o">::</span><span class="n">String</span><span class="o">&gt;</span><span class="p">(...);</span><span class="w"></span>
<span class="p">...</span><span class="w"></span>
<span class="n">pub</span><span class="o">-&gt;</span><span class="n">publish</span><span class="p">(</span><span class="n">my_msg</span><span class="p">);</span><span class="w"></span>
<span class="p">...</span><span class="w"></span>
<span class="n">pub</span><span class="o">-&gt;</span><span class="n">wait_for_all_acked</span><span class="p">();</span><span class="w"> </span><span class="c1">// or pub-&gt;wait_for_all_acked(timeout)</span>
</pre></div>
</div>
<p>For a more complete example, see <a class="reference external" href="https://github.com/ros2/examples/blob/humble/rclcpp/topics/minimal_publisher/member_function_with_wait_for_all_acked.cpp">here</a>.</p>
</div>
<div class="section" id="get-callback-groups-method-removed-from-nodebase-and-node-classes">
<h4><code class="docutils literal notranslate"><span class="pre">get_callback_groups</span></code> method removed from <code class="docutils literal notranslate"><span class="pre">NodeBase</span></code> and <code class="docutils literal notranslate"><span class="pre">Node</span></code> classes<a class="headerlink" href="#get-callback-groups-method-removed-from-nodebase-and-node-classes" title="永久链接至标题"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">for_each_callback_group()</span></code> method has replaced <code class="docutils literal notranslate"><span class="pre">get_callback_groups()</span></code> by providing a thread-safe way to access <code class="docutils literal notranslate"><span class="pre">callback_groups_</span></code> vector.
<code class="docutils literal notranslate"><span class="pre">for_each_callback_group()</span></code> accepts a function as an argument, iterates over the stored callback groups, and calls the passed function to ones that are valid.</p>
<p>For more details, please refer to this <a class="reference external" href="https://github.com/ros2/rclcpp/pull/1723">pull request</a>.</p>
</div>
<div class="section" id="add-to-wait-set-method-from-waitable-class-changes-its-return-type-from-bool-to-void">
<h4><code class="docutils literal notranslate"><span class="pre">add_to_wait_set</span></code> method from <code class="docutils literal notranslate"><span class="pre">Waitable</span></code> class changes its return type from <code class="docutils literal notranslate"><span class="pre">bool</span></code> to <code class="docutils literal notranslate"><span class="pre">void</span></code><a class="headerlink" href="#add-to-wait-set-method-from-waitable-class-changes-its-return-type-from-bool-to-void" title="永久链接至标题"></a></h4>
<p>Before, classes derived from <code class="docutils literal notranslate"><span class="pre">Waitable</span></code> overriding <code class="docutils literal notranslate"><span class="pre">add_to_wait_set</span></code> were returning false when failing to add elements to the wait set, so the caller had to check this return value and throw or handle the error.
This error handling should now be done directly on <code class="docutils literal notranslate"><span class="pre">add_to_wait_set</span></code> method, throwing if necessary.
It is not required to return anything if no errors happened.
Thus, this is a breaking change for downstream uses of <code class="docutils literal notranslate"><span class="pre">Waitable</span></code>.</p>
<p>See <a class="reference external" href="https://github.com/ros2/rclcpp/pull/1612">ros2/rclcpp#1612</a> for more details.</p>
</div>
<div class="section" id="get-notify-guard-condition-method-return-type-from-nodebaseinterface-class-changed">
<h4><code class="docutils literal notranslate"><span class="pre">get_notify_guard_condition</span></code> method return type from <code class="docutils literal notranslate"><span class="pre">NodeBaseInterface</span></code> class changed<a class="headerlink" href="#get-notify-guard-condition-method-return-type-from-nodebaseinterface-class-changed" title="永久链接至标题"></a></h4>
<p>Now <code class="docutils literal notranslate"><span class="pre">rclcpp</span></code> uses the <code class="docutils literal notranslate"><span class="pre">GuardCondition</span></code> class wrapper around <code class="docutils literal notranslate"><span class="pre">rcl_guard_condition_t</span></code>, so <code class="docutils literal notranslate"><span class="pre">get_notify_guard_condition</span></code> returns a reference to the node's <code class="docutils literal notranslate"><span class="pre">rclcpp::GuardCondition</span></code>.
Thus, this is a breaking change for downstream uses of <code class="docutils literal notranslate"><span class="pre">NodeBaseInterface</span></code> and <code class="docutils literal notranslate"><span class="pre">NodeBase</span></code>.</p>
<p>See <a class="reference external" href="https://github.com/ros2/rclcpp/pull/1612">ros2/rclcpp#1612</a> for more details.</p>
</div>
<div class="section" id="sleep-until-and-sleep-for-methods-added-to-clock">
<h4><code class="docutils literal notranslate"><span class="pre">sleep_until</span></code> and <code class="docutils literal notranslate"><span class="pre">sleep_for</span></code> methods added to <code class="docutils literal notranslate"><span class="pre">Clock</span></code><a class="headerlink" href="#sleep-until-and-sleep-for-methods-added-to-clock" title="永久链接至标题"></a></h4>
<p>Two new methods were added to allow sleeping on a particular clock in <a class="reference external" href="https://github.com/ros2/rclcpp/pull/1814">ros2/rclcpp#1814</a> and <a class="reference external" href="https://github.com/ros2/rclcpp/pull/1828">ros2/rclcpp#1828</a>.
<code class="docutils literal notranslate"><span class="pre">Clock::sleep_until</span></code> will suspend the current thread until the clock reaches a particular time.
<code class="docutils literal notranslate"><span class="pre">Clock::sleep_for</span></code> will suspend the current thread until the clock advances a certain amount of time from when the method was called.
Both methods will wake early if the <code class="docutils literal notranslate"><span class="pre">Context</span></code> is shutdown.</p>
</div>
</div>
<div class="section" id="rclcpp-lifecycle">
<h3><a class="toc-backref" href="#id47">rclcpp_lifecycle</a><a class="headerlink" href="#rclcpp-lifecycle" title="永久链接至标题"></a></h3>
<div class="section" id="active-and-deactivate-transitions-of-publishers-will-be-triggered-automatically">
<h4>Active and deactivate transitions of publishers will be triggered automatically<a class="headerlink" href="#active-and-deactivate-transitions-of-publishers-will-be-triggered-automatically" title="永久链接至标题"></a></h4>
<p>Before, users needed to override <code class="docutils literal notranslate"><span class="pre">LifecylceNode::on_activate()</span></code> and <code class="docutils literal notranslate"><span class="pre">LifecylceNode::on_deactivate()</span></code> and call the similarly named methods on <code class="docutils literal notranslate"><span class="pre">LifecyclePublisher</span></code> to make the transition actually happen.
Now, <code class="docutils literal notranslate"><span class="pre">LifecylceNode</span></code> provides a default interface of these methods that already do this.
See the implementation of the <code class="docutils literal notranslate"><span class="pre">lifecycle_talker</span></code> node <a class="reference external" href="https://github.com/ros2/demos/tree/humble/lifecycle">here</a>.</p>
</div>
</div>
<div class="section" id="rclpy">
<h3><a class="toc-backref" href="#id48">rclpy</a><a class="headerlink" href="#rclpy" title="永久链接至标题"></a></h3>
<div class="section" id="managed-nodes">
<h4>Managed nodes<a class="headerlink" href="#managed-nodes" title="永久链接至标题"></a></h4>
<p>Lifecycle nodes support was added to rclpy.
A complete demo can be found <a class="reference external" href="https://github.com/ros2/demos/tree/humble/lifecycle_py">here</a>.</p>
</div>
<div class="section" id="id3">
<h4><code class="docutils literal notranslate"><span class="pre">wait_for_all_acked</span></code> method added to <code class="docutils literal notranslate"><span class="pre">Publisher</span></code><a class="headerlink" href="#id3" title="永久链接至标题"></a></h4>
<p>Similar to the feature added to rclcpp.</p>
</div>
<div class="section" id="id4">
<h4><code class="docutils literal notranslate"><span class="pre">sleep_until</span></code> and <code class="docutils literal notranslate"><span class="pre">sleep_for</span></code> methods added to <code class="docutils literal notranslate"><span class="pre">Clock</span></code><a class="headerlink" href="#id4" title="永久链接至标题"></a></h4>
<p>Two new methods were added to allow sleeping on a particular clock in <a class="reference external" href="https://github.com/ros2/rclpy/pull/858">ros2/rclpy#858</a> and <a class="reference external" href="https://github.com/ros2/rclpy/pull/864">ros2/rclpy#864</a>.
<code class="docutils literal notranslate"><span class="pre">sleep_until</span></code> will suspend the current thread until the clock reaches a particular time.
<code class="docutils literal notranslate"><span class="pre">sleep_for</span></code> will suspend the current thread until the clock advances a certain amount of time from when the method was called.
Both methods will wake early if the <code class="docutils literal notranslate"><span class="pre">Context</span></code> is shutdown.</p>
</div>
</div>
<div class="section" id="ros1-bridge">
<h3><a class="toc-backref" href="#id49">ros1_bridge</a><a class="headerlink" href="#ros1-bridge" title="永久链接至标题"></a></h3>
<p>Since there is no official ROS 1 distribution on Ubuntu Jammy and forward, <code class="docutils literal notranslate"><span class="pre">ros1_bridge</span></code> is now compatible with the Ubuntu-packaged versions of ROS 1.
More details about using <code class="docutils literal notranslate"><span class="pre">ros1_bridge</span></code> with Jammy packages are available in <a class="reference internal" href="../How-To-Guides/Using-ros1_bridge-Jammy-upstream.html"><span class="doc">the how-to guides</span></a>.</p>
</div>
<div class="section" id="id5">
<h3><a class="toc-backref" href="#id50">ros2cli</a><a class="headerlink" href="#id5" title="永久链接至标题"></a></h3>
<div class="section" id="ros2-commands-disable-output-buffering-by-default">
<h4><code class="docutils literal notranslate"><span class="pre">ros2</span></code> commands disable output buffering by default<a class="headerlink" href="#ros2-commands-disable-output-buffering-by-default" title="永久链接至标题"></a></h4>
<p>Prior to this release, running a command like</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ros2</span> <span class="n">echo</span> <span class="o">/</span><span class="n">chatter</span> <span class="o">|</span> <span class="n">grep</span> <span class="s2">&quot;Hello&quot;</span>
</pre></div>
</div>
<p>would not print any data until the output buffer was full.
Users could work around this by setting <code class="docutils literal notranslate"><span class="pre">PYTHONUNBUFFERED=1</span></code>, but that was not very user friendly.</p>
<p>Instead, all <code class="docutils literal notranslate"><span class="pre">ros2</span></code> commands now do line-buffering by default, so commands like the above work as soon as a newline is printed.
To disable this behavior and use default python buffering rules, use the option <code class="docutils literal notranslate"><span class="pre">--use-python-default-buffering</span></code>.
See the <a class="reference external" href="https://github.com/ros2/ros2cli/issues/595">original issue</a> and the <a class="reference external" href="https://github.com/ros2/ros2cli/pull/659">pull request</a> for more information.</p>
</div>
<div class="section" id="ros2-topic-pub-will-wait-for-one-matching-subscription-when-using-times-once-1">
<h4><code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">topic</span> <span class="pre">pub</span></code> will wait for one matching subscription when using <code class="docutils literal notranslate"><span class="pre">--times/--once/-1</span></code><a class="headerlink" href="#ros2-topic-pub-will-wait-for-one-matching-subscription-when-using-times-once-1" title="永久链接至标题"></a></h4>
<p>When using <code class="docutils literal notranslate"><span class="pre">--times/--once/-1</span></code> flags, <code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">topic</span> <span class="pre">pub</span></code> will wait for one matching subscription to be found before starting to publish.
This avoids the issue of the ros2cli node starting to publish before discovering a matching subscription, which results in some of the first messages being lost.
This is particularly unexpected when using a reliable qos profile.</p>
<p>The number of matching subscriptions to wait before starting publishing can be configured with the <code class="docutils literal notranslate"><span class="pre">-w/--wait-matching-subscriptions</span></code> flags, e.g.:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ros2 topic pub -1 -w 3 /chatter std_msgs/msg/String &quot;{data: &#39;foo&#39;}&quot;</span>
</pre></div>
</div>
<p>to wait for three matching subscriptions before starting to publish.</p>
<p><code class="docutils literal notranslate"><span class="pre">-w</span></code> can also be used independently of <code class="docutils literal notranslate"><span class="pre">--times/--once/-1</span></code> but it only defaults to one when combined with them, otherwise the <code class="docutils literal notranslate"><span class="pre">-w</span></code> default is zero.</p>
<p>See <a class="reference external" href="https://github.com/ros2/ros2cli/pull/642">https://github.com/ros2/ros2cli/pull/642</a> for more details.</p>
</div>
<div class="section" id="ros2-param-dump-default-output-changed">
<h4><code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">param</span> <span class="pre">dump</span></code> default output changed<a class="headerlink" href="#ros2-param-dump-default-output-changed" title="永久链接至标题"></a></h4>
<blockquote>
<div><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">--print</span></code> option for dump command was <a class="reference external" href="https://github.com/ros2/ros2cli/pull/638">deprecated</a>.</p>
<p>It prints to stdout by default:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ros2 param dump /my_node_name
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--output-dir</span></code> option for dump command was <a class="reference external" href="https://github.com/ros2/ros2cli/pull/638">deprecated</a>.</p>
<p>To dump parameters to a file, run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ros2 param dump /my_node_name &gt; my_node_name.yaml
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="ros2-param-set-now-accepts-more-yaml-syntax">
<h4><code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">param</span> <span class="pre">set</span></code> now accepts more YAML syntax<a class="headerlink" href="#ros2-param-set-now-accepts-more-yaml-syntax" title="永久链接至标题"></a></h4>
<p>Previously, attempting to set a string like &quot;off&quot; to a parameter that was of string type did not work.
That's because <code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">param</span> <span class="pre">set</span></code> interprets the command-line arguments as YAML, and YAML considers &quot;off&quot; to be a boolean type.
As of <a class="reference external" href="https://github.com/ros2/ros2cli/pull/684">https://github.com/ros2/ros2cli/pull/684</a> , <code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">param</span> <span class="pre">set</span></code> now accepts the YAML escape sequence of &quot;!!str off&quot; to ensure that the value is considered a string.</p>
</div>
<div class="section" id="ros2-pkg-create-can-automatically-generate-a-license-file">
<h4><code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">pkg</span> <span class="pre">create</span></code> can automatically generate a LICENSE file<a class="headerlink" href="#ros2-pkg-create-can-automatically-generate-a-license-file" title="永久链接至标题"></a></h4>
<p>If the <code class="docutils literal notranslate"><span class="pre">--license</span></code> flag is passed to <code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">pkg</span> <span class="pre">create</span></code>, and the license is one of the known licenses, <code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">pkg</span> <span class="pre">create</span></code> will now automatically generate a LICENSE file in the root of the package.
For a list of known licenses, run <code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">pkg</span> <span class="pre">create</span> <span class="pre">--license</span> <span class="pre">?</span> <span class="pre">&lt;package_name&gt;</span></code>.
See the associated <a class="reference external" href="https://github.com/ros2/ros2cli/pull/650">pull request</a> for more information.</p>
</div>
</div>
<div class="section" id="robot-state-publisher">
<h3><a class="toc-backref" href="#id51">robot_state_publisher（机器人状态发布器）</a><a class="headerlink" href="#robot-state-publisher" title="永久链接至标题"></a></h3>
<div class="section" id="added-frame-prefix-parameter">
<h4>Added <code class="docutils literal notranslate"><span class="pre">frame_prefix</span></code> parameter<a class="headerlink" href="#added-frame-prefix-parameter" title="永久链接至标题"></a></h4>
<p>A new parameter <code class="docutils literal notranslate"><span class="pre">frame_prefix</span></code> was added in <a class="reference external" href="https://github.com/ros/robot_state_publisher/pull/159">ros/robot_state_publisher#159</a>.
This parameter is a string which is prepended to all frame names published by <code class="docutils literal notranslate"><span class="pre">robot_state_publisher</span></code>.
Similar to <code class="docutils literal notranslate"><span class="pre">tf_prefix</span></code> in the original <code class="docutils literal notranslate"><span class="pre">tf</span></code> library in ROS 1, this parameter can be used to publish the same robot description multiple times with different frame names.</p>
</div>
<div class="section" id="removal-of-deprecated-use-tf-static-parameter">
<h4>Removal of deprecated <code class="docutils literal notranslate"><span class="pre">use_tf_static</span></code> parameter<a class="headerlink" href="#removal-of-deprecated-use-tf-static-parameter" title="永久链接至标题"></a></h4>
<p>The deprecated <code class="docutils literal notranslate"><span class="pre">use_tf_static</span></code> parameter has been removed from <code class="docutils literal notranslate"><span class="pre">robot_state_publisher</span></code>.
This means that static transforms are unconditionally published to the <code class="docutils literal notranslate"><span class="pre">/tf_static</span></code> topic, and that the static transforms are published in a <code class="docutils literal notranslate"><span class="pre">transient_local</span></code> Quality of Service.
This was the default behavior, and the behavior which the <code class="docutils literal notranslate"><span class="pre">tf2_ros::TransformListener</span></code> class expected before, so most code will not have to be changed.
Any code that was relying on <code class="docutils literal notranslate"><span class="pre">robot_state_publisher</span></code> to periodically publish static transforms to <code class="docutils literal notranslate"><span class="pre">/tf</span></code> will have to be updated to subscribe to <code class="docutils literal notranslate"><span class="pre">/tf_static</span></code> as a <code class="docutils literal notranslate"><span class="pre">transient_local</span></code> subscription instead.</p>
</div>
</div>
<div class="section" id="rosidl-cmake">
<h3><a class="toc-backref" href="#id52">rosidl_cmake</a><a class="headerlink" href="#rosidl-cmake" title="永久链接至标题"></a></h3>
<div class="section" id="deprecation-of-rosidl-target-interfaces">
<h4>Deprecation of <code class="docutils literal notranslate"><span class="pre">rosidl_target_interfaces()</span></code><a class="headerlink" href="#deprecation-of-rosidl-target-interfaces" title="永久链接至标题"></a></h4>
<p>The CMake function <code class="docutils literal notranslate"><span class="pre">rosidl_target_interfaces()</span></code> has been deprecated, and now issues a CMake warning when called.
Users wanting to use messages/services/actions in the same ROS package that generated them should instead call <code class="docutils literal notranslate"><span class="pre">rosidl_get_typesupport_target()</span></code> and then <code class="docutils literal notranslate"><span class="pre">target_link_libraries()</span></code> to make their targets depend on the returned typesupport target.
See <a class="reference external" href="https://github.com/ros2/rosidl/pull/606">https://github.com/ros2/rosidl/pull/606</a> for more details, and <a class="reference external" href="https://github.com/ros2/demos/pull/529">https://github.com/ros2/demos/pull/529</a> for an example of using the new function.</p>
</div>
</div>
<div class="section" id="id7">
<h3><a class="toc-backref" href="#id53">rviz2</a><a class="headerlink" href="#id7" title="永久链接至标题"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/ros2/rviz/pull/743">improved the efficiency of 3-bytes pixel formats</a></p></li>
<li><p><a class="reference external" href="https://github.com/ros2/rviz/pull/751">changed the way inertias are computed to use ignition math rather than Ogre's math libraries</a>.</p></li>
</ul>
</div>
<div class="section" id="geometry2">
<h3><a class="toc-backref" href="#id54">geometry2</a><a class="headerlink" href="#geometry2" title="永久链接至标题"></a></h3>
<div class="section" id="deprecation-of-tf2error-no-error-etc">
<h4>Deprecation of TF2Error::NO_ERROR, etc<a class="headerlink" href="#deprecation-of-tf2error-no-error-etc" title="永久链接至标题"></a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">tf2</span></code> library uses an enumeration called <code class="docutils literal notranslate"><span class="pre">TF2Error</span></code> to return errors.
Unfortunately, one of the enumerators in there is called <code class="docutils literal notranslate"><span class="pre">NO_ERROR</span></code>, which conflicts with a macro on Windows.
To remedy this, a new set of enumerators in <code class="docutils literal notranslate"><span class="pre">TF2Error</span></code> were created, each with a <code class="docutils literal notranslate"><span class="pre">TF2</span></code> prefix.
The previous enumerators are still available, but are now deprecated and will print a deprecation warning if used.
All code that uses the <code class="docutils literal notranslate"><span class="pre">TF2Error</span></code> enumerator should be updated to use the new <code class="docutils literal notranslate"><span class="pre">TF2</span></code> prefixed errors.
See <a class="reference external" href="https://github.com/ros2/geometry2/pull/349">https://github.com/ros2/geometry2/pull/349</a> for more details.</p>
</div>
<div class="section" id="more-intuitive-command-line-arguments-for-static-transform-publisher">
<h4>More intuitive command-line arguments for static_transform_publisher<a class="headerlink" href="#more-intuitive-command-line-arguments-for-static-transform-publisher" title="永久链接至标题"></a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">static_transform_publisher</span></code> program used to take arguments like: <code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">run</span> <span class="pre">tf2_ros</span> <span class="pre">static_transform_publisher</span> <span class="pre">0</span> <span class="pre">0</span> <span class="pre">0</span> <span class="pre">0</span> <span class="pre">0</span> <span class="pre">0</span> <span class="pre">1</span> <span class="pre">foo</span> <span class="pre">bar</span></code>.
The first three numbers are the translation x, y, and z, the next 4 are the quaternion x, y, z, and w, and the last two arguments are the parent and child frame IDs.
While this worked, it had a couple of problems:</p>
<ul class="simple">
<li><p>The user had to specify <em>all</em> of the arguments, even if only setting one number</p></li>
<li><p>Reading the command-line to figure out what it was publishing was tricky</p></li>
</ul>
<p>To fix both of these issues, the command-line handling has been changed to use flags instead, and all flags except for <code class="docutils literal notranslate"><span class="pre">--frame-id</span></code> and <code class="docutils literal notranslate"><span class="pre">--child-frame-id</span></code> are optional.
Thus, the above command-line can be simplified to: <code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">run</span> <span class="pre">tf2_ros</span> <span class="pre">static_transform_publisher</span> <span class="pre">--frame-id</span> <span class="pre">foo</span> <span class="pre">--child-frame-id</span> <span class="pre">bar</span></code>
To change just the translation x, the command-line would be: <code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">run</span> <span class="pre">tf2_ros</span> <span class="pre">static_transform_publisher</span> <span class="pre">--x</span> <span class="pre">1.5</span> <span class="pre">--frame-id</span> <span class="pre">foo</span> <span class="pre">--child-frame-id</span> <span class="pre">bar</span></code>.</p>
<p>The old-style arguments are still allowed in this release, but are deprecated and will print a warning.
They will be removed in future releases.
See <a class="reference external" href="https://github.com/ros2/geometry2/pull/392">https://github.com/ros2/geometry2/pull/392</a> for more details.</p>
</div>
<div class="section" id="transform-listener-spin-thread-no-longer-executes-node-callbacks">
<h4>Transform listener spin thread no longer executes node callbacks<a class="headerlink" href="#transform-listener-spin-thread-no-longer-executes-node-callbacks" title="永久链接至标题"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">tf2_ros::TransformListener</span></code> no longer spins on the provided node object.
Instead, it creates a callback group to execute callbacks on the entities it creates internally.
This means if you have set the parameter <code class="docutils literal notranslate"><span class="pre">spin_thread=true</span></code> when creating a transform listener, you
can no longer depend on your own callbacks to be executed.
You must call a <code class="docutils literal notranslate"><span class="pre">spin</span></code> function on your node (e.g. <code class="docutils literal notranslate"><span class="pre">rclcpp::spin</span></code>), or add your node to your own executor.</p>
<p>Related pull request: <a class="reference external" href="https://github.com/ros2/geometry2/pull/442">geometry2#442</a></p>
</div>
</div>
<div class="section" id="rosbag2">
<h3><a class="toc-backref" href="#id55">rosbag2</a><a class="headerlink" href="#rosbag2" title="永久链接至标题"></a></h3>
<div class="section" id="new-playback-and-recording-controls">
<h4>New playback and recording controls<a class="headerlink" href="#new-playback-and-recording-controls" title="永久链接至标题"></a></h4>
<p>Several pull requests have been added to enhance the user's control over playback of bags.
Pull request <a class="reference external" href="https://github.com/ros2/rosbag2/pull/931">931</a> adds the ability to specify a time stamp to begin playing from.
Due to pull request <a class="reference external" href="https://github.com/ros2/rosbag2/pull/789">789</a> it is now possible to delay the start of playback by a specified interval.</p>
<p>Relatedly, <code class="docutils literal notranslate"><span class="pre">rosbag2</span></code> has gained new ways for users to control playback as it is happening.
Pull request <a class="reference external" href="https://github.com/ros2/rosbag2/pull/847">847</a> adds keyboard controls for pausing, resuming, and playing the next message during playback from a terminal.
It is also possible to start playback paused thanks to pull requests <a class="reference external" href="https://github.com/ros2/rosbag2/pull/905">905</a> and <a class="reference external" href="https://github.com/ros2/rosbag2/pull/904">904</a>, which makes it easy for the user to initiate playback and then step through messages, such as when debugging a pipeline.
Pull request <a class="reference external" href="https://github.com/ros2/rosbag2/pull/836">836</a> adds an interface for seeking within bags, allowing the user to move around within a bag during playback.</p>
<p>Finally, a new snapshot mode has been added to recording in pull request <a class="reference external" href="https://github.com/ros2/rosbag2/pull/851">851</a>.
This mode, useful for incident recording, allows recording to begin filling up buffers, but not begin writing data to disc until a service is called.</p>
</div>
<div class="section" id="burst-mode-playback">
<h4>Burst-mode playback<a class="headerlink" href="#burst-mode-playback" title="永久链接至标题"></a></h4>
<p>While the playback of data from a bag in real-time is the most well-known use case for bag files, there are situations where you want the data in the bag as fast as possible.
With pull request <a class="reference external" href="https://github.com/ros2/rosbag2/pull/977">977</a>, <code class="docutils literal notranslate"><span class="pre">rosbag2</span></code> has gained the ability to &quot;burst&quot; data from the bag.
In burst mode, the data is played back as fast as possible.
This is useful in applications such as machine learning.</p>
</div>
<div class="section" id="zero-copy-playback">
<h4>Zero-Copy playback<a class="headerlink" href="#zero-copy-playback" title="永久链接至标题"></a></h4>
<p>By default, if loaned message can be used, playback messages are published as loaned message.
This can help to reduce the number of data copies, so there is a greater benefit for sending big data.
Pull request <a class="reference external" href="https://github.com/ros2/rosbag2/pull/981">981</a> adds <code class="docutils literal notranslate"><span class="pre">--disable-loan-message</span></code> option for playback.</p>
</div>
<div class="section" id="wait-for-an-acknowledgment">
<h4>Wait for an acknowledgment<a class="headerlink" href="#wait-for-an-acknowledgment" title="永久链接至标题"></a></h4>
<p>This new option will wait until all published messages are acknowledged by all subscribers or until the timeout elapses in millisecond before play is terminated.
Especially for the case of sending message with big size in a short time.
This option is valid only if the publisher's QOS profile is RELIABLE.
Pull request <a class="reference external" href="https://github.com/ros2/rosbag2/pull/951">951</a> adds <code class="docutils literal notranslate"><span class="pre">--wait-for-all-acked</span></code> option for playback.</p>
</div>
<div class="section" id="bag-editing">
<h4>Bag editing<a class="headerlink" href="#bag-editing" title="永久链接至标题"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">rosbag2</span></code> is taking steps towards enabling the editing of bags, such as removing all messages for one topic or merging multiple bags into a single bag.
Pull request <a class="reference external" href="https://github.com/ros2/rosbag2/pull/921">921</a> adds bag rewriting and the <code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">bag</span> <span class="pre">convert</span></code> verb.</p>
</div>
<div class="section" id="other-changes">
<h4>其他变化<a class="headerlink" href="#other-changes" title="永久链接至标题"></a></h4>
<p>Pull request <a class="reference external" href="https://github.com/ros2/rosbag2/pull/925">925</a> makes <code class="docutils literal notranslate"><span class="pre">rosbag2</span></code> ignore &quot;leaf topics&quot; (topics without a publisher) when recording.
These topics will no longer be automatically added to the bag.</p>
</div>
</div>
</div>
<div class="section" id="known-issues">
<h2><a class="toc-backref" href="#id56">已知问题</a><a class="headerlink" href="#known-issues" title="永久链接至标题"></a></h2>
<ul class="simple">
<li><p>When <a class="reference external" href="../../humble/Installation/Ubuntu-Install-Debians.html">installing ROS 2 on an Ubuntu 22.04 Jammy host</a> it is important to update your system before installing ROS 2 packages.
It is <em>particularly</em> important to make sure that <code class="docutils literal notranslate"><span class="pre">systemd</span></code> and <code class="docutils literal notranslate"><span class="pre">udev</span></code> are updated to the latest available version otherwise installing <code class="docutils literal notranslate"><span class="pre">ros-humble-desktop</span></code>, which depends on <code class="docutils literal notranslate"><span class="pre">libudev1</span></code>, could cause the removal of system critical packages.
Details can be found in <a class="reference external" href="https://github.com/ros2/ros2/issues/1272">ros2/ros2#1272</a> and <a class="reference external" href="https://bugs.launchpad.net/ubuntu/+source/systemd/+bug/1974196">Launchpad #1974196</a></p></li>
<li><p>When ROS 2 apt repositories are available, ROS 1 packages in Ubuntu are not installable.  See the <a class="reference internal" href="../How-To-Guides/Using-ros1_bridge-Jammy-upstream.html"><span class="doc">ros1_bridge on Ubuntu Jammy</span></a> document for more information.</p></li>
<li><p>Some major Linux distributions have started patching Python to install packages to <code class="docutils literal notranslate"><span class="pre">/usr/local</span></code>, which is breaking some parts of <code class="docutils literal notranslate"><span class="pre">ament_package</span></code> and builds with <code class="docutils literal notranslate"><span class="pre">colcon</span></code>.
In particular, using Ubuntu Jammy with <code class="docutils literal notranslate"><span class="pre">setuptools</span></code> installed from pip will manifest this misbehavior, and is therefore not recommended.
There is currently a <a class="reference external" href="https://github.com/colcon/colcon-core/pull/512">proposed solution</a> which requires further testing before widespread release.</p></li>
<li><p>ROS 2 bags that are split by size or duration are not played correctly.
Only the last bag recorded is played.
It is recommended to avoid splitting bags by size or duration.
Details can be found in <a class="reference external" href="https://github.com/ros2/rosbag2/issues/966">ros2/rosbag2#966</a>.</p></li>
</ul>
</div>
<div class="section" id="release-timeline">
<h2><a class="toc-backref" href="#id57">Release Timeline</a><a class="headerlink" href="#release-timeline" title="永久链接至标题"></a></h2>
<blockquote>
<div><dl class="simple">
<dt>Mon. March 21, 2022 - Alpha + RMW freeze</dt><dd><p>Preliminary testing and stabilization of ROS Base <a class="footnote-reference brackets" href="#id25" id="id20">1</a> packages, and API and feature freeze for RMW provider packages.</p>
</dd>
<dt>Mon. April 4, 2022 - Freeze</dt><dd><p>API and feature freeze for ROS Base <a class="footnote-reference brackets" href="#id25" id="id21">1</a> packages in Rolling Ridley.
Only bug fix releases should be made after this point.
New packages can be released independently.</p>
</dd>
<dt>Mon. April 18, 2022 - Branch</dt><dd><p>Branch from Rolling Ridley.
<code class="docutils literal notranslate"><span class="pre">rosdistro</span></code> is reopened for Rolling PRs for ROS Base <a class="footnote-reference brackets" href="#id25" id="id22">1</a> packages.
Humble development shifts from <code class="docutils literal notranslate"><span class="pre">ros-rolling-*</span></code> packages to <code class="docutils literal notranslate"><span class="pre">ros-humble-*</span></code> packages.</p>
</dd>
<dt>Mon. April 25, 2022 - Beta</dt><dd><p>可用的ROS Desktop [2]_软件包的更新版本。请求进行常规测试。</p>
</dd>
<dt>Mon. May 16, 2022 - Release Candidate</dt><dd><p>Release Candidate packages are built.
Updated releases of ROS Desktop <a class="footnote-reference brackets" href="#id26" id="id24">2</a> packages available.</p>
</dd>
<dt>Thu. May 19, 2022 - Distro Freeze</dt><dd><p>Freeze rosdistro.
No PRs for Humble on the <code class="docutils literal notranslate"><span class="pre">rosdistro</span></code> repo will be merged (reopens after the release announcement).</p>
</dd>
<dt>Mon. May 23, 2022 - General Availability</dt><dd><p>Release announcement.
<code class="docutils literal notranslate"><span class="pre">rosdistro</span></code> is reopened for Humble PRs.</p>
</dd>
</dl>
</div></blockquote>
<dl class="footnote brackets">
<dt class="label" id="id25"><span class="brackets">1</span><span class="fn-backref">(<a href="#id20">1</a>,<a href="#id21">2</a>,<a href="#id22">3</a>)</span></dt>
<dd><p>The <code class="docutils literal notranslate"><span class="pre">ros_base</span></code> variant is described in <a class="reference external" href="https://www.ros.org/reps/rep-2001.html#ros-base">REP 2001 (ros-base)</a>.</p>
</dd>
<dt class="label" id="id26"><span class="brackets">2</span><span class="fn-backref">(<a href="#id23">1</a>,<a href="#id24">2</a>)</span></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">desktop</span></code> 变体在 <a class="reference external" href="https://www.ros.org/reps/rep-2001.html#desktop-variants">REP 2001 (desktop-variants)</a> 中有详细描述。</p>
</dd>
</dl>
</div>
</div>



           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Iron-Irwini-Complete-Changelog.html" class="btn btn-neutral float-left" title="Iron Irwini 更新日志" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
        <a href="Humble-Hawksbill-Complete-Changelog.html" class="btn btn-neutral float-right" title="Humble Hawksbill 变更日志" accesskey="n" rel="next">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2023, Open Robotics.</p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用了 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a>开发.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-EVD5Z6G6NH"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-EVD5Z6G6NH', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>