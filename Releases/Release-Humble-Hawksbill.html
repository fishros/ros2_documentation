<!DOCTYPE html>
<html class="writer-html5" lang="zh" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Humble Hawksbill (humble) &mdash; ROS 2 Documentation: Humble  文档</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../_static/tabs.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="canonical" href="https://docs.ros.org/en/humble/Releases/Release-Humble-Hawksbill.html" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script src="../_static/tabs.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="Humble Hawksbill 变更日志" href="Humble-Hawksbill-Complete-Changelog.html" />
    <link rel="prev" title="Iron Irwini 更新日志" href="Iron-Irwini-Complete-Changelog.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> ROS 2 Documentation: Humble
            <img src="../_static/humble-small.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="在文档中搜索" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Installation.html">安装</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Ubuntu-Install-Debians.html">Ubuntu（Debian）</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Windows-Install-Binary.html">Windows (二进制)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/RHEL-Install-RPMs.html">RHEL（RPM）</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Alternatives.html">替代方案</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Installation/Alternatives/Ubuntu-Development-Setup.html">Ubuntu（源代码）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/Alternatives/Ubuntu-Install-Binary.html">Ubuntu（二进制）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/Alternatives/Windows-Development-Setup.html">Windows（源代码）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/Alternatives/RHEL-Development-Setup.html">RHEL（源代码）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/Alternatives/RHEL-Install-Binary.html">RHEL（二进制）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/Alternatives/macOS-Development-Setup.html">macOS（源码）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/Alternatives/Fedora-Development-Setup.html">Fedora（源代码）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/Alternatives/Latest-Development-Setup.html">最新的开发版本（源码）</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Maintaining-a-Source-Checkout.html">维护源代码检出。</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Testing.html">使用预发布二进制文件进行测试</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/DDS-Implementations.html">DDS 实现</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Installation/DDS-Implementations/Install-Connext-Security-Plugins.html">Connext安全插件</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/DDS-Implementations/Install-Connext-University-Eval.html">RTI Connext DDS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/DDS-Implementations/Working-with-Eclipse-CycloneDDS.html">Eclipse Cyclone DDS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/DDS-Implementations/Working-with-GurumNetworks-GurumDDS.html">GurumNetworks GurumDDS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/DDS-Implementations/Working-with-eProsima-Fast-DDS.html">eProsima Fast DDS</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../Releases.html">分发版本</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Release-Iron-Irwini.html">Iron Irwini (<code class="docutils literal notranslate"><span class="pre">iron</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Iron-Irwini-Complete-Changelog.html">Iron Irwini 更新日志</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Humble Hawksbill (<code class="docutils literal notranslate"><span class="pre">humble</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Humble-Hawksbill-Complete-Changelog.html">Humble Hawksbill 变更日志</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Release-Foxy-Fitzroy.html">Foxy Fitzroy (<code class="xref any docutils literal notranslate"><span class="pre">foxy</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="Release-Rolling-Ridley.html">Rolling Ridley (<code class="docutils literal notranslate"><span class="pre">rolling</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="Development.html">开发分发版</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Release-Jazzy-Jalisco.html">Jazzy Jalisco（代号'jazzy'；2024年5月）</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="End-of-Life.html">终止生命周期的发行版</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Release-Galactic-Geochelone.html">Galactic Geochelone（<code class="docutils literal notranslate"><span class="pre">galactic</span></code>）</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Galactic-Geochelone-Complete-Changelog.html">Galactic Geochelone更改日志</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Release-Eloquent-Elusor.html">Eloquent Elusor（<code class="docutils literal notranslate"><span class="pre">eloquent</span></code>）</a></li>
<li class="toctree-l3"><a class="reference internal" href="Release-Dashing-Diademata.html">Dashing Diademata（<code class="docutils literal notranslate"><span class="pre">dashing</span></code>）</a></li>
<li class="toctree-l3"><a class="reference internal" href="Release-Crystal-Clemmys.html">Crystal Clemmys (<code class="docutils literal notranslate"><span class="pre">crystal</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="Release-Bouncy-Bolson.html">Bouncy Bolson（<code class="docutils literal notranslate"><span class="pre">bouncy</span></code>）</a></li>
<li class="toctree-l3"><a class="reference internal" href="Release-Ardent-Apalone.html">Ardent Apalone (<code class="docutils literal notranslate"><span class="pre">ardent</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="Beta3-Overview.html">Beta 3 (<code class="docutils literal notranslate"><span class="pre">r2b3</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="Beta2-Overview.html">Beta 2（<code class="docutils literal notranslate"><span class="pre">r2b2</span></code>）</a></li>
<li class="toctree-l3"><a class="reference internal" href="Beta1-Overview.html">Beta 1（<code class="docutils literal notranslate"><span class="pre">Asphalt</span></code>）</a></li>
<li class="toctree-l3"><a class="reference internal" href="Alpha-Overview.html">阿尔法版本</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Release-Process.html">发布的开发流程</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Tutorials.html">教程</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Beginner-CLI-Tools.html">初学者：CLI 工具</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-CLI-Tools/Configuring-ROS2-Environment.html">配置环境</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-CLI-Tools/Introducing-Turtlesim/Introducing-Turtlesim.html">使用``turtlesim``、<code class="docutils literal notranslate"><span class="pre">ros2``和``rqt</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-CLI-Tools/Understanding-ROS2-Nodes/Understanding-ROS2-Nodes.html">理解节点</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-CLI-Tools/Understanding-ROS2-Topics/Understanding-ROS2-Topics.html">理解话题</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-CLI-Tools/Understanding-ROS2-Services/Understanding-ROS2-Services.html">了解服务</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-CLI-Tools/Understanding-ROS2-Parameters/Understanding-ROS2-Parameters.html">理解参数</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-CLI-Tools/Understanding-ROS2-Actions/Understanding-ROS2-Actions.html">理解行为</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-CLI-Tools/Using-Rqt-Console/Using-Rqt-Console.html">使用 <code class="docutils literal notranslate"><span class="pre">rqt_console</span></code> 查看日志</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-CLI-Tools/Launching-Multiple-Nodes/Launching-Multiple-Nodes.html">启动节点</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-CLI-Tools/Recording-And-Playing-Back-Data/Recording-And-Playing-Back-Data.html">录制和回放数据</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries.html">初学者：客户端库</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Colcon-Tutorial.html">使用 <code class="docutils literal notranslate"><span class="pre">colcon</span></code> 构建软件包</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Creating-A-Workspace/Creating-A-Workspace.html">创建一个工作空间</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Creating-Your-First-ROS2-Package.html">创建软件包</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Writing-A-Simple-Cpp-Publisher-And-Subscriber.html">编写一个简单的发布者和订阅者（C++）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Writing-A-Simple-Py-Publisher-And-Subscriber.html">编写一个简单的发布者和订阅者（Python）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Writing-A-Simple-Cpp-Service-And-Client.html">编写一个简单的服务和客户端（C++）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Writing-A-Simple-Py-Service-And-Client.html">编写一个简单的服务和客户端（Python）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Custom-ROS2-Interfaces.html">创建自定义的 msg 和 srv 文件。</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Single-Package-Define-And-Use-Interface.html">实现自定义接口</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Using-Parameters-In-A-Class-CPP.html">在类中使用参数（C++）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Using-Parameters-In-A-Class-Python.html">在类中使用参数（Python）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Getting-Started-With-Ros2doctor.html">使用``ros2doctor``来识别问题</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Beginner-Client-Libraries/Pluginlib.html">创建和使用插件（C++）</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Intermediate.html">中级</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Intermediate/Rosdep.html">使用rosdep管理依赖关系</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Intermediate/Creating-an-Action.html">创建一个动作</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Intermediate/Writing-an-Action-Server-Client/Cpp.html">编写一个动作服务器和客户端（C++）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Intermediate/Writing-an-Action-Server-Client/Py.html">编写一个动作服务器和客户端（Python）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Intermediate/Composition.html">在单个进程中组合多个节点</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Intermediate/Monitoring-For-Parameter-Changes-CPP.html">监视参数变化（C++）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Intermediate/Launch/Launch-Main.html">启动</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Launch/Creating-Launch-Files.html">创建一个启动文件</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Launch/Launch-system.html">将启动文件集成到ROS 2包中</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Launch/Using-Substitutions.html">使用替代项</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Launch/Using-Event-Handlers.html">使用事件处理程序</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Launch/Using-ROS2-Launch-For-Large-Projects.html">管理大型项目</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Tf2-Main.html"><code class="docutils literal notranslate"><span class="pre">tf2</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Introduction-To-Tf2.html">介绍``tf2``</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Writing-A-Tf2-Static-Broadcaster-Py.html">编写静态广播器（Python）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Writing-A-Tf2-Static-Broadcaster-Cpp.html">编写静态广播器（C++）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Writing-A-Tf2-Broadcaster-Py.html">编写广播器（Python）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Writing-A-Tf2-Broadcaster-Cpp.html">编写广播器（C++）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Writing-A-Tf2-Listener-Py.html">编写监听器（Python）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Writing-A-Tf2-Listener-Cpp.html">编写监听器（C++）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Adding-A-Frame-Py.html">添加一个帧（Python）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Adding-A-Frame-Cpp.html">添加一个框架（C++）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Learning-About-Tf2-And-Time-Py.html">使用时间（Python）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Learning-About-Tf2-And-Time-Cpp.html">使用时间（C++）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Time-Travel-With-Tf2-Py.html">时间旅行（Python）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Time-Travel-With-Tf2-Cpp.html">时间旅行（C++）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Debugging-Tf2-Problems.html">调试</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Quaternion-Fundamentals.html">四元数基础知识</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Tf2/Using-Stamped-Datatypes-With-Tf2-Ros-MessageFilter.html">使用带时间戳的数据类型与``tf2_ros::MessageFilter``</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Intermediate/Testing/Testing-Main.html">测试</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Testing/CLI.html">从命令行中运行 ROS 2 中的测试</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Testing/Cpp.html">使用 GTest 编写基本的 C++ 测试</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/Testing/Python.html">使用Python编写基本测试</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Intermediate/URDF/URDF-Main.html">URDF</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/URDF/Building-a-Visual-Robot-Model-with-URDF-from-Scratch.html">从头开始构建一个可视化的机器人模型</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/URDF/Building-a-Movable-Robot-Model-with-URDF.html">构建一个可移动的机器人模型。</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/URDF/Adding-Physical-and-Collision-Properties-to-a-URDF-Model.html">添加物理和碰撞属性</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/URDF/Using-Xacro-to-Clean-Up-a-URDF-File.html">使用 Xacro 清理您的代码</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Intermediate/URDF/Using-URDF-with-Robot-State-Publisher.html">使用URDF和``robot_state_publisher``</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Advanced.html">高级</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Advanced/Topic-Statistics-Tutorial/Topic-Statistics-Tutorial.html">启用主题统计信息（C++）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Advanced/Discovery-Server/Discovery-Server.html">使用Fast DDS Discovery Server作为发现协议[社区贡献]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Advanced/Allocator-Template-Tutorial.html">实现自定义内存分配器</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Advanced/FastDDS-Configuration.html">发挥Fast DDS中间件的潜力 [社区贡献]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Advanced/Recording-A-Bag-From-Your-Own-Node-CPP.html">从节点（C++）录制一个包</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Advanced/Recording-A-Bag-From-Your-Own-Node-Py.html">从节点录制包（Python）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Advanced/Simulators/Simulation-Main.html">模拟器</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Advanced/Simulators/Webots/Simulation-Webots.html">Webots</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../Tutorials/Advanced/Simulators/Webots/Installation-Ubuntu.html">安装（Ubuntu）</a></li>
<li class="toctree-l5"><a class="reference internal" href="../Tutorials/Advanced/Simulators/Webots/Installation-Windows.html">安装（Windows）</a></li>
<li class="toctree-l5"><a class="reference internal" href="../Tutorials/Advanced/Simulators/Webots/Installation-MacOS.html">安装（macOS）</a></li>
<li class="toctree-l5"><a class="reference internal" href="../Tutorials/Advanced/Simulators/Webots/Setting-Up-Simulation-Webots-Basic.html">设置机器人仿真（基础）</a></li>
<li class="toctree-l5"><a class="reference internal" href="../Tutorials/Advanced/Simulators/Webots/Setting-Up-Simulation-Webots-Advanced.html">设置机器人模拟（高级）</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Advanced/Simulators/Gazebo/Simulation-Gazebo.html">Gazebo</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../Tutorials/Advanced/Simulators/Gazebo/Gazebo.html">设置机器人仿真（Gazebo）。</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Advanced/Security/Security-Main.html">安全性</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Advanced/Security/Introducing-ros2-security.html">设置安全性</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Advanced/Security/The-Keystore.html">理解安全密钥库</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Advanced/Security/Security-on-Two.html">确保跨机器的安全性</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Advanced/Security/Examine-Traffic.html">检查网络流量</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Advanced/Security/Access-Controls.html">设置访问控制</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/Advanced/Security/Deployment-Guidelines.html">部署指南</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Demos.html">演示</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Demos/Quality-of-Service.html">在不稳定网络中使用服务质量设置</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Demos/Managed-Nodes.html">使用受控生命周期管理节点</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Demos/Intra-Process-Communication.html">设置高效的进程内通信</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Demos/Rosbag-with-ROS1-Bridge.html">使用ROS 1桥接在`rosbag`中记录和回放数据</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Demos/Real-Time-Programming.html">理解实时编程</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Demos/dummy-robot-demo.html">尝试使用虚拟机器人进行实验</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Demos/Logging-and-logger-configuration.html">记录日志</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Demos/Content-Filtering-Subscription.html">创建内容过滤订阅</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Miscellaneous.html">杂项</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Miscellaneous/Deploying-ROS-2-on-IBM-Cloud.html">在 IBM Cloud Kubernetes 上部署 [社区贡献]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Miscellaneous/Eclipse-Oxygen-with-ROS-2-and-rviz2.html">使用 <code class="docutils literal notranslate"><span class="pre">rviz2</span></code> 的 Eclipse Oxygen [社区贡献]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Miscellaneous/Building-Realtime-rt_preempt-kernel-for-ROS-2.html">构建实时Linux内核[社区贡献]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/Miscellaneous/Building-ROS2-Package-with-eclipse-2021-06.html">使用Eclipse 2021-06构建软件包</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../How-To-Guides.html">如何指南</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Installation-Troubleshooting.html">安装故障排除</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Developing-a-ROS-2-Package.html">开发ROS 2软件包</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Ament-CMake-Documentation.html">ament_cmake 用户文档</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Ament-CMake-Python-Documentation.html">ament_cmake_python 用户文档</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Launch-files-migration-guide.html">将启动文件从ROS 1迁移到ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Launch-file-different-formats.html">使用 Python、XML 和 YAML 编写 ROS 2 启动文件</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Launching-composable-nodes.html">使用ROS 2 launch启动可组合节点</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Parameters-YAML-files-migration-guide.html">将YAML参数文件从ROS 1迁移到ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Node-arguments.html">通过命令行向节点传递ROS参数</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Sync-Vs-Async.html">同步与异步服务客户端</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/DDS-tuning.html">DDS调优信息</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Overriding-QoS-Policies-For-Recording-And-Playback.html">rosbag2：覆盖 QoS 策略</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Working-with-multiple-RMW-implementations.html">使用多个ROS 2中间件实现</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Cross-compilation.html">交叉编译</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Releasing/Releasing-a-Package.html">发布软件包</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../How-To-Guides/Releasing/First-Time-Release.html">首次发布</a></li>
<li class="toctree-l3"><a class="reference internal" href="../How-To-Guides/Releasing/Subsequent-Releases.html">后续发布</a></li>
<li class="toctree-l3"><a class="reference internal" href="../How-To-Guides/Releasing/Release-Team-Repository.html">发布团队/仓库</a></li>
<li class="toctree-l3"><a class="reference internal" href="../How-To-Guides/Releasing/Release-Track.html">发布跟踪</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Using-Python-Packages.html">在ROS 2中使用Python包</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/RQt-Port-Plugin-Windows.html">将RQt插件移植到Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Run-2-nodes-in-single-or-separate-docker-containers.html">在 Docker 中运行 ROS 2 节点[社区贡献]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Visualizing-ROS-2-Data-With-Foxglove-Studio.html">使用Foxglove Studio可视化ROS 2数据</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Package-maintainer-guide.html">ROS 2软件包维护人员指南</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Building-a-Custom-Debian-Package.html">构建自定义的Debian软件包</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Building-ROS-2-with-Tracing-Instrumentation.html">使用跟踪工具构建ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Topics-Services-Actions.html">主题 vs 服务 vs 动作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Using-Variants.html">使用变体</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Using-ros2-param.html">使用``ros2 param``命令行工具</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Using-ros1_bridge-Jammy-upstream.html">在Ubuntu 22.04上使用``ros1_bridge``和上游ROS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Disabling-ZeroCopy-loaned-messages.html">禁用零拷贝借用消息</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Installing-on-Raspberry-Pi.html">在 Raspberry Pi 上的 ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Using-callback-groups.html">使用回调组</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Setup-ROS-2-with-VSCode-and-Docker-Container.html">使用VSCode和Docker设置ROS 2 [社区贡献]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/RQt-Source-Install.html">从源代码构建 RQt</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../How-To-Guides/RQt-Source-Install-MacOS.html">在 macOS 上从源代码构建 RQt</a></li>
<li class="toctree-l3"><a class="reference internal" href="../How-To-Guides/RQt-Source-Install-Windows10.html">在 Windows 10 上从源代码构建 RQt</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Concepts.html">概念</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Domain-ID.html">ROS_DOMAIN_ID</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Different-Middleware-Vendors.html">关于不同的ROS 2 DDS/RTPS供应商</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Logging.html">关于日志记录和日志记录器配置</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Quality-of-Service-Settings.html">关于服务质量设置</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-ROS-2-Client-Libraries.html">关于ROS 2客户端库</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-ROS-Interfaces.html">关于 ROS 2 接口</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-ROS-2-Parameters.html">关于 ROS 2 中的参数</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Executors.html">执行器</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Topic-Statistics.html">关于主题统计</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Command-Line-Tools.html">使用命令行工具进行内省</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-RQt.html">RQt 的概述和使用方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Composition.html">关于组合</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Catment.html">关于 ament 和 catkin 的混合 (catment)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Cross-Compilation.html">关于交叉编译</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Security.html">关于ROS 2安全性</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Tf2.html">关于tf2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Build-System.html">关于构建系统</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Internal-Interfaces.html">关于内部ROS 2接口&quot;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Middleware-Implementations.html">关于ROS 2中间件实现</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-ROS-2-Client-Libraries.html">关于ROS 2客户端库</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Contact.html">联系</a></li>
<li class="toctree-l1"><a class="reference internal" href="../The-ROS2-Project.html">ROS 2 项目</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../The-ROS2-Project/Contributing.html">贡献</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../The-ROS2-Project/Contributing/Developer-Guide.html">ROS 2开发者指南</a></li>
<li class="toctree-l3"><a class="reference internal" href="../The-ROS2-Project/Contributing/Code-Style-Language-Versions.html">代码风格和语言版本</a></li>
<li class="toctree-l3"><a class="reference internal" href="../The-ROS2-Project/Contributing/Quality-Guide.html">质量指南：确保代码质量</a></li>
<li class="toctree-l3"><a class="reference internal" href="../The-ROS2-Project/Contributing/Migration-Guide.html">从ROS 1迁移指南</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../The-ROS2-Project/Contributing/Migration-Guide-Python.html">ROS 1的Python迁移指南</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../The-ROS2-Project/Contributing/Build-Farms.html">ROS构建农场</a></li>
<li class="toctree-l3"><a class="reference internal" href="../The-ROS2-Project/Contributing/Windows-Tips-and-Tricks.html">Windows提示和技巧</a></li>
<li class="toctree-l3"><a class="reference internal" href="../The-ROS2-Project/Contributing/Contributing-To-ROS-2-Documentation.html">为ROS 2文档做出贡献</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../The-ROS2-Project/Features.html">功能状态</a></li>
<li class="toctree-l2"><a class="reference internal" href="../The-ROS2-Project/Feature-Ideas.html">功能点子</a></li>
<li class="toctree-l2"><a class="reference internal" href="../The-ROS2-Project/Roadmap.html">路线图</a></li>
<li class="toctree-l2"><a class="reference internal" href="../The-ROS2-Project/ROSCon-Content.html">ROSCon 演讲</a></li>
<li class="toctree-l2"><a class="reference internal" href="../The-ROS2-Project/Governance.html">项目治理</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../The-ROS2-Project/Governance/ROS2-TSC-Charter.html">ROS 2 技术指导委员会章程</a></li>
<li class="toctree-l3"><a class="reference internal" href="../The-ROS2-Project/Governance/ROS2-TSC-Intake-process.html">ROS 2 TSC申请者招募流程</a></li>
<li class="toctree-l3"><a class="reference internal" href="../The-ROS2-Project/Governance/How-To-Start-A-Community-Working-Group.html">如何启动社区工作组</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../The-ROS2-Project/Marketing.html">营销</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../API-Docs.html">API文档</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Related-Projects.html">相关项目</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Related-Projects/Intel-ROS2-Projects.html">Intel ROS 2 项目</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Related-Projects/Nvidia-ROS2-Projects.html">NVIDIA ROS 2项目</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Glossary.html">术语表</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Citations.html">引用</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ROS 2 Documentation: Humble</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../Releases.html">分发版本</a> &raquo;</li>
      <li>Humble Hawksbill (<code class="docutils literal notranslate"><span class="pre">humble</span></code>)</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/ros2/ros2_documentation/blob/humble/source/Releases/Release-Humble-Hawksbill.rst" class="fa fa-github"> 在 GitHub 上修改</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             


  <div class="section" id="humble-hawksbill-humble">
<span id="humble-release"></span><h1>Humble Hawksbill (<code class="docutils literal notranslate"><span class="pre">humble</span></code>)<a class="headerlink" href="#humble-hawksbill-humble" title="永久链接至标题"></a></h1>
<div class="toctree-wrapper compound">
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title">目录</p>
<ul class="simple">
<li><p><a class="reference internal" href="#supported-platforms" id="id31">支持的平台</a></p></li>
<li><p><a class="reference internal" href="#installation" id="id32">安装</a></p></li>
<li><p><a class="reference internal" href="#changes-in-patch-release-1-2022-11-23" id="id33">补丁发布1的变化（2022-11-23）</a></p>
<ul>
<li><p><a class="reference internal" href="#ros2topic" id="id34">ros2topic</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#new-features-in-this-ros-2-release" id="id35">这个ROS 2版本的新功能有：</a></p>
<ul>
<li><p><a class="reference internal" href="#ament-cmake-gen-version-h" id="id36">ament_cmake_gen_version_h</a></p></li>
<li><p><a class="reference internal" href="#launch" id="id37">启动</a></p></li>
<li><p><a class="reference internal" href="#launch-ros" id="id38">launch_ros</a></p></li>
<li><p><a class="reference internal" href="#sros2-security-enclaves-support-certificate-revocation-lists" id="id39">SROS2安全飞地支持证书吊销列表</a></p></li>
<li><p><a class="reference internal" href="#content-filtered-topics" id="id40">内容过滤主题</a></p></li>
<li><p><a class="reference internal" href="#ros2cli" id="id41">ros2cli</a></p></li>
<li><p><a class="reference internal" href="#rviz2" id="id42">rviz2</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#changes-since-the-galactic-release" id="id43">自Galactic版本以来的更改。</a></p>
<ul>
<li><p><a class="reference internal" href="#c-headers-are-installed-in-a-subdirectory" id="id44">C++头文件被安装在子目录中。</a></p></li>
<li><p><a class="reference internal" href="#common-interfaces" id="id45">common_interfaces</a></p></li>
<li><p><a class="reference internal" href="#rmw" id="id46">rmw</a></p></li>
<li><p><a class="reference internal" href="#rmw-connextdds" id="id47">rmw_connextdds</a></p></li>
<li><p><a class="reference internal" href="#rcl" id="id48">rcl</a></p></li>
<li><p><a class="reference internal" href="#rclcpp" id="id49">rclcpp</a></p></li>
<li><p><a class="reference internal" href="#rclcpp-lifecycle" id="id50">rclcpp_lifecycle</a></p></li>
<li><p><a class="reference internal" href="#rclpy" id="id51">rclpy</a></p></li>
<li><p><a class="reference internal" href="#ros1-bridge" id="id52">ros1_bridge</a></p></li>
<li><p><a class="reference internal" href="#id5" id="id53">ros2cli</a></p></li>
<li><p><a class="reference internal" href="#robot-state-publisher" id="id54">robot_state_publisher</a></p></li>
<li><p><a class="reference internal" href="#rosidl-cmake" id="id55">rosidl_cmake</a></p></li>
<li><p><a class="reference internal" href="#id7" id="id56">rviz2</a></p></li>
<li><p><a class="reference internal" href="#geometry2" id="id57">geometry2</a></p></li>
<li><p><a class="reference internal" href="#rosbag2" id="id58">rosbag2</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#known-issues" id="id59">已知问题</a></p></li>
<li><p><a class="reference internal" href="#release-timeline" id="id60">发布时间线</a></p></li>
</ul>
</div>
<p><em>Humble Hawksbill</em> 是 ROS 2 的第八个版本。以下是 Humble Hawksbill 自上一个版本以来的重要变化和功能亮点。有关自 Galactic 以来的所有更改的列表，请参阅 <a class="reference internal" href="Humble-Hawksbill-Complete-Changelog.html"><span class="doc">完整变更日志</span></a>。</p>
<div class="section" id="supported-platforms">
<h2><a class="toc-backref" href="#id31">支持的平台</a><a class="headerlink" href="#supported-platforms" title="永久链接至标题"></a></h2>
<p>Humble Hawksbill 主要支持以下平台：</p>
<p>一级平台：</p>
<ul class="simple">
<li><p>Ubuntu 22.04 (Jammy): <code class="docutils literal notranslate"><span class="pre">amd64</span></code> 和 <code class="docutils literal notranslate"><span class="pre">arm64</span></code></p></li>
<li><p>Windows 10（Visual Studio 2019）：<code class="docutils literal notranslate"><span class="pre">amd64</span></code></p></li>
</ul>
<p>二级平台：</p>
<ul class="simple">
<li><p>RHEL 8：<code class="docutils literal notranslate"><span class="pre">amd64</span></code></p></li>
</ul>
<p>Tier 3 平台：</p>
<ul class="simple">
<li><p>Ubuntu 20.04（Focal）：<code class="docutils literal notranslate"><span class="pre">amd64</span></code></p></li>
<li><p>macOS：<code class="docutils literal notranslate"><span class="pre">amd64</span></code></p></li>
<li><p>Debian Bullseye：<code class="docutils literal notranslate"><span class="pre">amd64</span></code></p></li>
</ul>
<p>有关 RMW 实现、编译器/解释器版本和系统依赖版本的更多信息，请参阅 <a class="reference external" href="https://www.ros.org/reps/rep-2000.html">REP 2000</a>。</p>
</div>
<div class="section" id="installation">
<h2><a class="toc-backref" href="#id32">安装</a><a class="headerlink" href="#installation" title="永久链接至标题"></a></h2>
<p><a class="reference external" href="../../humble/Installation.html">安装 Humble Hawksbill</a></p>
</div>
<div class="section" id="changes-in-patch-release-1-2022-11-23">
<h2><a class="toc-backref" href="#id33">补丁发布1的变化（2022-11-23）</a><a class="headerlink" href="#changes-in-patch-release-1-2022-11-23" title="永久链接至标题"></a></h2>
<div class="section" id="ros2topic">
<h3><a class="toc-backref" href="#id34">ros2topic</a><a class="headerlink" href="#ros2topic" title="永久链接至标题"></a></h3>
<div class="section" id="now-as-keyword-for-builtin-interfaces-msg-time-and-auto-for-std-msgs-msg-header">
<h4><code class="docutils literal notranslate"><span class="pre">now</span></code> 作为 <code class="docutils literal notranslate"><span class="pre">builtin_interfaces.msg.Time</span></code> 的关键字，<code class="docutils literal notranslate"><span class="pre">auto</span></code> 作为 <code class="docutils literal notranslate"><span class="pre">std_msgs.msg.Header</span></code> 的关键字。<a class="headerlink" href="#now-as-keyword-for-builtin-interfaces-msg-time-and-auto-for-std-msgs-msg-header" title="永久链接至标题"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">topic</span> <span class="pre">pub</span></code> 现在允许使用关键字 <code class="docutils literal notranslate"><span class="pre">now</span></code> 将 <code class="docutils literal notranslate"><span class="pre">builtin_interfaces.msg.Time</span></code> 消息设置为当前时间。类似地，当传递关键字 <code class="docutils literal notranslate"><span class="pre">auto</span></code> 时，将自动生成 <code class="docutils literal notranslate"><span class="pre">std_msgs.msg.Header</span></code> 消息。此行为与 ROS 1 的 <code class="docutils literal notranslate"><span class="pre">rostopic</span></code> 一致（<a class="reference external" href="http://wiki.ros.org/ROS/YAMLCommandLine#Headers.2Ftimestamps">http://wiki.ros.org/ROS/YAMLCommandLine#Headers.2Ftimestamps</a>）。</p>
<p>相关 PR: <a class="reference external" href="https://github.com/ros2/ros2cli/pull/751">ros2/ros2cli#751</a></p>
</div>
</div>
</div>
<div class="section" id="new-features-in-this-ros-2-release">
<h2><a class="toc-backref" href="#id35">这个ROS 2版本的新功能有：</a><a class="headerlink" href="#new-features-in-this-ros-2-release" title="永久链接至标题"></a></h2>
<div class="section" id="ament-cmake-gen-version-h">
<h3><a class="toc-backref" href="#id36">ament_cmake_gen_version_h</a><a class="headerlink" href="#ament-cmake-gen-version-h" title="永久链接至标题"></a></h3>
<div class="section" id="generating-a-c-c-header-with-version-info">
<h4>生成带有版本信息的 C/C++ 头文件<a class="headerlink" href="#generating-a-c-c-header-with-version-info" title="永久链接至标题"></a></h4>
<p>在 <code class="docutils literal notranslate"><span class="pre">ament_cmake_gen_version_h</span></code> 中添加了一个新的 CMake 函数，用于生成带有包版本信息的头文件，详情请见 <a class="reference external" href="https://github.com/ament/ament_cmake/pull/377">ament/ament_cmake#377</a>。以下是最简单的使用示例：</p>
<div class="highlight-CMake notranslate"><div class="highlight"><pre><span></span><span class="nb">project</span><span class="p">(</span><span class="s">my_project</span><span class="p">)</span>
<span class="nb">add_library</span><span class="p">(</span><span class="s">my_lib</span><span class="w"> </span><span class="s">...</span><span class="p">)</span>
<span class="nb">ament_generate_version_header</span><span class="p">(</span><span class="s">my_lib</span><span class="p">)</span>
</pre></div>
</div>
<p>它将从``package.xml``生成一个带有版本信息的头文件，并使其可用于链接到``my_lib``库的目标。</p>
<p>如何包含该头文件：</p>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;my_project/version.h&gt;</span><span class="cp"></span>
</pre></div>
</div>
<p>头文件的安装位置：</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span><span class="p">(</span><span class="s">VERSION_HEADER</span><span class="w"> </span><span class="o">${</span><span class="nv">CMAKE_INSTALL_PREFIX</span><span class="o">}</span><span class="s">/include/my_project/my_project/version.h</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="launch">
<h3><a class="toc-backref" href="#id37">启动</a><a class="headerlink" href="#launch" title="永久链接至标题"></a></h3>
<div class="section" id="scoping-environment-variables-in-group-actions">
<h4>在组操作中进行环境变量的作用域设置<a class="headerlink" href="#scoping-environment-variables-in-group-actions" title="永久链接至标题"></a></h4>
<p>与启动配置类似，现在默认情况下，环境变量的状态会作用于组操作。</p>
<p>例如，在以下启动文件中，执行的进程将回显值``1``（在Humble之前将回显``2``）：</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-WE1M" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-WE1M" name="WE1M" role="tab" tabindex="0">XML</button><button aria-controls="panel-0-UHl0aG9u" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-UHl0aG9u" name="UHl0aG9u" role="tab" tabindex="-1">Python</button></div><div aria-labelledby="tab-0-WE1M" class="sphinx-tabs-panel group-tab" id="panel-0-WE1M" name="WE1M" role="tabpanel" tabindex="0"><div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;launch&gt;</span>
  <span class="nt">&lt;set_env</span> <span class="na">name=</span><span class="s">&quot;FOO&quot;</span> <span class="na">value=</span><span class="s">&quot;1&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;group&gt;</span>
    <span class="nt">&lt;set_env</span> <span class="na">name=</span><span class="s">&quot;FOO&quot;</span> <span class="na">value=</span><span class="s">&quot;2&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/group&gt;</span>
  <span class="nt">&lt;executable</span> <span class="na">cmd=</span><span class="s">&quot;echo $FOO&quot;</span> <span class="na">output=</span><span class="s">&quot;screen&quot;</span> <span class="na">shell=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/launch&gt;</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-0-UHl0aG9u" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-UHl0aG9u" name="UHl0aG9u" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">launch</span>
<span class="kn">import</span> <span class="nn">launch.actions</span>

<span class="k">def</span> <span class="nf">generate_launch_description</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">launch</span><span class="o">.</span><span class="n">LaunchDescription</span><span class="p">([</span>
        <span class="n">launch</span><span class="o">.</span><span class="n">actions</span><span class="o">.</span><span class="n">SetEnvironmentVariable</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;FOO&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;1&#39;</span><span class="p">),</span>
        <span class="n">launch</span><span class="o">.</span><span class="n">actions</span><span class="o">.</span><span class="n">GroupAction</span><span class="p">([</span>
            <span class="n">launch</span><span class="o">.</span><span class="n">actions</span><span class="o">.</span><span class="n">SetEnvironmentVariable</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;FOO&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;2&#39;</span><span class="p">),</span>
        <span class="p">]),</span>
        <span class="n">launch</span><span class="o">.</span><span class="n">actions</span><span class="o">.</span><span class="n">ExecuteProcess</span><span class="p">(</span><span class="n">cmd</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;echo&#39;</span><span class="p">,</span> <span class="s1">&#39;$FOO&#39;</span><span class="p">],</span> <span class="n">output</span><span class="o">=</span><span class="s1">&#39;screen&#39;</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="p">])</span>
</pre></div>
</div>
</div></div>
<p>如果您想禁用启动配置和环境变量的作用域，您可以将``scoped``参数（或属性）设置为false。</p>
<p>相关PR：<a class="reference external" href="https://github.com/ros2/launch/pull/601">ros2/launch#601</a></p>
</div>
<div class="section" id="launch-pytest">
<h4>launch_pytest<a class="headerlink" href="#launch-pytest" title="永久链接至标题"></a></h4>
<p>我们添加了一个新的软件包，<code class="docutils literal notranslate"><span class="pre">launch_pytest</span></code>，它可以作为``launch_testing``的替代方案。<a href="#id1"><span class="problematic" id="id2">``</span></a>launch_pytest``是一个简单的pytest插件，提供pytest fixtures来管理launch service的生命周期。</p>
<p>请查看`软件包的README以获取详细信息和示例。&lt;<a class="reference external" href="https://github.com/ros2/launch/tree/humble/launch_pytest">https://github.com/ros2/launch/tree/humble/launch_pytest</a>&gt;`_</p>
<p>相关PR：<a class="reference external" href="https://github.com/ros2/launch/pull/528">ros2/launch#528</a></p>
</div>
<div class="section" id="allow-matching-target-actions-with-a-callable">
<h4>允许使用可调用对象与目标动作进行匹配<a class="headerlink" href="#allow-matching-target-actions-with-a-callable" title="永久链接至标题"></a></h4>
<p>现在，事件处理程序可以接受可调用对象来进行匹配，而不仅限于接受目标动作对象。</p>
<p>相关 PR: <a class="reference external" href="https://github.com/ros2/launch/pull/540">ros2/launch#540</a></p>
</div>
<div class="section" id="access-to-math-module-when-evaluating-python-expressions">
<h4>在评估 Python 表达式时可以访问 math 模块<a class="headerlink" href="#access-to-math-module-when-evaluating-python-expressions" title="永久链接至标题"></a></h4>
<p>在``PythonExpression``替换（<code class="docutils literal notranslate"><span class="pre">eval</span></code>）中，我们现在可以使用 Python 的 math 模块中的符号。例如，</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;launch&gt;</span>
  <span class="nt">&lt;log</span> <span class="na">message=</span><span class="s">&quot;$(eval &#39;ceil(pi)&#39;)&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/launch&gt;</span>
</pre></div>
</div>
<p>相关 PR: <a class="reference external" href="https://github.com/ros2/launch/pull/557">ros2/launch#557</a></p>
</div>
<div class="section" id="boolean-substitutions">
<h4>布尔替代<a class="headerlink" href="#boolean-substitutions" title="永久链接至标题"></a></h4>
<p>新增替代 <code class="docutils literal notranslate"><span class="pre">NotSubstitution</span></code>、<code class="docutils literal notranslate"><span class="pre">AndSubstitution</span></code> 和 <code class="docutils literal notranslate"><span class="pre">OrSubstitution</span></code> 提供了一种方便的方法来执行逻辑操作，例如</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;launch&gt;</span>
  <span class="nt">&lt;let</span> <span class="na">name=</span><span class="s">&quot;p&quot;</span> <span class="na">value=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;let</span> <span class="na">name=</span><span class="s">&quot;q&quot;</span> <span class="na">value=</span><span class="s">&quot;false&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;group</span> <span class="na">if=</span><span class="s">&quot;$(or $(var p) $(var q))&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;log</span> <span class="na">message=</span><span class="s">&quot;The first condition is true&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/group&gt;</span>
  <span class="nt">&lt;group</span> <span class="na">unless=</span><span class="s">&quot;$(and $(var p) $(var q))&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;log</span> <span class="na">message=</span><span class="s">&quot;The second condition is false&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/group&gt;</span>
  <span class="nt">&lt;group</span> <span class="na">if=</span><span class="s">&quot;$(not $(var q))&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;log</span> <span class="na">message=</span><span class="s">&quot;The third condition is true&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/group&gt;</span>
<span class="nt">&lt;/launch&gt;</span>
</pre></div>
</div>
<p>相关PR：<a class="reference external" href="https://github.com/ros2/launch/pull/598">ros2/launch#598</a></p>
</div>
<div class="section" id="new-actions">
<h4>新增操作<a class="headerlink" href="#new-actions" title="永久链接至标题"></a></h4>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">AppendEnvironmentVariable</span></code> 将一个值追加到现有环境变量中。</p>
<ul>
<li><p>相关PR：<a class="reference external" href="https://github.com/ros2/launch/pull/543">ros2/launch#543</a></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">ResetLaunchConfigurations</span></code> 重置应用于启动配置的任何配置。</p>
<ul>
<li><p>相关 PR: <a class="reference external" href="https://github.com/ros2/launch/pull/515">ros2/launch#515</a></p></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="launch-ros">
<h3><a class="toc-backref" href="#id38">launch_ros</a><a class="headerlink" href="#launch-ros" title="永久链接至标题"></a></h3>
<div class="section" id="passing-ros-arguments-to-node-actions">
<h4>将 ROS 参数传递给节点操作<a class="headerlink" href="#passing-ros-arguments-to-node-actions" title="永久链接至标题"></a></h4>
<p>现在可以直接提供`ROS 特定的节点参数 &lt;../../How-To-Guides/Node-arguments&gt;`，而无需使用带有前导``--ros-args``标志的``args``:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-1-WE1M" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-1-WE1M" name="WE1M" role="tab" tabindex="0">XML</button><button aria-controls="panel-1-WUFNTA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-WUFNTA==" name="WUFNTA==" role="tab" tabindex="-1">YAML</button></div><div aria-labelledby="tab-1-WE1M" class="sphinx-tabs-panel group-tab" id="panel-1-WE1M" name="WE1M" role="tabpanel" tabindex="0"><div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;launch&gt;</span>
  <span class="nt">&lt;node</span> <span class="na">pkg=</span><span class="s">&quot;demo_nodes_cpp&quot;</span> <span class="na">exec=</span><span class="s">&quot;talker&quot;</span> <span class="na">ros_args=</span><span class="s">&quot;--log-level debug&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/launch&gt;</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-1-WUFNTA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-WUFNTA==" name="WUFNTA==" role="tabpanel" tabindex="0"><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">launch</span><span class="p">:</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">node</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">pkg</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">demo_nodes_cpp</span><span class="w"></span>
<span class="w">    </span><span class="nt">exec</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">talker</span><span class="w"></span>
<span class="w">    </span><span class="nt">ros_args</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;--log-level</span><span class="nv"> </span><span class="s">debug&#39;</span><span class="w"></span>
</pre></div>
</div>
</div></div>
<p>Python 启动文件中``Node``操作对应的参数是``ros_arguments``:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">launch</span> <span class="kn">import</span> <span class="n">LaunchDescription</span>
<span class="kn">import</span> <span class="nn">launch_ros.actions</span>

<span class="k">def</span> <span class="nf">generate_launch_description</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">LaunchDescription</span><span class="p">([</span>
        <span class="n">launch_ros</span><span class="o">.</span><span class="n">actions</span><span class="o">.</span><span class="n">Node</span><span class="p">(</span>
            <span class="n">package</span><span class="o">=</span><span class="s1">&#39;demo_nodes_cpp&#39;</span><span class="p">,</span>
            <span class="n">executable</span><span class="o">=</span><span class="s1">&#39;talker&#39;</span><span class="p">,</span>
            <span class="n">ros_arguments</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;--log-level&#39;</span><span class="p">,</span> <span class="s1">&#39;debug&#39;</span><span class="p">],</span>
        <span class="p">),</span>
    <span class="p">])</span>
</pre></div>
</div>
<p>相关PR：<a class="reference external" href="https://github.com/ros2/launch_ros/pull/249">ros2/launch_ros#249</a> 和 <a class="reference external" href="https://github.com/ros2/launch_ros/pull/253">ros2/launch_ros#253</a>。</p>
</div>
<div class="section" id="frontend-support-for-composable-nodes">
<h4>可组合节点的前端支持<a class="headerlink" href="#frontend-support-for-composable-nodes" title="永久链接至标题"></a></h4>
<p>现在我们可以从前端launch文件中启动节点容器并将组件加载到其中，例如：</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-2-WE1M" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-2-WE1M" name="WE1M" role="tab" tabindex="0">XML</button><button aria-controls="panel-2-WUFNTA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-2-WUFNTA==" name="WUFNTA==" role="tab" tabindex="-1">YAML</button></div><div aria-labelledby="tab-2-WE1M" class="sphinx-tabs-panel group-tab" id="panel-2-WE1M" name="WE1M" role="tabpanel" tabindex="0"><div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;launch&gt;</span>
  <span class="nt">&lt;node_container</span> <span class="na">pkg=</span><span class="s">&quot;rclcpp_components&quot;</span> <span class="na">exec=</span><span class="s">&quot;component_container&quot;</span> <span class="na">name=</span><span class="s">&quot;my_container&quot;</span> <span class="na">namespace=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;composable_node</span> <span class="na">pkg=</span><span class="s">&quot;composition&quot;</span> <span class="na">plugin=</span><span class="s">&quot;composition::Talker&quot;</span> <span class="na">name=</span><span class="s">&quot;talker&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/node_container&gt;</span>
  <span class="nt">&lt;load_composable_node</span> <span class="na">target=</span><span class="s">&quot;my_container&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;composable_node</span> <span class="na">pkg=</span><span class="s">&quot;composition&quot;</span> <span class="na">plugin=</span><span class="s">&quot;composition::Listener&quot;</span> <span class="na">name=</span><span class="s">&quot;listener&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/load_composable_node&gt;</span>
<span class="nt">&lt;/launch&gt;</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-2-WUFNTA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-2-WUFNTA==" name="WUFNTA==" role="tabpanel" tabindex="0"><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">launch</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">node_container</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">pkg</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">rclcpp_components</span><span class="w"></span>
<span class="w">      </span><span class="nt">exec</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">component_container</span><span class="w"></span>
<span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_container</span><span class="w"></span>
<span class="w">      </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;&#39;</span><span class="w"></span>
<span class="w">      </span><span class="nt">composable_node</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">pkg</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">composition</span><span class="w"></span>
<span class="w">          </span><span class="nt">plugin</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">composition::Talker</span><span class="w"></span>
<span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">talker</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">load_composable_node</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">target</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_container</span><span class="w"></span>
<span class="w">      </span><span class="nt">composable_node</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">pkg</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">composition</span><span class="w"></span>
<span class="w">          </span><span class="nt">plugin</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">composition::Listener</span><span class="w"></span>
<span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">listener</span><span class="w"></span>
</pre></div>
</div>
</div></div>
<p>相关PR：<a class="reference external" href="https://github.com/ros2/launch_ros/pull/235">ros2/launch_ros#235</a></p>
</div>
<div class="section" id="parameter-substitution">
<h4>参数替换<a class="headerlink" href="#parameter-substitution" title="永久链接至标题"></a></h4>
<p>新的``ParameterSubstitution``允许您使用``SetParameter``动作替换先前在launch中设置的参数的值。例如：</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;launch&gt;</span>
  <span class="nt">&lt;set_parameter</span> <span class="na">name=</span><span class="s">&quot;foo&quot;</span> <span class="na">value=</span><span class="s">&quot;bar&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;log</span> <span class="na">message=</span><span class="s">&quot;Parameter foo has value $(param foo)&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/launch&gt;</span>
</pre></div>
</div>
<p>相关PR：<a class="reference external" href="https://github.com/ros2/launch_ros/pull/297">ros2/launch_ros#297</a></p>
</div>
<div class="section" id="id1">
<h4>新增操作<a class="headerlink" href="#id1" title="永久链接至标题"></a></h4>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">RosTimer``的功能类似于launch中的``TimerAction</span></code>，但使用ROS时钟（因此可以使用仿真时间，例如）。</p>
<ul>
<li><p>相关PR：<a class="reference external" href="https://github.com/ros2/launch_ros/pull/244">ros2/launch_ros#244</a> 和 <a class="reference external" href="https://github.com/ros2/launch_ros/pull/264">ros2/launch_ros#264</a></p></li>
</ul>
</li>
<li><p><a href="#id1"><span class="problematic" id="id2">``</span></a>SetParametersFromFile``将ROS参数文件传递给启动文件中的所有节点（包括节点组件）。</p>
<ul>
<li><p>相关PR：<a class="reference external" href="https://github.com/ros2/launch_ros/pull/260">ros2/launch_ros#260</a> 和 <a class="reference external" href="https://github.com/ros2/launch_ros/pull/281">ros2/launch_ros#281</a></p></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="sros2-security-enclaves-support-certificate-revocation-lists">
<h3><a class="toc-backref" href="#id39">SROS2安全飞地支持证书吊销列表</a><a class="headerlink" href="#sros2-security-enclaves-support-certificate-revocation-lists" title="永久链接至标题"></a></h3>
<p>证书吊销列表 (CRLs) 是一种概念，允许在证书到期之前吊销特定证书。从 Humble 版本开始，现在可以将 CRL 放入 SROS2 安全飞地中，并使其生效。有关如何使用它的示例，请参阅 <a class="reference external" href="https://github.com/ros2/sros2/blob/humble/SROS2_Linux.md#certificate-revocation-lists">SROS2 教程</a>。</p>
</div>
<div class="section" id="content-filtered-topics">
<h3><a class="toc-backref" href="#id40">内容过滤主题</a><a class="headerlink" href="#content-filtered-topics" title="永久链接至标题"></a></h3>
<p>内容过滤主题支持更复杂的订阅，表示订阅者不一定想看到主题下每个实例的所有值。当底层 RMW 实现支持此功能时，可以使用内容过滤主题来请求基于内容的订阅。</p>
<table class="colwidths-given docutils align-default" id="id27">
<caption><span class="caption-text">RMW 内容过滤主题支持</span><a class="headerlink" href="#id27" title="永久链接至表格"></a></caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>rmw_fastrtps</p></td>
<td><p>支持</p></td>
</tr>
<tr class="row-even"><td><p>rmw_connextdds</p></td>
<td><p>支持</p></td>
</tr>
<tr class="row-odd"><td><p>rmw_cyclonedds</p></td>
<td><p>不支持</p></td>
</tr>
</tbody>
</table>
<p>要了解更多信息，请参阅 <a class="reference external" href="https://github.com/ros2/examples/blob/humble/rclcpp/topics/minimal_subscriber/content_filtering.cpp">content_filtering</a> 示例。</p>
<p>相关设计 PR: <a class="reference external" href="https://github.com/ros2/design/pull/282">ros2/design#282</a>。</p>
</div>
<div class="section" id="ros2cli">
<h3><a class="toc-backref" href="#id41">ros2cli</a><a class="headerlink" href="#ros2cli" title="永久链接至标题"></a></h3>
<div class="section" id="ros2-launch-has-a-launch-prefix-argument">
<h4><code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">launch</span></code> 命令有一个 <code class="docutils literal notranslate"><span class="pre">--launch-prefix</span></code> 参数。<a class="headerlink" href="#ros2-launch-has-a-launch-prefix-argument" title="永久链接至标题"></a></h4>
<p>这允许在启动文件中给所有可执行文件添加前缀，在许多调试情况下非常有用。有关详细信息，请参阅相关的 <a class="reference external" href="https://github.com/ros2/launch_ros/pull/254">pull request</a>，以及 <a class="reference internal" href="../How-To-Guides/Launch-files-migration-guide.html#launch-prefix-example"><span class="std std-ref">教程</span></a>。</p>
<p>相关的，增加了``--launch-prefix-filter`` 命令行选项，用于选择性地将 <code class="docutils literal notranslate"><span class="pre">--launch-prefix</span></code> 的前缀添加到可执行文件中。有关详细信息，请参阅 <a class="reference external" href="https://github.com/ros2/launch_ros/pull/261">pull request</a>。</p>
</div>
<div class="section" id="ros2-topic-echo-has-a-flow-style-argument">
<h4><code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">topic</span> <span class="pre">echo</span></code> 命令有一个 <code class="docutils literal notranslate"><span class="pre">--flow-style</span></code> 参数。<a class="headerlink" href="#ros2-topic-echo-has-a-flow-style-argument" title="永久链接至标题"></a></h4>
<p>这使用户能够在主题的YAML表示中强制使用“流样式”。如果没有此选项，<a href="#id1"><span class="problematic" id="id2">``</span></a>ros2 topic echo /tf_static``的输出可能类似于：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">transforms</span><span class="p">:</span>
<span class="o">-</span> <span class="n">header</span><span class="p">:</span>
    <span class="n">stamp</span><span class="p">:</span>
      <span class="n">sec</span><span class="p">:</span> <span class="mi">1651172841</span>
      <span class="n">nanosec</span><span class="p">:</span> <span class="mi">433705575</span>
    <span class="n">frame_id</span><span class="p">:</span> <span class="n">single_rrbot_link3</span>
  <span class="n">child_frame_id</span><span class="p">:</span> <span class="n">single_rrbot_camera_link</span>
  <span class="n">transform</span><span class="p">:</span>
    <span class="n">translation</span><span class="p">:</span>
      <span class="n">x</span><span class="p">:</span> <span class="mf">0.05</span>
      <span class="n">y</span><span class="p">:</span> <span class="mf">0.0</span>
      <span class="n">z</span><span class="p">:</span> <span class="mf">0.9</span>
    <span class="n">rotation</span><span class="p">:</span>
      <span class="n">x</span><span class="p">:</span> <span class="mf">0.0</span>
      <span class="n">y</span><span class="p">:</span> <span class="mf">0.0</span>
      <span class="n">z</span><span class="p">:</span> <span class="mf">0.0</span>
      <span class="n">w</span><span class="p">:</span> <span class="mf">1.0</span>
</pre></div>
</div>
<p>使用此选项，输出可能类似于：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">transforms</span><span class="p">:</span> <span class="p">[{</span><span class="n">header</span><span class="p">:</span> <span class="p">{</span><span class="n">stamp</span><span class="p">:</span> <span class="p">{</span><span class="n">sec</span><span class="p">:</span> <span class="mi">1651172841</span><span class="p">,</span> <span class="n">nanosec</span><span class="p">:</span> <span class="mi">433705575</span><span class="p">},</span> <span class="n">frame_id</span><span class="p">:</span> <span class="n">single_rrbot_link3</span><span class="p">},</span> <span class="n">child_frame_id</span><span class="p">:</span> <span class="n">single_rrbot_camera_link</span><span class="p">,</span> <span class="n">transform</span><span class="p">:</span> <span class="p">{</span><span class="n">translation</span><span class="p">:</span> <span class="p">{</span><span class="n">x</span><span class="p">:</span> <span class="mf">0.05</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">z</span><span class="p">:</span> <span class="mf">0.9</span><span class="p">},</span> <span class="n">rotation</span><span class="p">:</span> <span class="p">{</span><span class="n">x</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">z</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">w</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">}}}]</span>
</pre></div>
</div>
<p>有关更多信息，请参阅`PyYAML文档 &lt;<a class="reference external" href="https://pyyaml.docsforge.com/master/documentation/#dictionaries-without-nested-collections-are-not-dumped-correctly">https://pyyaml.docsforge.com/master/documentation/#dictionaries-without-nested-collections-are-not-dumped-correctly</a>&gt;`__。</p>
</div>
<div class="section" id="ros2-topic-echo-can-filter-data-based-on-message-contents">
<h4><a href="#id1"><span class="problematic" id="id2">``</span></a>ros2 topic echo``可以根据消息内容进行数据过滤。<a class="headerlink" href="#ros2-topic-echo-can-filter-data-based-on-message-contents" title="永久链接至标题"></a></h4>
<p>这使用户只能打印与特定Python表达式匹配的主题上的数据。例如，使用以下参数只会打印以'foo'开头的字符串消息：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ros2</span> <span class="n">topic</span> <span class="n">echo</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;m.data.startswith(&quot;foo&quot;)` /chatter</span>
</pre></div>
</div>
<p>有关更多信息，请参阅`pull request &lt;<a class="reference external" href="https://github.com/ros2/ros2cli/pull/654">https://github.com/ros2/ros2cli/pull/654</a>&gt;`__。</p>
</div>
</div>
<div class="section" id="rviz2">
<h3><a class="toc-backref" href="#id42">rviz2</a><a class="headerlink" href="#rviz2" title="永久链接至标题"></a></h3>
<div class="section" id="apply-textures-to-arbitrary-triangle-lists">
<h4>将纹理应用于任意三角形列表<a class="headerlink" href="#apply-textures-to-arbitrary-triangle-lists" title="永久链接至标题"></a></h4>
<p>我们添加了“通过URI定义的纹理应用于任意三角形列表的能力&lt;<a class="reference external" href="https://github.com/ros2/rviz/pull/719">https://github.com/ros2/rviz/pull/719</a>&gt;`__。现在我们可以使用UV坐标从纹理图中创建梯度，而不是默认的灰度。这将实现标记的复杂着色。要使用此功能，您应该使用 <code class="docutils literal notranslate"><span class="pre">visualization_msgs/Marker.msg</span></code> 并填写 <code class="docutils literal notranslate"><span class="pre">texture_resource</span></code>、<code class="docutils literal notranslate"><span class="pre">texture</span></code>、<code class="docutils literal notranslate"><span class="pre">uv_coordinates</span></code> 和 <code class="docutils literal notranslate"><span class="pre">mesh_file</span></code> 字段。您可以在`这里 &lt;<a class="reference external" href="https://github.com/ros2/common_interfaces/pull/153">https://github.com/ros2/common_interfaces/pull/153</a>&gt;`__找到更多信息。</p>
<img alt="../_images/triangle_marker_with_gradient.png" src="../_images/triangle_marker_with_gradient.png" />
</div>
<div class="section" id="visualization-of-mass-properties-including-inertia">
<h4>质量属性的可视化（包括惯性）<a class="headerlink" href="#visualization-of-mass-properties-including-inertia" title="永久链接至标题"></a></h4>
<p>我们还添加了可视化惯性的功能。要做到这一点，您可以在机器人模型的“质量属性”下选择启用“惯性”：</p>
<img alt="../_images/rviz_mass_inertia.png" src="../_images/rviz_mass_inertia.png" />
<p>您可以在下面看到一个惯性的图像。</p>
<img alt="../_images/tb4_inertia.png" src="../_images/tb4_inertia.png" />
</div>
<div class="section" id="visualize-yuv-images-in-rviz">
<h4>在RViz中可视化YUV图像<a class="headerlink" href="#visualize-yuv-images-in-rviz" title="永久链接至标题"></a></h4>
<p>现在可以直接在RViz中显示YUV图像，而无需先转换为RGB。有关详细信息，请参见 <a class="reference external" href="https://github.com/ros2/rviz/pull/701">ros2/rviz#701</a>。</p>
</div>
<div class="section" id="allow-rendering-of-objects-100-meters">
<h4>允许渲染距离大于100米的物体。<a class="headerlink" href="#allow-rendering-of-objects-100-meters" title="永久链接至标题"></a></h4>
<p>默认情况下，RViz仅渲染距离相机100米以内的物体。rviz相机插件中的一个新配置属性名为&quot;Far Plane Distance&quot;，可用于配置渲染距离。</p>
<img alt="../_images/rviz2-far-plane-distance.png" src="../_images/rviz2-far-plane-distance.png" />
<p>有关详细信息，请参见 <a class="reference external" href="https://github.com/ros2/rviz/pull/849">ros2/rviz#849</a>。</p>
</div>
</div>
</div>
<div class="section" id="changes-since-the-galactic-release">
<h2><a class="toc-backref" href="#id43">自Galactic版本以来的更改。</a><a class="headerlink" href="#changes-since-the-galactic-release" title="永久链接至标题"></a></h2>
<div class="section" id="c-headers-are-installed-in-a-subdirectory">
<h3><a class="toc-backref" href="#id44">C++头文件被安装在子目录中。</a><a class="headerlink" href="#c-headers-are-installed-in-a-subdirectory" title="永久链接至标题"></a></h3>
<p>在Humble之前的ROS 2版本中，所有软件包的C++头文件都安装在一个单独的包含目录中。例如，在Galactic中，目录结构如下（为简洁起见进行了简化）：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>/opt/ros/galactic/include/
├── rcl
│   ├── node.h
├── rclcpp
│   ├── node.hpp
</pre></div>
</div>
<p>这种结构在尝试使用覆盖时可能会引发严重问题。也就是说，由于包含目录的顺序问题，很可能获取到错误的头文件集合。请参阅https://colcon.readthedocs.io/en/released/user/overriding-packages.html，详细了解这些问题。</p>
<p>为了解决这个问题，在Humble中（以及未来的所有ROS 2版本中），目录结构发生了变化：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>/opt/ros/humble/include
├── rcl
│   └── rcl
│       ├── node.h
├── rclcpp
│   └── rclcpp
│       ├── node.hpp
</pre></div>
</div>
<p>请注意，使用这些头文件的下游软件包**无需**进行更改；使用``#include &lt;rclcpp/node.hpp&gt;``与以前一样正常工作。然而，在使用寻找包含目录的IDE时，可能需要将各个包含目录添加到搜索路径中。</p>
<p>请参阅https://github.com/ros2/ros2/issues/1150获取更多信息，包括此更改背后的原因。</p>
</div>
<div class="section" id="common-interfaces">
<h3><a class="toc-backref" href="#id45">common_interfaces</a><a class="headerlink" href="#common-interfaces" title="永久链接至标题"></a></h3>
<div class="section" id="support-textures-and-embedded-meshes-for-marker-messages">
<h4>为标记消息支持纹理和嵌入式网格<a class="headerlink" href="#support-textures-and-embedded-meshes-for-marker-messages" title="永久链接至标题"></a></h4>
<p>这两个新增功能将提高使用标准消息以新方式可视化数据的能力，并同时使跟踪这些数据在rosbag中成为可能。</p>
<p><a href="#id1"><span class="problematic" id="id2">**</span></a>纹理**引入了三个新字段以支持标记：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Texture resource is a special URI that can either reference a texture file in</span>
<span class="c1"># a format acceptable to (resource retriever)[https://index.ros.org/p/resource_retriever/]</span>
<span class="c1"># or an embedded texture via a string matching the format:</span>
<span class="c1">#   &quot;embedded://texture_name&quot;</span>
string texture_resource
<span class="c1"># An image to be loaded into the rendering engine as the texture for this marker.</span>
<span class="c1"># This will be used iff texture_resource is set to embedded.</span>
sensor_msgs/CompressedImage texture
<span class="c1"># Location of each vertex within the texture; in the range: [0.0-1.0]</span>
UVCoordinate<span class="o">[]</span> uv_coordinates
</pre></div>
</div>
<p>RViz将通过嵌入格式完全支持纹理渲染。</p>
<p>对于熟悉``mesh_resource``的人来说，应该会熟悉``resource_retriever``。这将允许程序员选择从哪里加载数据，可以是本地文件或网络文件。为了能够记录在rosbag中的所有数据，包括了嵌入纹理图像的能力。</p>
<p><a href="#id1"><span class="problematic" id="id2">**</span></a>网格**以类似的方式进行了修改，以添加嵌入原始网格文件的能力，用于记录和修改。Meshfile消息有两个字段：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># The filename is used for both debug purposes and to provide a file extension</span>
<span class="c1"># for whatever parser is used.</span>
string filename

<span class="c1"># This stores the raw text of the mesh file.</span>
uint8<span class="o">[]</span> data
</pre></div>
</div>
<p>尚不支持嵌入式“Meshfile”消息的实现。</p>
<p>相关PR: <a class="reference external" href="https://github.com/ros2/common_interfaces/pull/153">ros2/common_interfaces#153</a> <a class="reference external" href="https://github.com/ros2/rviz/pull/719">ros2/rviz#719</a></p>
</div>
<div class="section" id="added-prism-type-to-solidprimitive">
<h4>为SolidPrimitive添加了“PRISM”类型<a class="headerlink" href="#added-prism-type-to-solidprimitive" title="永久链接至标题"></a></h4>
<p>“SolidPrimitive”消息添加了新的“PRISM”类型，并附带适当的元数据。有关详细信息，请参阅`ros2/common_interfaces#167 &lt;<a class="reference external" href="https://github.com/ros2/common_interfaces/pull/167">https://github.com/ros2/common_interfaces/pull/167</a>&gt;`_。</p>
</div>
</div>
<div class="section" id="rmw">
<h3><a class="toc-backref" href="#id46">rmw</a><a class="headerlink" href="#rmw" title="永久链接至标题"></a></h3>
<div class="section" id="struct-type-name-suffix-changed-from-t-to-s">
<h4>将“struct”类型名称后缀从“_t”更改为“_s”<a class="headerlink" href="#struct-type-name-suffix-changed-from-t-to-s" title="永久链接至标题"></a></h4>
<p>为了避免在生成代码文档时出现“struct”类型名称和其“typedef”别名的重复错误，所有“struct”类型名称的后缀从“_t”更改为“_s”。保留了带有“_t”后缀的别名。因此，此更改仅对使用完整的“struct”类型说明符（即“struct type_name_t”）的代码产生了破坏性更改。</p>
<p>详细信息请参见 <a class="reference external" href="https://github.com/ros2/rmw/pull/313">ros2/rmw#313</a>。</p>
</div>
</div>
<div class="section" id="rmw-connextdds">
<h3><a class="toc-backref" href="#id47">rmw_connextdds</a><a class="headerlink" href="#rmw-connextdds" title="永久链接至标题"></a></h3>
<div class="section" id="use-connext-6-by-default">
<h4>默认使用Connext 6。<a class="headerlink" href="#use-connext-6-by-default" title="永久链接至标题"></a></h4>
<p>默认情况下，Humble Hawksbill 使用 Connext 6.0.1 作为 <code class="docutils literal notranslate"><span class="pre">rmw_connextdds</span></code> 的 DDS 实现。仍然可以使用 Connext 5.3.1 和 <code class="docutils literal notranslate"><span class="pre">rmw_connextdds</span></code>，但必须重新编译源代码。</p>
</div>
</div>
<div class="section" id="rcl">
<h3><a class="toc-backref" href="#id48">rcl</a><a class="headerlink" href="#rcl" title="永久链接至标题"></a></h3>
<div class="section" id="id2">
<h4>将“struct”类型名称后缀从“_t”更改为“_s”<a class="headerlink" href="#id2" title="永久链接至标题"></a></h4>
<p>为了避免在生成代码文档时出现“struct”类型名称和其“typedef”别名的重复错误，所有“struct”类型名称的后缀从“_t”更改为“_s”。保留了带有“_t”后缀的别名。因此，此更改仅对使用完整的“struct”类型说明符（即“struct type_name_t”）的代码产生了破坏性更改。</p>
<p>详细信息请参见 <a class="reference external" href="https://github.com/ros2/rcl/pull/932">ros2/rcl#932</a>。</p>
</div>
<div class="section" id="ros-disable-loaned-messages-environment-variable-added">
<h4>添加了 ROS_DISABLE_LOANED_MESSAGES 环境变量。<a class="headerlink" href="#ros-disable-loaned-messages-environment-variable-added" title="永久链接至标题"></a></h4>
<p>此环境变量可用于禁用借用消息支持，无论 rmw 是否支持它们。有关详细信息，请参阅指南：<a class="reference internal" href="../How-To-Guides/Disabling-ZeroCopy-loaned-messages.html"><span class="doc">禁用零拷贝借用消息</span></a>。</p>
</div>
</div>
<div class="section" id="rclcpp">
<h3><a class="toc-backref" href="#id49">rclcpp</a><a class="headerlink" href="#rclcpp" title="永久链接至标题"></a></h3>
<div class="section" id="support-type-adaption-for-publishers-and-subscriptions">
<h4>为发布者和订阅者支持类型适配<a class="headerlink" href="#support-type-adaption-for-publishers-and-subscriptions" title="永久链接至标题"></a></h4>
<p>在定义类型适配器之后，发布者和订阅者可以直接使用自定义的数据结构，这有助于减少程序员的额外工作和潜在的错误源。在处理复杂数据类型时特别有用，比如将 OpenCV 的 <code class="docutils literal notranslate"><span class="pre">cv::Mat</span></code> 转换为 ROS 的 <code class="docutils literal notranslate"><span class="pre">sensor_msgs/msg/Image</span></code> 类型。</p>
<p>以下是将 <code class="docutils literal notranslate"><span class="pre">std_msgs::msg::String</span></code> 转换为 <code class="docutils literal notranslate"><span class="pre">std::string</span></code> 的类型适配器示例：</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">template</span><span class="o">&lt;&gt;</span><span class="w"></span>
<span class="k">struct</span><span class="w"> </span><span class="nc">rclcpp</span><span class="o">::</span><span class="n">TypeAdapter</span><span class="o">&lt;</span><span class="w"></span>
<span class="w">   </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span><span class="w"></span>
<span class="w">   </span><span class="n">std_msgs</span><span class="o">::</span><span class="n">msg</span><span class="o">::</span><span class="n">String</span><span class="w"></span>
<span class="o">&gt;</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="k">using</span><span class="w"> </span><span class="n">is_specialized</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">true_type</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="k">using</span><span class="w"> </span><span class="n">custom_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="k">using</span><span class="w"> </span><span class="n">ros_message_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std_msgs</span><span class="o">::</span><span class="n">msg</span><span class="o">::</span><span class="n">String</span><span class="p">;</span><span class="w"></span>

<span class="w">  </span><span class="k">static</span><span class="w"></span>
<span class="w">  </span><span class="kt">void</span><span class="w"></span>
<span class="w">  </span><span class="nf">convert_to_ros_message</span><span class="p">(</span><span class="w"></span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">custom_type</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">source</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">ros_message_type</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">destination</span><span class="p">)</span><span class="w"></span>
<span class="w">  </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">destination</span><span class="p">.</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">source</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="k">static</span><span class="w"></span>
<span class="w">  </span><span class="kt">void</span><span class="w"></span>
<span class="w">  </span><span class="nf">convert_to_custom</span><span class="p">(</span><span class="w"></span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">ros_message_type</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">source</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">custom_type</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">destination</span><span class="p">)</span><span class="w"></span>
<span class="w">  </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">destination</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">source</span><span class="p">.</span><span class="n">data</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>
</pre></div>
</div>
<p>以下是如何使用类型适配器的示例：</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">using</span><span class="w"> </span><span class="n">MyAdaptedType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TypeAdapter</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span><span class="w"> </span><span class="n">std_msgs</span><span class="o">::</span><span class="n">msg</span><span class="o">::</span><span class="n">String</span><span class="o">&gt;</span><span class="p">;</span><span class="w"></span>

<span class="c1">// Publish a std::string</span>
<span class="k">auto</span><span class="w"> </span><span class="n">pub</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">node</span><span class="o">-&gt;</span><span class="n">create_publisher</span><span class="o">&lt;</span><span class="n">MyAdaptedType</span><span class="o">&gt;</span><span class="p">(...);</span><span class="w"></span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">custom_msg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;My std::string&quot;</span><span class="w"></span>
<span class="n">pub</span><span class="o">-&gt;</span><span class="n">publish</span><span class="p">(</span><span class="n">custom_msg</span><span class="p">);</span><span class="w"></span>

<span class="c1">// Pass a std::string to a subscription&#39;s callback</span>
<span class="k">auto</span><span class="w"> </span><span class="n">sub</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">node</span><span class="o">-&gt;</span><span class="n">create_subscription</span><span class="o">&lt;</span><span class="n">MyAdaptedType</span><span class="o">&gt;</span><span class="p">(</span><span class="w"></span>
<span class="w">  </span><span class="s">&quot;topic&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="mi">10</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="p">[](</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">msg</span><span class="p">)</span><span class="w"> </span><span class="p">{...});</span><span class="w"></span>
</pre></div>
</div>
<p>要了解更多信息，请参阅 <a class="reference external" href="https://github.com/ros2/examples/blob/b83b18598b198b4a5ba44f9266c1bb39a393fa17/rclcpp/topics/minimal_publisher/member_function_with_type_adapter.cpp">发布者示例</a> 和 <a class="reference external" href="https://github.com/ros2/examples/blob/b83b18598b198b4a5ba44f9266c1bb39a393fa17/rclcpp/topics/minimal_subscriber/member_function_with_type_adapter.cpp">订阅者示例</a>，以及更复杂的 <a class="reference external" href="https://github.com/ros2/demos/pull/482">演示示例</a>。有关详细信息，请参阅 <a class="reference external" href="https://ros.org/reps/rep-2007.html">REP 2007</a>。</p>
</div>
<div class="section" id="client-asnyc-send-request-request-returns-a-std-future-instead-of-a-std-shared-future">
<h4><code class="docutils literal notranslate"><span class="pre">Client::asnyc_send_request(request)</span></code> 返回一个 <code class="docutils literal notranslate"><span class="pre">std::future</span></code> 而不是 <code class="docutils literal notranslate"><span class="pre">std::shared_future</span></code>。<a class="headerlink" href="#client-asnyc-send-request-request-returns-a-std-future-instead-of-a-std-shared-future" title="永久链接至标题"></a></h4>
<p>此更改已在 <a class="reference external" href="https://github.com/ros2/rclcpp/pull/1734">rclcpp#1734</a> 中实施。这会破坏API，因为``std::future::get()``方法会提取future中的值。这意味着，如果该方法被第二次调用，它将抛出异常。对于``std::shared_future``来说，情况不同，因为它的``get()``方法返回一个``const &amp;``。示例：</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">auto</span><span class="w"> </span><span class="n">future</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">client</span><span class="o">-&gt;</span><span class="n">async_send_request</span><span class="p">(</span><span class="n">req</span><span class="p">);</span><span class="w"></span>
<span class="p">...</span><span class="w"></span>
<span class="n">do_something_with_response</span><span class="p">(</span><span class="n">future</span><span class="p">.</span><span class="n">get</span><span class="p">());</span><span class="w"></span>
<span class="p">...</span><span class="w"></span>
<span class="n">do_something_else_with_response</span><span class="p">(</span><span class="n">future</span><span class="p">.</span><span class="n">get</span><span class="p">());</span><span class="w">  </span><span class="c1">// this will throw an exception now!!</span>
</pre></div>
</div>
<p>应该更新为：</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">auto</span><span class="w"> </span><span class="n">future</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">client</span><span class="o">-&gt;</span><span class="n">async_send_request</span><span class="p">(</span><span class="n">req</span><span class="p">);</span><span class="w"></span>
<span class="p">...</span><span class="w"></span>
<span class="k">auto</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">future</span><span class="p">.</span><span class="n">get</span><span class="p">();</span><span class="w"></span>
<span class="n">do_something_with_response</span><span class="p">(</span><span class="n">response</span><span class="p">);</span><span class="w"></span>
<span class="p">...</span><span class="w"></span>
<span class="n">do_something_else_with_response</span><span class="p">(</span><span class="n">response</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>如果需要共享的future，可以使用``std::future::share()``方法。</p>
</div>
<div class="section" id="wait-for-all-acked-method-added-to-publisher">
<h4>向``Publisher``添加了``wait_for_all_acked``方法<a class="headerlink" href="#wait-for-all-acked-method-added-to-publisher" title="永久链接至标题"></a></h4>
<p>这个新方法将阻塞，直到发布者队列中的所有消息被匹配的订阅者确认或指定的超时时间过期。它只对可靠的发布者有用，因为在尽力传输的QoS情况下没有确认。示例：</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">auto</span><span class="w"> </span><span class="n">pub</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">node</span><span class="o">-&gt;</span><span class="n">create_publisher</span><span class="o">&lt;</span><span class="n">std_msgs</span><span class="o">::</span><span class="n">msg</span><span class="o">::</span><span class="n">String</span><span class="o">&gt;</span><span class="p">(...);</span><span class="w"></span>
<span class="p">...</span><span class="w"></span>
<span class="n">pub</span><span class="o">-&gt;</span><span class="n">publish</span><span class="p">(</span><span class="n">my_msg</span><span class="p">);</span><span class="w"></span>
<span class="p">...</span><span class="w"></span>
<span class="n">pub</span><span class="o">-&gt;</span><span class="n">wait_for_all_acked</span><span class="p">();</span><span class="w"> </span><span class="c1">// or pub-&gt;wait_for_all_acked(timeout)</span>
</pre></div>
</div>
<p>有关更完整的示例，请参见 <a class="reference external" href="https://github.com/ros2/examples/blob/humble/rclcpp/topics/minimal_publisher/member_function_with_wait_for_all_acked.cpp">此处</a>。</p>
</div>
<div class="section" id="get-callback-groups-method-removed-from-nodebase-and-node-classes">
<h4>从``NodeBase``和``Node``类中移除了``get_callback_groups``方法<a class="headerlink" href="#get-callback-groups-method-removed-from-nodebase-and-node-classes" title="永久链接至标题"></a></h4>
<p><a href="#id1"><span class="problematic" id="id2">``</span></a>for_each_callback_group()``方法替代了``get_callback_groups()``方法，提供了一种线程安全的访问``callback_groups_``向量的方式。<a href="#id3"><span class="problematic" id="id4">``</span></a>for_each_callback_group()``接受一个函数作为参数，遍历存储的回调组，并调用传递的函数来处理有效的回调组。</p>
<p>更多详细信息，请参考此`pull request &lt;<a class="reference external" href="https://github.com/ros2/rclcpp/pull/1723">https://github.com/ros2/rclcpp/pull/1723</a>&gt;`_。</p>
</div>
<div class="section" id="add-to-wait-set-method-from-waitable-class-changes-its-return-type-from-bool-to-void">
<h4><code class="docutils literal notranslate"><span class="pre">Waitable``类中的``add_to_wait_set``方法将返回类型从``bool``更改为``void</span></code><a class="headerlink" href="#add-to-wait-set-method-from-waitable-class-changes-its-return-type-from-bool-to-void" title="永久链接至标题"></a></h4>
<p>之前，派生自``Waitable``的类在无法将元素添加到等待集时返回false，因此调用者必须检查此返回值并抛出或处理错误。现在，此错误处理应直接在``add_to_wait_set``方法中完成，必要时抛出异常。如果没有发生错误，则不需要返回任何内容。因此，这是对``Waitable``的下游使用造成了破坏性变更。</p>
<p>有关更多详细信息，请参阅`ros2/rclcpp#1612 &lt;<a class="reference external" href="https://github.com/ros2/rclcpp/pull/1612">https://github.com/ros2/rclcpp/pull/1612</a>&gt;`__。</p>
</div>
<div class="section" id="get-notify-guard-condition-method-return-type-from-nodebaseinterface-class-changed">
<h4><a href="#id1"><span class="problematic" id="id2">``</span></a>NodeBaseInterface``类中的``get_notify_guard_condition``方法的返回类型已更改<a class="headerlink" href="#get-notify-guard-condition-method-return-type-from-nodebaseinterface-class-changed" title="永久链接至标题"></a></h4>
<p>现在``rclcpp``使用``GuardCondition``类对``rcl_guard_condition_t``进行封装，因此``get_notify_guard_condition``返回一个对节点的``rclcpp::GuardCondition``的引用。因此，这对于``NodeBaseInterface``和``NodeBase``的下游使用来说是一个破坏性变更。</p>
<p>有关更多详细信息，请参阅`ros2/rclcpp#1612 &lt;<a class="reference external" href="https://github.com/ros2/rclcpp/pull/1612">https://github.com/ros2/rclcpp/pull/1612</a>&gt;`__。</p>
</div>
<div class="section" id="sleep-until-and-sleep-for-methods-added-to-clock">
<h4>向``Clock``添加了``sleep_until``和``sleep_for``方法<a class="headerlink" href="#sleep-until-and-sleep-for-methods-added-to-clock" title="永久链接至标题"></a></h4>
<p>在 <a class="reference external" href="https://github.com/ros2/rclcpp/pull/1814">ros2/rclcpp#1814</a> 和 <a class="reference external" href="https://github.com/ros2/rclcpp/pull/1828">ros2/rclcpp#1828</a> 中添加了两个新方法，允许在特定的时钟上进行休眠。<a href="#id1"><span class="problematic" id="id2">``</span></a>Clock::sleep_until``将暂停当前线程，直到时钟达到特定时间。<a href="#id3"><span class="problematic" id="id4">``</span></a>Clock::sleep_for``将暂停当前线程，直到时钟从调用该方法时起经过一定的时间。如果``Context``被关闭，两种方法都会提前唤醒。</p>
</div>
</div>
<div class="section" id="rclcpp-lifecycle">
<h3><a class="toc-backref" href="#id50">rclcpp_lifecycle</a><a class="headerlink" href="#rclcpp-lifecycle" title="永久链接至标题"></a></h3>
<div class="section" id="active-and-deactivate-transitions-of-publishers-will-be-triggered-automatically">
<h4>发布者的激活和停用转换将自动触发<a class="headerlink" href="#active-and-deactivate-transitions-of-publishers-will-be-triggered-automatically" title="永久链接至标题"></a></h4>
<p>之前，用户需要重写``LifecylceNode::on_activate()``和``LifecylceNode::on_deactivate()``方法，并在``LifecyclePublisher``上调用同名方法来实际进行过渡。现在，<a href="#id1"><span class="problematic" id="id2">``</span></a>LifecylceNode``提供了这些方法的默认接口，已经自动完成了这个过程。在这里可以查看``lifecycle_talker``节点的实现 <a class="reference external" href="https://github.com/ros2/demos/tree/humble/lifecycle">here</a>。</p>
</div>
</div>
<div class="section" id="rclpy">
<h3><a class="toc-backref" href="#id51">rclpy</a><a class="headerlink" href="#rclpy" title="永久链接至标题"></a></h3>
<div class="section" id="managed-nodes">
<h4>管理节点<a class="headerlink" href="#managed-nodes" title="永久链接至标题"></a></h4>
<p>在rclpy中添加了对Lifecycle节点的支持。可以在`这里 &lt;<a class="reference external" href="https://github.com/ros2/demos/tree/humble/lifecycle_py">https://github.com/ros2/demos/tree/humble/lifecycle_py</a>&gt;`__找到完整的演示。</p>
</div>
<div class="section" id="id3">
<h4>向``Publisher``添加了``wait_for_all_acked``方法<a class="headerlink" href="#id3" title="永久链接至标题"></a></h4>
<p>类似于添加到rclcpp的功能。</p>
</div>
<div class="section" id="id4">
<h4>向``Clock``添加了``sleep_until``和``sleep_for``方法<a class="headerlink" href="#id4" title="永久链接至标题"></a></h4>
<p>添加了两个新的方法，允许在特定时钟上进行睡眠，详见 <a class="reference external" href="https://github.com/ros2/rclpy/pull/858">ros2/rclpy#858</a> 和 <a class="reference external" href="https://github.com/ros2/rclpy/pull/864">ros2/rclpy#864</a>。<a href="#id1"><span class="problematic" id="id2">``</span></a>sleep_until``会挂起当前线程，直到时钟到达特定时间。<a href="#id3"><span class="problematic" id="id4">``</span></a>sleep_for``会挂起当前线程，直到时钟从调用该方法时经过一定的时间。两种方法都会在``Context``关闭时提前唤醒。</p>
</div>
</div>
<div class="section" id="ros1-bridge">
<h3><a class="toc-backref" href="#id52">ros1_bridge</a><a class="headerlink" href="#ros1-bridge" title="永久链接至标题"></a></h3>
<p>由于Ubuntu Jammy及更高版本没有官方的ROS 1分发版本，<a href="#id1"><span class="problematic" id="id2">``</span></a>ros1_bridge``现在与Ubuntu打包的ROS 1版本兼容。有关如何使用``ros1_bridge``与Jammy软件包的更多详细信息，请参阅:doc:<a class="reference internal" href="../How-To-Guides/Using-ros1_bridge-Jammy-upstream.html"><span class="doc">如何使用指南</span></a>。</p>
</div>
<div class="section" id="id5">
<h3><a class="toc-backref" href="#id53">ros2cli</a><a class="headerlink" href="#id5" title="永久链接至标题"></a></h3>
<div class="section" id="ros2-commands-disable-output-buffering-by-default">
<h4><a href="#id1"><span class="problematic" id="id2">``</span></a>ros2``命令默认禁用输出缓冲<a class="headerlink" href="#ros2-commands-disable-output-buffering-by-default" title="永久链接至标题"></a></h4>
<p>在此版本之前，运行如下命令</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ros2</span> <span class="n">echo</span> <span class="o">/</span><span class="n">chatter</span> <span class="o">|</span> <span class="n">grep</span> <span class="s2">&quot;Hello&quot;</span>
</pre></div>
</div>
<p>直到输出缓冲区满时，不会打印任何数据。用户可以通过设置``PYTHONUNBUFFERED=1``来解决此问题，但这不太友好。</p>
<p>现在，所有``ros2``命令默认进行行缓冲，因此像上述命令一样，只要打印了换行符，命令就会起作用。要禁用此行为并使用默认的Python缓冲规则，请使用选项``--use-python-default-buffering``。有关更多信息，请参阅`原始问题&lt;<a class="reference external" href="https://github.com/ros2/ros2cli/issues/595">https://github.com/ros2/ros2cli/issues/595</a>&gt;`__和`拉取请求&lt;<a class="reference external" href="https://github.com/ros2/ros2cli/pull/659">https://github.com/ros2/ros2cli/pull/659</a>&gt;`__。</p>
</div>
<div class="section" id="ros2-topic-pub-will-wait-for-one-matching-subscription-when-using-times-once-1">
<h4>使用``--times/--once/-1``选项时，<a href="#id1"><span class="problematic" id="id2">``</span></a>ros2 topic pub``将等待一个匹配的订阅。<a class="headerlink" href="#ros2-topic-pub-will-wait-for-one-matching-subscription-when-using-times-once-1" title="永久链接至标题"></a></h4>
<p>当使用``--times/--once/-1``标志时，<a href="#id1"><span class="problematic" id="id2">``</span></a>ros2 topic pub``将等待找到一个匹配的订阅，然后开始发布。这样可以避免在ros2cli节点发现匹配的订阅之前开始发布，从而导致一些最初的消息丢失。当使用可靠的QoS配置文件时，这尤其令人意外。</p>
<p>可以使用``-w/--wait-matching-subscriptions``标志来配置在开始发布之前等待的匹配订阅数量，例如：</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ros2 topic pub -1 -w 3 /chatter std_msgs/msg/String &quot;{data: &#39;foo&#39;}&quot;</span>
</pre></div>
</div>
<p>等待三个匹配的订阅才开始发布。</p>
<p><code class="docutils literal notranslate"><span class="pre">-w``也可以独立于</span></code>--times/--once/-1``使用，但只有在与它们组合时默认为一，否则``-w``的默认值为零。</p>
<p>有关更多详细信息，请参阅https://github.com/ros2/ros2cli/pull/642。</p>
</div>
<div class="section" id="ros2-param-dump-default-output-changed">
<h4><a href="#id1"><span class="problematic" id="id2">``</span></a>ros2 param dump``的默认输出已更改。<a class="headerlink" href="#ros2-param-dump-default-output-changed" title="永久链接至标题"></a></h4>
<blockquote>
<div><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">--print</span></code> 选项用于 dump 命令，已经被 <a class="reference external" href="https://github.com/ros2/ros2cli/pull/638">deprecated</a>。</p>
<p>默认情况下，它会输出到标准输出：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ros2 param dump /my_node_name
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--output-dir</span></code> 选项用于 dump 命令，已经被 <a class="reference external" href="https://github.com/ros2/ros2cli/pull/638">deprecated</a>。</p>
<p>要将参数转储到文件中，请运行：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ros2 param dump /my_node_name &gt; my_node_name.yaml
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="ros2-param-set-now-accepts-more-yaml-syntax">
<h4><code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">param</span> <span class="pre">set</span></code> 现在接受更多的 YAML 语法<a class="headerlink" href="#ros2-param-set-now-accepts-more-yaml-syntax" title="永久链接至标题"></a></h4>
<p>以前，如果尝试将字符串 &quot;off&quot; 设置为字符串类型的参数是不起作用的。这是因为 <code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">param</span> <span class="pre">set</span></code> 将命令行参数解释为 YAML，并且 YAML 将 &quot;off&quot; 视为布尔类型。从 <a class="reference external" href="https://github.com/ros2/ros2cli/pull/684">https://github.com/ros2/ros2cli/pull/684</a> 开始，<code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">param</span> <span class="pre">set</span></code> 现在接受 YAML 转义序列 &quot;!!str off&quot;，以确保该值被视为字符串。</p>
</div>
<div class="section" id="ros2-pkg-create-can-automatically-generate-a-license-file">
<h4><code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">pkg</span> <span class="pre">create</span></code> 可以自动生成一个 LICENSE 文件<a class="headerlink" href="#ros2-pkg-create-can-automatically-generate-a-license-file" title="永久链接至标题"></a></h4>
<p>如果在执行 <code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">pkg</span> <span class="pre">create</span></code> 时传递了 <code class="docutils literal notranslate"><span class="pre">--license</span></code> 标志，并且许可证是已知的许可证之一，<code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">pkg</span> <span class="pre">create</span></code> 将自动在包的根目录中生成一个 LICENSE 文件。要获取已知许可证的列表，请运行 <code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">pkg</span> <span class="pre">create</span> <span class="pre">--license</span> <span class="pre">?</span> <span class="pre">&lt;package_name&gt;</span></code>。有关更多信息，请参阅相关的 <a class="reference external" href="https://github.com/ros2/ros2cli/pull/650">拉取请求</a>。</p>
</div>
</div>
<div class="section" id="robot-state-publisher">
<h3><a class="toc-backref" href="#id54">robot_state_publisher</a><a class="headerlink" href="#robot-state-publisher" title="永久链接至标题"></a></h3>
<div class="section" id="added-frame-prefix-parameter">
<h4>添加了 <code class="docutils literal notranslate"><span class="pre">frame_prefix</span></code> 参数<a class="headerlink" href="#added-frame-prefix-parameter" title="永久链接至标题"></a></h4>
<p>在 <a class="reference external" href="https://github.com/ros/robot_state_publisher/pull/159">ros/robot_state_publisher#159</a> 中添加了一个新的参数 <code class="docutils literal notranslate"><span class="pre">frame_prefix</span></code>。该参数是一个字符串，会添加到 <code class="docutils literal notranslate"><span class="pre">robot_state_publisher</span></code> 发布的所有帧名称之前。类似于 ROS 1 中原始 <code class="docutils literal notranslate"><span class="pre">tf</span></code> 库中的 <code class="docutils literal notranslate"><span class="pre">tf_prefix</span></code>，可以使用该参数多次发布相同的机器人描述，但使用不同的帧名称。</p>
</div>
<div class="section" id="removal-of-deprecated-use-tf-static-parameter">
<h4>删除了已弃用的 <code class="docutils literal notranslate"><span class="pre">use_tf_static</span></code> 参数<a class="headerlink" href="#removal-of-deprecated-use-tf-static-parameter" title="永久链接至标题"></a></h4>
<p>已从`robot_state_publisher`中删除了不推荐使用的`use_tf_static`参数。这意味着静态变换将无条件地发布到`/tf_static`主题，并且静态变换将以`transient_local`的质量服务进行发布。这是默认行为，也是`tf2_ros::TransformListener`类在之前预期的行为，因此大多数代码不需要更改。任何依赖于`robot_state_publisher`定期发布静态变换到`/tf`的代码都需要更新为订阅`/tf_static`作为`transient_local`订阅。</p>
</div>
</div>
<div class="section" id="rosidl-cmake">
<h3><a class="toc-backref" href="#id55">rosidl_cmake</a><a class="headerlink" href="#rosidl-cmake" title="永久链接至标题"></a></h3>
<div class="section" id="deprecation-of-rosidl-target-interfaces">
<h4>已弃用`rosidl_target_interfaces()`<a class="headerlink" href="#deprecation-of-rosidl-target-interfaces" title="永久链接至标题"></a></h4>
<p>CMake函数`rosidl_target_interfaces()`已弃用，调用时会发出CMake警告。想要在生成消息/服务/动作的同一ROS软件包中使用它们的用户应该调用`rosidl_get_typesupport_target()`，然后使用`target_link_libraries()`使目标依赖于返回的typesupport目标。有关更多详细信息，请参阅https://github.com/ros2/rosidl/pull/606，并查看https://github.com/ros2/demos/pull/529，了解使用新函数的示例。</p>
</div>
</div>
<div class="section" id="id7">
<h3><a class="toc-backref" href="#id56">rviz2</a><a class="headerlink" href="#id7" title="永久链接至标题"></a></h3>
<ul class="simple">
<li><p><a href="#id28"><span class="problematic" id="id29">`改进了3字节像素格式的效率&lt;https://github.com/ros2/rviz/pull/743&gt;`__</span></a></p></li>
<li><p><a href="#id28"><span class="problematic" id="id30">`更改了计算惯性矩阵的方法，使用了ignition math而不是Ogre的数学库&lt;https://github.com/ros2/rviz/pull/751&gt;`__</span></a>。</p></li>
</ul>
</div>
<div class="section" id="geometry2">
<h3><a class="toc-backref" href="#id57">geometry2</a><a class="headerlink" href="#geometry2" title="永久链接至标题"></a></h3>
<div class="section" id="deprecation-of-tf2error-no-error-etc">
<h4>TF2Error::NO_ERROR等的弃用<a class="headerlink" href="#deprecation-of-tf2error-no-error-etc" title="永久链接至标题"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">tf2``库使用一个叫做``TF2Error``的枚举来返回错误。不幸的是，其中一个枚举值叫做``NO_ERROR</span></code>，这与Windows上的一个宏冲突。为了解决这个问题，在``TF2Error``中创建了一组新的枚举值，每个值都以``TF2``为前缀。以前的枚举值仍然可用，但现在已被弃用，如果使用将打印弃用警告。所有使用``TF2Error``枚举值的代码都应该更新为使用新的以``TF2``为前缀的错误值。详细信息请参阅https://github.com/ros2/geometry2/pull/349。</p>
</div>
<div class="section" id="more-intuitive-command-line-arguments-for-static-transform-publisher">
<h4>更直观的静态变换发布器命令行参数<a class="headerlink" href="#more-intuitive-command-line-arguments-for-static-transform-publisher" title="永久链接至标题"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">static_transform_publisher``程序以前接受的参数形式如下：``ros2</span> <span class="pre">run</span> <span class="pre">tf2_ros</span> <span class="pre">static_transform_publisher</span> <span class="pre">0</span> <span class="pre">0</span> <span class="pre">0</span> <span class="pre">0</span> <span class="pre">0</span> <span class="pre">0</span> <span class="pre">1</span> <span class="pre">foo</span> <span class="pre">bar</span></code>。前三个数字是平移的x、y和z坐标，接下来的四个数字是四元数的x、y、z和w分量，最后两个参数是父帧和子帧的ID。虽然这种方式可以工作，但存在一些问题：</p>
<ul class="simple">
<li><p>用户必须指定*所有*的参数，即使只设置一个数字</p></li>
<li><p>阅读命令行以确定它发布的内容是困难的</p></li>
</ul>
<p>为了解决这两个问题，命令行处理方式已更改为使用标志，并且除了``--frame-id``和``--child-frame-id``之外的所有标志都是可选的。因此，上述命令行可以简化为：<code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">run</span> <span class="pre">tf2_ros</span> <span class="pre">static_transform_publisher</span> <span class="pre">--frame-id</span> <span class="pre">foo</span> <span class="pre">--child-frame-id</span> <span class="pre">bar</span></code> 要仅更改平移 x，命令行将是：<code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">run</span> <span class="pre">tf2_ros</span> <span class="pre">static_transform_publisher</span> <span class="pre">--x</span> <span class="pre">1.5</span> <span class="pre">--frame-id</span> <span class="pre">foo</span> <span class="pre">--child-frame-id</span> <span class="pre">bar</span></code>。</p>
<p>在此版本中仍允许使用旧式参数，但已被弃用并将打印警告。它们将在未来的版本中移除。更多详细信息，请参阅 <a class="reference external" href="https://github.com/ros2/geometry2/pull/392">https://github.com/ros2/geometry2/pull/392</a>。</p>
</div>
<div class="section" id="transform-listener-spin-thread-no-longer-executes-node-callbacks">
<h4>变换监听器的自旋线程不再执行节点回调<a class="headerlink" href="#transform-listener-spin-thread-no-longer-executes-node-callbacks" title="永久链接至标题"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">tf2_ros::TransformListener</span></code> 不再在提供的节点对象上自旋。相反，它创建一个回调组以在内部创建的实体上执行回调。这意味着如果在创建变换监听器时设置了参数 <code class="docutils literal notranslate"><span class="pre">spin_thread=true</span></code>，您不能再依赖于自己的回调函数被执行。您必须在节点上调用 <code class="docutils literal notranslate"><span class="pre">spin</span></code> 函数（例如 <code class="docutils literal notranslate"><span class="pre">rclcpp::spin</span></code>），或将节点添加到自己的执行器中。</p>
<p>相关拉取请求：<a class="reference external" href="https://github.com/ros2/geometry2/pull/442">geometry2#442</a></p>
</div>
</div>
<div class="section" id="rosbag2">
<h3><a class="toc-backref" href="#id58">rosbag2</a><a class="headerlink" href="#rosbag2" title="永久链接至标题"></a></h3>
<div class="section" id="new-playback-and-recording-controls">
<h4>新的回放和录制控制<a class="headerlink" href="#new-playback-and-recording-controls" title="永久链接至标题"></a></h4>
<p>已经添加了几个拉取请求来增强用户对包回放的控制能力。拉取请求 <a class="reference external" href="https://github.com/ros2/rosbag2/pull/931">931</a> 添加了指定开始播放时间戳的功能。由于拉取请求 <a class="reference external" href="https://github.com/ros2/rosbag2/pull/789">789</a>，现在可以通过指定的时间间隔延迟回放的开始。</p>
<p>与此相关的是，<code class="docutils literal notranslate"><span class="pre">rosbag2</span></code> 已经增加了用户在回放过程中控制的新方法。拉取请求 <a class="reference external" href="https://github.com/ros2/rosbag2/pull/847">847</a> 在终端上为暂停、恢复和播放下一条消息添加了键盘控制功能。还可以通过拉取请求 <a class="reference external" href="https://github.com/ros2/rosbag2/pull/905">905</a> 和 <a class="reference external" href="https://github.com/ros2/rosbag2/pull/904">904</a> 以暂停状态启动回放，这使得用户可以方便地启动回放，然后逐条消息进行调试，例如在调试管道时。拉取请求 <a class="reference external" href="https://github.com/ros2/rosbag2/pull/836">836</a> 添加了一个在包内进行寻址的接口，允许用户在回放过程中在包内进行移动。</p>
<p>最后，录制中添加了一种新的快照模式，通过拉取请求 <a class="reference external" href="https://github.com/ros2/rosbag2/pull/851">851</a> 实现。这种模式对于事件记录很有用，它允许录制开始填充缓冲区，但在调用服务之前不开始写入数据到磁盘。</p>
</div>
<div class="section" id="burst-mode-playback">
<h4>突发模式回放<a class="headerlink" href="#burst-mode-playback" title="永久链接至标题"></a></h4>
<p>虽然实时播放来自包文件的数据是包文件最常见的用例，但在某些情况下，您希望尽快获取包中的数据。通过拉取请求`977 &lt;<a class="reference external" href="https://github.com/ros2/rosbag2/pull/977">https://github.com/ros2/rosbag2/pull/977</a>&gt;`_，<a href="#id1"><span class="problematic" id="id2">``</span></a>rosbag2``获得了从包中“突发”数据的能力。在突发模式下，数据以最快的速度进行播放。这在机器学习等应用中非常有用。</p>
</div>
<div class="section" id="zero-copy-playback">
<h4>零拷贝播放<a class="headerlink" href="#zero-copy-playback" title="永久链接至标题"></a></h4>
<p>默认情况下，如果可以使用借用的消息，播放消息将作为借用的消息进行发布。这有助于减少数据的拷贝次数，因此对于发送大数据有更大的好处。拉取请求`981 &lt;<a class="reference external" href="https://github.com/ros2/rosbag2/pull/981">https://github.com/ros2/rosbag2/pull/981</a>&gt;`_为播放添加了``--disable-loan-message``选项。</p>
</div>
<div class="section" id="wait-for-an-acknowledgment">
<h4>等待确认<a class="headerlink" href="#wait-for-an-acknowledgment" title="永久链接至标题"></a></h4>
<p>这个新选项将等待所有发布的消息被所有订阅者确认，或者在播放终止之前等待超时（以毫秒为单位）。特别是在短时间内发送大尺寸的消息的情况下。只有当发布者的QOS配置文件为RELIABLE时，此选项才有效。拉取请求`951 &lt;<a class="reference external" href="https://github.com/ros2/rosbag2/pull/951">https://github.com/ros2/rosbag2/pull/951</a>&gt;`_为播放添加了``--wait-for-all-acked``选项。</p>
</div>
<div class="section" id="bag-editing">
<h4>包文件编辑<a class="headerlink" href="#bag-editing" title="永久链接至标题"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">rosbag2</span></code> 正在采取措施实现对包文件的编辑，例如删除特定主题的所有消息或将多个包文件合并为一个。Pull request <a class="reference external" href="https://github.com/ros2/rosbag2/pull/921">921</a> 添加了包文件重写功能和 <code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">bag</span> <span class="pre">convert</span></code> 命令。</p>
</div>
<div class="section" id="other-changes">
<h4>其他变化<a class="headerlink" href="#other-changes" title="永久链接至标题"></a></h4>
<p>Pull request <a class="reference external" href="https://github.com/ros2/rosbag2/pull/925">925</a> 使 <code class="docutils literal notranslate"><span class="pre">rosbag2</span></code> 在记录时忽略&quot;叶子主题&quot;（没有发布者的主题）。这些主题将不再自动添加到包文件中。</p>
</div>
</div>
</div>
<div class="section" id="known-issues">
<h2><a class="toc-backref" href="#id59">已知问题</a><a class="headerlink" href="#known-issues" title="永久链接至标题"></a></h2>
<ul class="simple">
<li><p>在`在 Ubuntu 22.04 Jammy 主机上安装 ROS 2 &lt;../../humble/Installation/Ubuntu-Install-Debians.html&gt;`__ 之前，重要的是在安装 ROS 2 包之前更新您的系统。特别需要确保 <code class="docutils literal notranslate"><span class="pre">systemd</span></code> 和 <code class="docutils literal notranslate"><span class="pre">udev</span></code> 更新到最新版本，否则安装 <code class="docutils literal notranslate"><span class="pre">ros-humble-desktop``（依赖于</span> <span class="pre">``libudev1</span></code>）可能会导致系统关键包被删除。详细信息可以在 <a class="reference external" href="https://github.com/ros2/ros2/issues/1272">ros2/ros2#1272</a> 和 <a class="reference external" href="https://bugs.launchpad.net/ubuntu/+source/systemd/+bug/1974196">Launchpad #1974196</a> 中找到。</p></li>
<li><p>当 ROS 2 apt 仓库可用时，无法安装 Ubuntu 上的 ROS 1 包。有关更多信息，请参阅 <a class="reference internal" href="../How-To-Guides/Using-ros1_bridge-Jammy-upstream.html"><span class="doc">Ubuntu Jammy 上的 ros1_bridge</span></a> 文档。</p></li>
<li><p>一些主要的 Linux 发行版已经开始修补 Python，将软件包安装到 <code class="docutils literal notranslate"><span class="pre">/usr/local</span></code>，这破坏了 <code class="docutils literal notranslate"><span class="pre">ament_package</span></code> 和使用 <code class="docutils literal notranslate"><span class="pre">colcon</span></code> 构建的一些部分。特别是，在 Ubuntu Jammy 上使用从 pip 安装的 <code class="docutils literal notranslate"><span class="pre">setuptools</span></code> 将导致此问题，因此不推荐这样做。目前有一个 <a class="reference external" href="https://github.com/colcon/colcon-core/pull/512">提议的解决方案</a> 需要进一步测试才能广泛发布。</p></li>
<li><p>拆分大小或持续时间的 ROS 2 包文件无法正确播放。只有最后一个记录的包文件会被播放。建议避免按大小或持续时间拆分包文件。详细信息可以在 <a class="reference external" href="https://github.com/ros2/rosbag2/issues/966">ros2/rosbag2#966</a> 中找到。</p></li>
</ul>
</div>
<div class="section" id="release-timeline">
<h2><a class="toc-backref" href="#id60">发布时间线</a><a class="headerlink" href="#release-timeline" title="永久链接至标题"></a></h2>
<blockquote>
<div><dl class="simple">
<dt>周一，2022年3月21日 - Alpha + RMW 冻结</dt><dd><p>对ROS基础包进行初步测试和稳定，并对RMW提供者包的API和功能进行冻结。</p>
</dd>
<dt>周一，2022年4月4日 - 冻结</dt><dd><p>对Rolling Ridley中的ROS基础包进行API和功能冻结。此后只能发布错误修复版本。新包可以独立发布。</p>
</dd>
<dt>周一，2022年4月18日 - 分支</dt><dd><p>从Rolling Ridley分支。 <a href="#id1"><span class="problematic" id="id2">``</span></a>rosdistro``已重新开放，用于ROS Base [1]_软件包的Rolling PRs。开发重心从``ros-rolling-<a href="#id3"><span class="problematic" id="id4">*</span></a><a href="#id5"><span class="problematic" id="id6">``</span></a>软件包转移到``ros-humble-<a href="#id7"><span class="problematic" id="id8">*</span></a><a href="#id9"><span class="problematic" id="id10">``</span></a>软件包。</p>
</dd>
<dt>2022年4月25日（星期一）- Beta版本</dt><dd><p>可用的ROS Desktop [2]_软件包的更新版本。请求进行常规测试。</p>
</dd>
<dt>2022年5月16日（星期一）- 正式候选版本</dt><dd><p>构建了正式候选版本软件包。可获取更新的ROS Desktop [2]_软件包版本。</p>
</dd>
<dt>2022年5月19日（星期四）- 发行版冻结</dt><dd><p>冻结rosdistro。在发布公告之前，<a href="#id1"><span class="problematic" id="id2">``</span></a>rosdistro``存储库上的Humble版本的PR将不会合并（发布公告后重新开放）。</p>
</dd>
<dt>周一，2022年5月23日 - 正式发布</dt><dd><p>发布公告。<code class="docutils literal notranslate"><span class="pre">rosdistro</span></code> 重新开放接受 Humble 的 PR。</p>
</dd>
</dl>
</div></blockquote>
<dl class="footnote brackets">
<dt class="label" id="id25"><span class="brackets">1</span><span class="fn-backref">(<a href="#id20">1</a>,<a href="#id21">2</a>,<a href="#id22">3</a>)</span></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">ros_base</span></code> 变体在 <a class="reference external" href="https://www.ros.org/reps/rep-2001.html#ros-base">REP 2001 (ros-base)</a> 中有描述。</p>
</dd>
<dt class="label" id="id26"><span class="brackets">2</span><span class="fn-backref">(<a href="#id23">1</a>,<a href="#id24">2</a>)</span></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">desktop</span></code> 变体在 <a class="reference external" href="https://www.ros.org/reps/rep-2001.html#desktop-variants">REP 2001 (desktop-variants)</a> 中有详细描述。</p>
</dd>
</dl>
</div>
</div>



           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Iron-Irwini-Complete-Changelog.html" class="btn btn-neutral float-left" title="Iron Irwini 更新日志" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
        <a href="Humble-Hawksbill-Complete-Changelog.html" class="btn btn-neutral float-right" title="Humble Hawksbill 变更日志" accesskey="n" rel="next">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2023, Open Robotics.</p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用了 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a>开发.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-EVD5Z6G6NH"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-EVD5Z6G6NH', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>