<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Concepts/About-Command-Line-Tools</title>
</head>
<body>
  <div class="section" id="introspection-with-command-line-tools">
<h1>使用命令行工具进行内省<a class="headerlink" href="#introspection-with-command-line-tools" title="永久链接至标题"></a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title">目录</p>
<ul class="simple">
<li><p><a class="reference internal" href="#usage" id="id1">用法</a></p></li>
<li><p><a class="reference internal" href="#example" id="id2">示例</a></p></li>
<li><p><a class="reference internal" href="#behind-the-scenes" id="id3">幕后</a></p></li>
<li><p><a class="reference internal" href="#implementation" id="id4">实现</a></p></li>
</ul>
</div>
<p>ROS 2 包含一套命令行工具，用于内省 ROS 2 系统。</p>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id1">用法</a><a class="headerlink" href="#usage" title="永久链接至标题"></a></h2>
<p>工具的主要入口点是命令 <code class="docutils literal notranslate"><span class="pre">ros2</span></code>，它本身有各种子命令，用于内省和处理节点、主题、服务等。</p>
<p>要查看所有可用的子命令，请运行：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ros2 --help
</pre></div>
</div>
<p>可用的子命令示例包括：</p>
<ul class="simple">
<li><p>action: 检测/交互 ROS 动作</p></li>
<li><p>bag: 记录/播放 rosbag</p></li>
<li><p>component: 管理组件容器</p></li>
<li><p>daemon: 检测/配置 ROS 2 守护进程</p></li>
<li><p>doctor: 检查ROS设置是否存在潜在问题</p></li>
<li><p>interface: 显示关于ROS接口的信息</p></li>
<li><p>launch: 运行/检查启动文件</p></li>
<li><p>lifecycle: 检查/管理具有托管生命周期的节点</p></li>
<li><p>node: 检查ROS节点</p></li>
<li><p>param: 在节点上进行参数检查/配置</p></li>
<li><p>pkg：查看ROS软件包</p></li>
<li><p>run：运行ROS节点</p></li>
<li><p>security：配置安全设置</p></li>
<li><p>service：查看/调用ROS服务</p></li>
<li><p>test：运行ROS启动测试</p></li>
<li><p>topic：查看/发布ROS主题</p></li>
<li><p>追踪：获取有关ROS节点执行的信息的工具（仅适用于Linux）</p></li>
</ul>
</div>
<div class="section" id="example">
<h2><a class="toc-backref" href="#id2">示例</a><a class="headerlink" href="#example" title="永久链接至标题"></a></h2>
<p>要使用命令行工具生成典型的发布者-订阅者示例，可以使用“topic”子命令在主题上发布和回显消息。</p>
<p>在一个终端中发布消息：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ros2 topic pub /chatter std_msgs/msg/String <span class="s2">&quot;data: Hello world&quot;</span>
publisher: beginning loop
publishing <span class="c1">#1: std_msgs.msg.String(data=&#39;Hello world&#39;)</span>

publishing <span class="c1">#2: std_msgs.msg.String(data=&#39;Hello world&#39;)</span>
</pre></div>
</div>
<p>在另一个终端中回显接收到的消息：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ros2 topic <span class="nb">echo</span> /chatter
data: Hello world

data: Hello world
</pre></div>
</div>
</div>
<div class="section" id="behind-the-scenes">
<h2><a class="toc-backref" href="#id3">幕后</a><a class="headerlink" href="#behind-the-scenes" title="永久链接至标题"></a></h2>
<p>ROS 2使用分布式发现过程使节点彼此连接。由于这个过程有意不使用集中式发现机制（如ROS 1中的ROS主节点），因此ROS节点发现ROS图中所有其他参与者可能需要一些时间。因此，后台有一个长时间运行的守护程序，用于存储关于ROS图的信息，以提供更快的查询响应，例如节点名称列表。</p>
<p>当首次使用相关命令行工具时，守护程序将自动启动。您可以运行``ros2 daemon --help``获取与守护程序交互的更多选项。</p>
</div>
<div class="section" id="implementation">
<h2><a class="toc-backref" href="#id4">实现</a><a class="headerlink" href="#implementation" title="永久链接至标题"></a></h2>
<p><a href="#id1"><span class="problematic" id="id2">``</span></a>ros2``命令的源代码可在https://github.com/ros2/ros2cli上获得。</p>
<p><a href="#id1"><span class="problematic" id="id2">``</span></a>ros2``工具已作为一个可通过插件进行扩展的框架实现。例如，如果安装了``sros2``包，则``ros2``工具会自动检测到`sros2 &lt;<a class="reference external" href="https://github.com/ros2/sros2">https://github.com/ros2/sros2</a>&gt;`__包提供的``security``子命令。</p>
</div>
</div>

  <div id="footer">
    <p>欢迎帮助改进！</p>
  </div>
</body>
</html>