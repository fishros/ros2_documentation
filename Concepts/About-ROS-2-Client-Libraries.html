<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Concepts/About-ROS-2-Client-Libraries</title>
</head>
<body>
  <div class="section" id="about-ros-2-client-libraries">
<span id="ros-2-client-libraries"></span><h1>关于ROS 2客户端库 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7206">[7206]</a><a class="headerlink" href="#about-ros-2-client-libraries" title="永久链接至标题"></a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title">目录 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6709">[]</a></p>
<ul class="simple">
<li><p><a class="reference internal" href="#overview" id="id1">概述 [6823]</a></p></li>
<li><p><a class="reference internal" href="#supported-client-libraries" id="id2">支持的客户端库 [7215]</a></p>
<ul>
<li><p><a class="reference internal" href="#the-rclcpp-package" id="id3">``rclcpp``包 [7217]</a></p></li>
<li><p><a class="reference internal" href="#the-rclpy-package" id="id4"><code class="docutils literal notranslate"><span class="pre">rclpy</span></code> 包 [7222]</a></p></li>
<li><p><a class="reference internal" href="#community-maintained" id="id5">社区维护 [7227]</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#common-functionality-the-rcl" id="id6">常用功能：RCL [7238]</a></p></li>
<li><p><a class="reference internal" href="#language-specific-functionality" id="id7">特定于语言的功能 [7242]</a></p></li>
<li><p><a class="reference internal" href="#demo" id="id8">演示 [7244]</a></p></li>
<li><p><a class="reference internal" href="#comparison-to-ros-1" id="id9">与ROS 1的比较 [7143]</a></p></li>
<li><p><a class="reference internal" href="#summary" id="id10">总结 [7247]</a></p></li>
</ul>
</div>
<div class="section" id="overview">
<h2>概述 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6823">[6823]</a><a class="headerlink" href="#overview" title="永久链接至标题"></a></h2>
<p>客户端库是允许用户实现其ROS代码的API。使用客户端库，用户可以访问ROS概念，如节点、主题、服务等。客户端库有多种编程语言可供选择，因此用户可以根据其应用程序最适合的语言编写ROS代码。例如，您可能希望使用Python编写可视化工具，因为它可以加快原型迭代速度，而对于与效率相关的系统部分，使用C++来实现节点可能更好。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7207">[7207]</a></p>
<p>使用不同客户端库编写的节点能够彼此共享消息，因为所有客户端库都实现了代码生成器，为用户提供了与各自语言中的ROS接口文件进行交互的能力。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7208">[7208]</a></p>
<p>除了针对特定语言的通信工具之外，客户端库还向用户提供了使ROS成为“ROS”的核心功能。例如，以下是通常可以通过客户端库访问的功能列表： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7209">[7209]</a></p>
<ul class="simple">
<li><p>名称和命名空间 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7210">[7210]</a></p></li>
<li><p>时间（真实或模拟） <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7211">[7211]</a></p></li>
<li><p>参数 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7156">[7156]</a></p></li>
<li><p>控制台日志记录 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7212">[7212]</a></p></li>
<li><p>线程模型 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7213">[7213]</a></p></li>
<li><p>进程内通信 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7214">[7214]</a></p></li>
</ul>
</div>
<div class="section" id="supported-client-libraries">
<h2>支持的客户端库 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7215">[7215]</a><a class="headerlink" href="#supported-client-libraries" title="永久链接至标题"></a></h2>
<p>C++客户端库（<code class="docutils literal notranslate"><span class="pre">rclcpp</span></code>）和Python客户端库（<code class="docutils literal notranslate"><span class="pre">rclpy</span></code>）都是利用RCL中的通用功能的客户端库。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7216">[7216]</a></p>
<div class="section" id="the-rclcpp-package">
<h3><a href="#id1"><span class="problematic" id="id2">``</span></a>rclcpp``包 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7217">[7217]</a><a class="headerlink" href="#the-rclcpp-package" title="永久链接至标题"></a></h3>
<p>ROS C++客户端库（<code class="docutils literal notranslate"><span class="pre">rclcpp</span></code>）是用户界面，使用C++的接口，提供了所有ROS客户端功能，如创建节点、发布者和订阅者。<code class="docutils literal notranslate"><span class="pre">rclcpp``基于``rcl``和``rosidl</span></code> <a class="reference internal" href="../Glossary.html#term-API"><span class="xref std std-term">API</span></a>，并且设计用于与``rosidl_generator_cpp``生成的C++消息一起使用。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7218">[7218]</a></p>
<p><code class="docutils literal notranslate"><span class="pre">rclcpp``利用C++和C++17的所有特性，使接口尽可能易于使用，但由于它重用了``rcl``中的实现，因此能够与使用``rcl</span></code> <a href="#id1"><span class="problematic" id="id2">|</span></a>API|的其他客户端库保持一致的行为。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7219">[7219]</a></p>
<p><code class="docutils literal notranslate"><span class="pre">rclcpp``仓库位于GitHub上的`ros2/rclcpp</span> <span class="pre">&lt;https://github.com/ros2/rclcpp&gt;`_，包含|package|</span> <span class="pre">``rclcpp</span></code>。生成的|API|文档在此处： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7220">[7220]</a></p>
<p><a class="reference external" href="http://docs.ros.org/en/humble/p/rclcpp">api/rclcpp/index.html</a> <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7221">[7221]</a></p>
</div>
<div class="section" id="the-rclpy-package">
<h3><code class="docutils literal notranslate"><span class="pre">rclpy</span></code> 包 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7222">[7222]</a><a class="headerlink" href="#the-rclpy-package" title="永久链接至标题"></a></h3>
<p>ROS 的 Python 客户端库（<code class="docutils literal notranslate"><span class="pre">rclpy</span></code>）是 C++ 客户端库的 Python 对应物。与 C++ 客户端库一样，<code class="docutils literal notranslate"><span class="pre">rclpy</span></code> 也基于 <code class="docutils literal notranslate"><span class="pre">rcl</span></code> C API 进行实现。该接口提供了一种符合 Python 习惯用法的编程体验，使用本地的 Python 类型和模式，如列表和上下文对象。通过在实现中使用 <code class="docutils literal notranslate"><span class="pre">rcl</span></code> <a class="reference internal" href="../Glossary.html#term-API"><span class="xref std std-term">API</span></a>，它在功能和行为方面与其他客户端库保持一致。除了为 <code class="docutils literal notranslate"><span class="pre">rcl</span></code> <a class="reference internal" href="../Glossary.html#term-API"><span class="xref std std-term">API</span></a> 提供 Python 符合习惯用法的绑定和为每个消息提供 Python 类之外，Python 客户端库还负责执行模型，使用 <code class="docutils literal notranslate"><span class="pre">threading.Thread</span></code> 或类似方法来运行 <code class="docutils literal notranslate"><span class="pre">rcl</span></code> <a class="reference internal" href="../Glossary.html#term-API"><span class="xref std std-term">API</span></a> 中的函数。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7223">[7223]</a></p>
<p>与 C++ 类似，它为用户与每个 ROS 消息进行交互生成自定义的 Python 代码，但与 C++ 不同的是，它最终将本地的 Python 消息对象转换为 C 版本的消息。所有操作都在 Python 版本的消息上进行，直到需要将其传递到 <code class="docutils literal notranslate"><span class="pre">rcl</span></code> 层，此时将其转换为纯 C 版本的消息，以便将其传递到 <code class="docutils literal notranslate"><span class="pre">rcl</span></code> C <a class="reference internal" href="../Glossary.html#term-API"><span class="xref std std-term">API</span></a> 中。在同一进程中的发布者和订阅者之间通信时，如果可能的话，会尽量避免进行 Python 的转换操作，以减少转换的次数。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7224">[7224]</a></p>
<p><code class="docutils literal notranslate"><span class="pre">rclpy</span></code> 存储库位于 GitHub 上的 <a class="reference external" href="https://github.com/ros2/rclpy">ros2/rclpy</a>，包含 <a class="reference internal" href="../Glossary.html#term-package"><span class="xref std std-term">package</span></a> <code class="docutils literal notranslate"><span class="pre">rclpy</span></code>。生成的 <a class="reference internal" href="../Glossary.html#term-API"><span class="xref std std-term">API</span></a> 文档在此处： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7225">[7225]</a></p>
<p><a class="reference external" href="http://docs.ros2.org/foxy/api/rclpy/index.html">api/rclpy/index.html</a> <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7226">[7226]</a></p>
</div>
<div class="section" id="community-maintained">
<h3>社区维护 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7227">[7227]</a><a class="headerlink" href="#community-maintained" title="永久链接至标题"></a></h3>
<p>尽管C++和Python客户端库由ROS 2核心团队维护，但ROS 2社区成员还维护了其他客户端库： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7228">[7228]</a></p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/ada-ros/ada4ros2">Ada</a> 用于ROS 2的Ada绑定和工具-工作空间覆盖。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7229">[7229]</a></p></li>
<li><p><a class="reference external" href="https://github.com/ros2/rclc">C</a> <a href="#id1"><span class="problematic" id="id2">``</span></a>rclc``不在rcl之上添加一个层，而是在C中补充rcl，以使rcl+rclc成为一个功能完整的C客户端库。请参阅 <a class="reference external" href="https://micro.ros.org/">micro.ros.org</a> 了解教程。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7230">[7230]</a></p></li>
<li><p><a class="reference external" href="https://github.com/ros2-java">JVM和Android</a> 用于ROS 2的Java和Android绑定。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7231">[7231]</a></p></li>
<li><p><a class="reference external" href="https://github.com/esteve/ros2_dotnet">.NET Core，UWP和C#</a> 这是一组用于编写.NET Core和.NET Standard下的ROS 2应用程序的项目（绑定、代码生成器、示例等）。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7232">[7232]</a></p></li>
<li><p><a class="reference external" href="https://www.npmjs.com/package/rclnodejs">Node.js</a> 是 ROS 2 的 Node.js 客户端。它为 ROS 2 编程提供了一个简单且易于使用的 JavaScript API。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7233">[7233]</a></p></li>
<li><p><a class="reference external" href="https://github.com/ros2-rust/ros2_rust">Rust</a> 是一组项目（包括 rclrs 客户端库、代码生成器、示例等），使开发人员能够使用 Rust 编写 ROS 2 应用程序。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7234">[7234]</a></p></li>
</ul>
<p>较旧且不再维护的客户端库有： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7235">[7235]</a></p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/firesurfer/rclcs">C#</a> <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7236">[7236]</a></p></li>
<li><p><a class="reference external" href="https://github.com/esteve/ros2_objc">Objective C 和 iOS</a> <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7237">[7237]</a></p></li>
</ul>
</div>
</div>
<div class="section" id="common-functionality-the-rcl">
<h2>常用功能：RCL <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7238">[7238]</a><a class="headerlink" href="#common-functionality-the-rcl" title="永久链接至标题"></a></h2>
<p>客户端库中的大部分功能与客户端库的编程语言无关。例如，参数的行为和命名空间的逻辑在所有编程语言中应该是相同的。因此，客户端库不需要从头开始实现通用功能，而是利用一个通用的ROS客户端库（RCL）接口，该接口实现了与ROS概念无关的逻辑和行为。因此，客户端库只需要使用外部函数接口将通用功能封装在RCL中。这使得客户端库更加轻巧且易于开发。因此，通用的RCL功能通过C接口公开，因为C语言通常是客户端库最容易封装的语言。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7239">[7239]</a></p>
<p>除了使客户端库变得轻量级之外，拥有通用核心的优势是不同语言之间的行为更加一致。如果对核心RCL中的逻辑/行为进行任何更改，例如命名空间，使用RCL的所有客户端库都将反映这些更改。此外，拥有通用核心意味着在修复错误时维护多个客户端库的工作量减少。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7240">[7240]</a></p>
<p>RCL的API文档可以在此处找到：&lt;<a class="reference external" href="https://docs.ros2.org/latest/api/rcl/">https://docs.ros2.org/latest/api/rcl/</a>&gt; <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7241">[7241]</a></p>
</div>
<div class="section" id="language-specific-functionality">
<h2>特定于语言的功能 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7242">[7242]</a><a class="headerlink" href="#language-specific-functionality" title="永久链接至标题"></a></h2>
<p>需要语言特定功能/属性的客户端库概念不在RCL中实现，而是在每个客户端库中实现。例如，“spin”函数使用的线程模型将具有特定于客户端库语言的实现。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7243">[7243]</a></p>
</div>
<div class="section" id="demo">
<h2>演示 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7244">[7244]</a><a class="headerlink" href="#demo" title="永久链接至标题"></a></h2>
<p>如果你想了解使用 <code class="docutils literal notranslate"><span class="pre">rclpy</span></code> 发布者和使用 <code class="docutils literal notranslate"><span class="pre">rclcpp</span></code> 订阅者之间的消息交换过程，我们建议你观看这个 ROSCon 演讲（&lt;<a class="reference external" href="https://vimeo.com/187696091">https://vimeo.com/187696091</a>&gt;`__），从 17:25 开始（<a class="reference external" href="https://roscon.ros.org/2016/presentations/ROSCon%202016%20-%20ROS%202%20Update.pdf">在这里查看幻灯片</a>）。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7245">[7245]</a></p>
</div>
<div class="section" id="comparison-to-ros-1">
<h2>与ROS 1的比较 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7143">[7143]</a><a class="headerlink" href="#comparison-to-ros-1" title="永久链接至标题"></a></h2>
<p>在 ROS 1 中，所有客户端库都是从头开始开发的。这使得 ROS 1 Python 客户端库可以完全用 Python 实现，例如，这带来了无需编译代码的好处。然而，命名约定和行为在客户端库之间并不总是一致的，bug 修复必须在多个位置进行，而且有许多功能只在一个客户端库中实现（例如，UDPROS）。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7246">[7246]</a></p>
</div>
<div class="section" id="summary">
<h2>总结 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7247">[7247]</a><a class="headerlink" href="#summary" title="永久链接至标题"></a></h2>
<p>通过使用通用的核心 ROS 客户端库，以多种编程语言编写的客户端库更容易编写，并且具有更一致的行为。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7248">[7248]</a></p>
</div>
</div>

  <div id="footer">
    <p>欢迎帮助改进！</p>
  </div>
</body>
</html>