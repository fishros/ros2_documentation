<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Installation/Ubuntu-Install-Debians</title>
</head>
<body>
  <div class="section" id="ubuntu-debian">
<h1>Ubuntu（Debian）<a class="headerlink" href="#ubuntu-debian" title="永久链接至标题"></a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title">目录</p>
<ul class="simple">
<li><p><a class="reference internal" href="#resources" id="id1">资源</a></p></li>
<li><p><a class="reference internal" href="#set-locale" id="id2">设置区域设置</a></p></li>
<li><p><a class="reference internal" href="#setup-sources" id="id3">设置源</a></p></li>
<li><p><a class="reference internal" href="#install-ros-2-packages" id="id4">安装ROS 2软件包</a></p></li>
<li><p><a class="reference internal" href="#environment-setup" id="id5">环境设置</a></p>
<ul>
<li><p><a class="reference internal" href="#sourcing-the-setup-script" id="id6">导入设置脚本</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#try-some-examples" id="id7">尝试一些示例</a></p>
<ul>
<li><p><a class="reference internal" href="#talker-listener" id="id8">说话者-监听器</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#next-steps-after-installing" id="id9">安装后的下一步</a></p></li>
<li><p><a class="reference internal" href="#using-the-ros-1-bridge" id="id10">使用 ROS 1 桥接器</a></p></li>
<li><p><a class="reference internal" href="#additional-rmw-implementations-optional" id="id11">其他RMW实现（可选）</a></p></li>
<li><p><a class="reference internal" href="#troubleshooting" id="id12">故障排除</a></p></li>
<li><p><a class="reference internal" href="#uninstall" id="id13">卸载</a></p></li>
</ul>
</div>
<p>ROS 2 Humble Hawksbill的Debian软件包目前可用于Ubuntu Jammy。</p>
<div class="section" id="resources">
<h2><a class="toc-backref" href="#id1">资源</a><a class="headerlink" href="#resources" title="永久链接至标题"></a></h2>
<ul class="simple">
<li><p>状态页面：</p>
<ul>
<li><p>ROS 2 Humble（Ubuntu Jammy）：<a class="reference external" href="http://repo.ros2.org/status_page/ros_humble_default.html">amd64</a>，<a class="reference external" href="http://repo.ros2.org/status_page/ros_humble_ujv8.html">arm64</a></p></li>
</ul>
</li>
<li><p><a class="reference external" href="http://build.ros2.org/">Jenkins 实例</a></p></li>
<li><p><a class="reference external" href="http://repo.ros2.org">仓库</a></p></li>
</ul>
</div>
<div class="section" id="set-locale">
<h2><a class="toc-backref" href="#id2">设置区域设置</a><a class="headerlink" href="#set-locale" title="永久链接至标题"></a></h2>
<p>确保您的系统支持 <code class="docutils literal notranslate"><span class="pre">UTF-8</span></code> 语言环境。如果您处于最小化环境（例如 Docker 容器），语言环境可能是最小化的，如 <code class="docutils literal notranslate"><span class="pre">POSIX</span></code>。我们使用以下设置进行测试。不过，如果您使用其他支持 UTF-8 的语言环境，应该也没问题。</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>locale  <span class="c1"># check for UTF-8</span>

sudo apt update <span class="o">&amp;&amp;</span> sudo apt install locales
sudo locale-gen en_US en_US.UTF-8
sudo update-locale <span class="nv">LC_ALL</span><span class="o">=</span>en_US.UTF-8 <span class="nv">LANG</span><span class="o">=</span>en_US.UTF-8
<span class="nb">export</span> <span class="nv">LANG</span><span class="o">=</span>en_US.UTF-8

locale  <span class="c1"># verify settings</span>
</pre></div>
</div>
</div>
<div class="section" id="setup-sources">
<span id="linux-install-debians-setup-sources"></span><h2><a class="toc-backref" href="#id3">设置源</a><a class="headerlink" href="#setup-sources" title="永久链接至标题"></a></h2>
<p>您需要将 ROS 2 apt 仓库添加到您的系统中。</p>
<p>首先确保已启用 <a class="reference external" href="https://help.ubuntu.com/community/Repositories/Ubuntu">Ubuntu Universe 软件源</a>。</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt install software-properties-common
sudo add-apt-repository universe
</pre></div>
</div>
<p>然后使用 apt 添加 ROS 2 GPG 密钥。</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt update <span class="o">&amp;&amp;</span> sudo apt install curl -y
sudo curl -sSL https://raw.githubusercontent.com/ros/rosdistro/master/ros.key -o /usr/share/keyrings/ros-archive-keyring.gpg
</pre></div>
</div>
<p>接下来将软件源添加到您的源列表中。</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span> <span class="s2">&quot;deb [arch=</span><span class="k">$(</span>dpkg --print-architecture<span class="k">)</span><span class="s2"> signed-by=/usr/share/keyrings/ros-archive-keyring.gpg] http://packages.ros.org/ros2/ubuntu </span><span class="k">$(</span>. /etc/os-release <span class="o">&amp;&amp;</span> <span class="nb">echo</span> <span class="nv">$UBUNTU_CODENAME</span><span class="k">)</span><span class="s2"> main&quot;</span> <span class="p">|</span> sudo tee /etc/apt/sources.list.d/ros2.list &gt; /dev/null
</pre></div>
</div>
</div>
<div class="section" id="install-ros-2-packages">
<span id="linux-install-debians-install-ros-2-packages"></span><h2><a class="toc-backref" href="#id4">安装ROS 2软件包</a><a class="headerlink" href="#install-ros-2-packages" title="永久链接至标题"></a></h2>
<p>在设置完软件源后，请更新apt存储库缓存。</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt update
</pre></div>
</div>
<p>ROS 2 包是建立在频繁更新的 Ubuntu 系统上的。在安装新的包之前，始终建议确保您的系统是最新的。</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt upgrade
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>由于Ubuntu 22.04的早期更新，安装ROS 2之前，重要的是更新与``systemd``和``udev``相关的软件包。在新安装的系统上安装ROS 2的依赖项而不进行升级可能会触发**删除关键系统软件包**。</p>
<p>请参考`ros2/ros2#1272 &lt;<a class="reference external" href="https://github.com/ros2/ros2/issues/1272">https://github.com/ros2/ros2/issues/1272</a>&gt;`_和`Launchpad #1974196 &lt;<a class="reference external" href="https://bugs.launchpad.net/ubuntu/+source/systemd/+bug/1974196">https://bugs.launchpad.net/ubuntu/+source/systemd/+bug/1974196</a>&gt;`_获取更多信息。</p>
</div>
<p>桌面安装（推荐）：ROS、RViz、演示、教程。</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt install ros-humble-desktop
</pre></div>
</div>
<p>ROS-Base安装（基础安装）：通信库、消息包、命令行工具。没有GUI工具。</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt install ros-humble-ros-base
</pre></div>
</div>
<p>开发工具: 编译器和其他用于构建ROS软件包的工具</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt install ros-dev-tools
</pre></div>
</div>
</div>
<div class="section" id="environment-setup">
<h2><a class="toc-backref" href="#id5">环境设置</a><a class="headerlink" href="#environment-setup" title="永久链接至标题"></a></h2>
<div class="section" id="sourcing-the-setup-script">
<h3><a class="toc-backref" href="#id6">导入设置脚本</a><a class="headerlink" href="#sourcing-the-setup-script" title="永久链接至标题"></a></h3>
<p>通过源化以下文件来设置您的环境。</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Replace &quot;.bash&quot; with your shell if you&#39;re not using bash</span>
<span class="c1"># Possible values are: setup.bash, setup.sh, setup.zsh</span>
<span class="nb">source</span> /opt/ros/humble/setup.bash
</pre></div>
</div>
</div>
</div>
<div class="section" id="try-some-examples">
<h2><a class="toc-backref" href="#id7">尝试一些示例</a><a class="headerlink" href="#try-some-examples" title="永久链接至标题"></a></h2>
<div class="section" id="talker-listener">
<h3><a class="toc-backref" href="#id8">说话者-监听器</a><a class="headerlink" href="#talker-listener" title="永久链接至标题"></a></h3>
<p>如果您已经安装了上述``ros-humble-desktop``，您可以尝试一些示例。</p>
<p>在一个终端中，先源化设置文件，然后运行C++的``talker``：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">source</span> /opt/ros/humble/setup.bash
ros2 run demo_nodes_cpp talker
</pre></div>
</div>
<p>在另一个终端中，先源化设置文件，然后运行Python的``listener``：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">source</span> /opt/ros/humble/setup.bash
ros2 run demo_nodes_py listener
</pre></div>
</div>
<p>你应该看到“talker”说它正在“发布”消息，而“listener”说“我听到了”这些消息。这验证了C++和Python API都正常工作。太棒了！</p>
</div>
</div>
<div class="section" id="next-steps-after-installing">
<h2><a class="toc-backref" href="#id9">安装后的下一步</a><a class="headerlink" href="#next-steps-after-installing" title="永久链接至标题"></a></h2>
<p>继续进行:doc:<a class="reference internal" href="../Tutorials.html"><span class="doc">教程和演示</span></a>，以配置你的环境，创建自己的工作空间和包，并学习ROS 2的核心概念。</p>
</div>
<div class="section" id="using-the-ros-1-bridge">
<h2><a class="toc-backref" href="#id10">使用 ROS 1 桥接器</a><a class="headerlink" href="#using-the-ros-1-bridge" title="永久链接至标题"></a></h2>
<p>ROS 1 桥接器可以连接 ROS 1 和 ROS 2 的主题。请参阅专门的 <a class="reference external" href="https://github.com/ros2/ros1_bridge/blob/master/README.md">文档</a> 以了解如何构建和使用 ROS 1 桥接器。</p>
</div>
<div class="section" id="additional-rmw-implementations-optional">
<h2><a class="toc-backref" href="#id11">其他RMW实现（可选）</a><a class="headerlink" href="#additional-rmw-implementations-optional" title="永久链接至标题"></a></h2>
<p>ROS 2默认使用的中间件是``Fast DDS``，但中间件（RMW）可以在运行时进行替换。请参阅:doc:<a href="#id1"><span class="problematic" id="id2">`</span></a>指南 &lt;../How-To-Guides/Working-with-multiple-RMW-implementations&gt;`以了解如何使用多个RMW。</p>
</div>
<div class="section" id="troubleshooting">
<h2><a class="toc-backref" href="#id12">故障排除</a><a class="headerlink" href="#troubleshooting" title="永久链接至标题"></a></h2>
<p>可以在此处找到故障排除技术：<a class="reference internal" href="../How-To-Guides/Installation-Troubleshooting.html"><span class="doc">此处</span></a>。</p>
</div>
<div class="section" id="uninstall">
<h2><a class="toc-backref" href="#id13">卸载</a><a class="headerlink" href="#uninstall" title="永久链接至标题"></a></h2>
<p>如果您需要卸载ROS 2或在已从二进制文件安装后切换到基于源代码的安装，请运行以下命令：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt remove ~nros-humble-* <span class="o">&amp;&amp;</span> sudo apt autoremove
</pre></div>
</div>
<p>您还可以删除存储库:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo rm /etc/apt/sources.list.d/ros2.list
sudo apt update
sudo apt autoremove
<span class="c1"># Consider upgrading for packages previously shadowed.</span>
sudo apt upgrade
</pre></div>
</div>
</div>
</div>

  <div id="footer">
    <p>欢迎帮助改进！</p>
  </div>
</body>
</html>