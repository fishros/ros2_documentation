<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Installation/Maintaining-a-Source-Checkout</title>
</head>
<body>
  <div class="section" id="maintain-source-checkout">
<span id="maintainingsource"></span><h1>维护源代码检出。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7917">[7917]</a><a class="headerlink" href="#maintain-source-checkout" title="永久链接至标题"></a></h1>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>要了解如何维护ROS 2**最新开发版本**的源代码检出，请参考`维护ROS 2 Rolling源代码检出 &lt;../../rolling/Installation/Maintaining-a-Source-Checkout.html&gt;`__ <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7918">[7918]</a></p>
</div>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#update-your-repository-list" id="id1">更新存储库列表 [7920]</a></p>
<ul>
<li><p><a class="reference internal" href="#latest-ros-2-humble-branches" id="id2">最新的ROS 2 Humble分支 [7922]</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#update-your-repositories" id="id3">更新您的仓库 [7927]</a></p></li>
<li><p><a class="reference internal" href="#download-the-new-source-code" id="id4">下载新的源代码 [7929]</a></p></li>
<li><p><a class="reference internal" href="#rebuild-your-workspace" id="id5">重建您的工作空间 [7931]</a></p></li>
<li><p><a class="reference internal" href="#inspect-your-source-checkout" id="id6">检查您的源代码检出 [7933]</a></p></li>
</ul>
</div>
<p>如果您已经从源代码安装了ROS 2，那么自您检出代码以来，源代码可能已经发生了更改。为了使您的源代码检出保持最新，您需要定期更新您的``ros2.repos``文件，下载最新的源代码，并重新构建您的工作空间。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7919">[7919]</a></p>
<div class="section" id="update-your-repository-list">
<h2>更新存储库列表 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7920">[7920]</a><a class="headerlink" href="#update-your-repository-list" title="永久链接至标题"></a></h2>
<p>每个ROS 2版本都包含一个``ros2.repos``文件，其中包含该版本的存储库及其版本的列表。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7921">[7921]</a></p>
<div class="section" id="latest-ros-2-humble-branches">
<h3>最新的ROS 2 Humble分支 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7922">[7922]</a><a class="headerlink" href="#latest-ros-2-humble-branches" title="永久链接至标题"></a></h3>
<p>如果您希望检出ROS 2 Humble的最新代码，可以运行以下命令获取相关的存储库列表： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7923">[7923]</a></p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-TGludXg=" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-TGludXg=" name="TGludXg=" role="tab" tabindex="0">Linux</button><button aria-controls="panel-0-bWFjT1M=" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-bWFjT1M=" name="bWFjT1M=" role="tab" tabindex="-1">macOS</button><button aria-controls="panel-0-V2luZG93cw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-V2luZG93cw==" name="V2luZG93cw==" role="tab" tabindex="-1">Windows</button></div><div aria-labelledby="tab-0-TGludXg=" class="sphinx-tabs-panel group-tab" id="panel-0-TGludXg=" name="TGludXg=" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> ~/ros2_humble
mv -i ros2.repos ros2.repos.old
wget https://raw.githubusercontent.com/ros2/ros2/humble/ros2.repos
</pre></div>
</div>
</div><div aria-labelledby="tab-0-bWFjT1M=" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-bWFjT1M=" name="bWFjT1M=" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> ~/ros2_humble
mv -i ros2.repos ros2.repos.old
wget https://raw.githubusercontent.com/ros2/ros2/humble/ros2.repos
</pre></div>
</div>
</div><div aria-labelledby="tab-0-V2luZG93cw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-V2luZG93cw==" name="V2luZG93cw==" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># CMD</span>
<span class="nb">cd</span> <span class="se">\d</span>ev<span class="se">\r</span>os2_humble
curl -sk https://raw.githubusercontent.com/ros2/ros2/humble/ros2.repos -o ros2.repos

<span class="c1"># PowerShell</span>
<span class="nb">cd</span> <span class="se">\d</span>ev<span class="se">\r</span>os2_humble
curl https://raw.githubusercontent.com/ros2/ros2/humble/ros2.repos -o ros2.repos
</pre></div>
</div>
</div></div>
</div>
</div>
<div class="section" id="update-your-repositories">
<h2>更新您的仓库 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7927">[7927]</a><a class="headerlink" href="#update-your-repositories" title="永久链接至标题"></a></h2>
<p>您会注意到在`ros2.repos &lt;<a class="reference external" href="https://raw.githubusercontent.com/ros2/ros2/humble/ros2.repos">https://raw.githubusercontent.com/ros2/ros2/humble/ros2.repos</a>&gt;`__文件中，每个仓库都有一个与之关联的``version``，它指向一个特定的提交哈希、标签或分支名称。可能这些版本引用了新的标签/分支，而您本地的仓库副本由于过时无法识别。因此，您应该使用以下命令更新已经检出的仓库： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7928">[7928]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>vcs custom --args remote update
</pre></div>
</div>
</div>
<div class="section" id="download-the-new-source-code">
<h2>下载新的源代码 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7929">[7929]</a><a class="headerlink" href="#download-the-new-source-code" title="永久链接至标题"></a></h2>
<p>现在，您应该能够使用以下命令下载与新的仓库列表相关的源代码： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7930">[7930]</a></p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-1-TGludXg=" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-1-TGludXg=" name="TGludXg=" role="tab" tabindex="0">Linux</button><button aria-controls="panel-1-bWFjT1M=" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-bWFjT1M=" name="bWFjT1M=" role="tab" tabindex="-1">macOS</button><button aria-controls="panel-1-V2luZG93cw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-V2luZG93cw==" name="V2luZG93cw==" role="tab" tabindex="-1">Windows</button></div><div aria-labelledby="tab-1-TGludXg=" class="sphinx-tabs-panel group-tab" id="panel-1-TGludXg=" name="TGludXg=" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>vcs import src &lt; ros2.repos
vcs pull src
</pre></div>
</div>
</div><div aria-labelledby="tab-1-bWFjT1M=" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-bWFjT1M=" name="bWFjT1M=" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>vcs import src &lt; ros2.repos
vcs pull src
</pre></div>
</div>
</div><div aria-labelledby="tab-1-V2luZG93cw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-V2luZG93cw==" name="V2luZG93cw==" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># CMD</span>
vcs import src &lt; ros2.repos
vcs pull src

<span class="c1"># PowerShell</span>
vcs import --input ros2.repos src
vcs pull src
</pre></div>
</div>
</div></div>
</div>
<div class="section" id="rebuild-your-workspace">
<h2>重建您的工作空间 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7931">[7931]</a><a class="headerlink" href="#rebuild-your-workspace" title="永久链接至标题"></a></h2>
<p>现在，工作空间已经更新到最新的源代码，您可以通过以下命令删除之前的安装并重新构建工作空间，例如： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7932">[7932]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>colcon build --symlink-install
</pre></div>
</div>
</div>
<div class="section" id="inspect-your-source-checkout">
<h2>检查您的源代码检出 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7933">[7933]</a><a class="headerlink" href="#inspect-your-source-checkout" title="永久链接至标题"></a></h2>
<p>在开发过程中，您可能偏离了导入存储库列表时工作区的初始状态。如果您希望了解工作区中一组存储库的版本信息，您可以使用以下命令导出信息： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7934">[7934]</a></p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-2-TGludXg=" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-2-TGludXg=" name="TGludXg=" role="tab" tabindex="0">Linux</button><button aria-controls="panel-2-bWFjT1M=" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-2-bWFjT1M=" name="bWFjT1M=" role="tab" tabindex="-1">macOS</button><button aria-controls="panel-2-V2luZG93cw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-2-V2luZG93cw==" name="V2luZG93cw==" role="tab" tabindex="-1">Windows</button></div><div aria-labelledby="tab-2-TGludXg=" class="sphinx-tabs-panel group-tab" id="panel-2-TGludXg=" name="TGludXg=" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> ~/ros2_humble
vcs <span class="nb">export</span> src &gt; my_ros2.repos
</pre></div>
</div>
</div><div aria-labelledby="tab-2-bWFjT1M=" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-2-bWFjT1M=" name="bWFjT1M=" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> ~/ros2_humble
vcs <span class="nb">export</span> src &gt; my_ros2.repos
</pre></div>
</div>
</div><div aria-labelledby="tab-2-V2luZG93cw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-2-V2luZG93cw==" name="V2luZG93cw==" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> <span class="se">\d</span>ev<span class="se">\r</span>os2_humble
vcs <span class="nb">export</span> src &gt; my_ros2.repos
</pre></div>
</div>
</div></div>
<p>然后，可以将此 <code class="docutils literal notranslate"><span class="pre">my_ros2.repos</span></code> 文件与他人共享，以便他们可以重现工作区中存储库的状态。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=7935">[7935]</a></p>
</div>
</div>

  <div id="footer">
    <p>欢迎帮助改进！</p>
  </div>
</body>
</html>