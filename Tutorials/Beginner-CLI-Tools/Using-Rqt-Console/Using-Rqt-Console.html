<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Tutorials/Beginner-CLI-Tools/Using-Rqt-Console/Using-Rqt-Console</title>
</head>
<body>
  <div class="section" id="using-rqt-console-to-view-logs">
<span id="rqt-console"></span><h1>使用 <code class="docutils literal notranslate"><span class="pre">rqt_console</span></code> 查看日志 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=4337">[4337]</a><a class="headerlink" href="#using-rqt-console-to-view-logs" title="永久链接至标题"></a></h1>
<p><strong>目标：</strong> 了解 <code class="docutils literal notranslate"><span class="pre">rqt_console</span></code>，一种用于查看日志消息的工具。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=4338">[4338]</a></p>
<p><strong>教程级别:</strong> 初学者 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3951">[3951]</a></p>
<p><strong>时间：</strong> 5分钟 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3557">[3557]</a></p>
<div class="contents local topic" id="contents">
<p class="topic-title">内容 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3277">[3277]</a></p>
<ul class="simple">
<li><p><a class="reference internal" href="#background" id="id1">背景 [3072]</a></p></li>
<li><p><a class="reference internal" href="#prerequisites" id="id2">先决条件 [3124]</a></p></li>
<li><p><a class="reference internal" href="#tasks" id="id3">任务 [3282]</a></p>
<ul>
<li><p><a class="reference internal" href="#setup" id="id4">1 设置 [4071]</a></p></li>
<li><p><a class="reference internal" href="#messages-on-rqt-console" id="id5">rqt_console 上的 2 条消息 [4348]</a></p></li>
<li><p><a class="reference internal" href="#logger-levels" id="id6">3个日志记录器级别 [4352]</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#summary" id="id7">总结 [3353]</a></p></li>
<li><p><a class="reference internal" href="#next-steps" id="id8">下一步 [3797]</a></p></li>
</ul>
</div>
<div class="section" id="background">
<h2>背景 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3072">[3072]</a><a class="headerlink" href="#background" title="永久链接至标题"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">rqt_console</span></code> 是一个用于在ROS 2中检查日志消息的图形界面工具。通常，日志消息会显示在终端中。使用 <code class="docutils literal notranslate"><span class="pre">rqt_console</span></code>，您可以随时间收集这些消息，以更加仔细和有组织的方式查看它们，对它们进行过滤、保存，甚至可以重新加载保存的文件以在不同的时间进行检查。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=4339">[4339]</a></p>
<p>节点使用日志来输出与事件和状态有关的消息，以各种方式进行。它们的内容通常是信息性的，为了用户的利益。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=4340">[4340]</a></p>
</div>
<div class="section" id="prerequisites">
<h2>先决条件 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3124">[3124]</a><a class="headerlink" href="#prerequisites" title="永久链接至标题"></a></h2>
<p>你需要安装 <a class="reference internal" href="../Introducing-Turtlesim/Introducing-Turtlesim.html"><span class="doc">rqt_console and turtlesim</span></a>。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=4341">[4341]</a></p>
<p>像往常一样，在 <a class="reference internal" href="../Configuring-ROS2-Environment.html"><span class="doc">每个新开的终端中</span></a> 都不要忘记加载 ROS 2 。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=4070">[4070]</a></p>
</div>
<div class="section" id="tasks">
<h2>任务 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3282">[3282]</a><a class="headerlink" href="#tasks" title="永久链接至标题"></a></h2>
<div class="section" id="setup">
<h3>1 设置 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=4071">[4071]</a><a class="headerlink" href="#setup" title="永久链接至标题"></a></h3>
<p>在新的终端窗口中使用以下命令启动 <code class="docutils literal notranslate"><span class="pre">rqt_console</span></code>： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=4342">[4342]</a></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ros2 run rqt_console rqt_console</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">rqt_console</span></code> 窗口将会打开： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=4343">[4343]</a></p>
<img alt="../../../_images/console.png" src="../../../_images/console.png" />
<p>控制台的第一部分用于显示系统的日志消息。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=4344">[4344]</a></p>
<p>在中间，您可以选择通过排除严重级别来过滤消息。您还可以使用右侧的加号按钮添加更多的排除过滤器。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=4345">[4345]</a></p>
<p>底部的部分是用于突出显示包含您输入的字符串的消息。您也可以在此部分添加更多的过滤器。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=4346">[4346]</a></p>
<p>现在在新终端中使用以下命令启动 <code class="docutils literal notranslate"><span class="pre">turtlesim</span></code> ： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=4347">[4347]</a></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ros2 run turtlesim turtlesim_node</span>
</pre></div>
</div>
</div>
<div class="section" id="messages-on-rqt-console">
<h3>rqt_console 上的 2 条消息 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=4348">[4348]</a><a class="headerlink" href="#messages-on-rqt-console" title="永久链接至标题"></a></h3>
<p>为了生成供``rqt_console``显示的日志消息，让乌龟撞到墙上。在新的终端中输入``ros2 topic pub``命令（在:doc:<a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=4349">主题教程 &lt;../Understanding-ROS2-Topics/Understanding-ROS2-Topics&gt;`中有详细讨论），如下所示： `[4349]</a></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ros2 topic pub -r 1 /turtle1/cmd_vel geometry_msgs/msg/Twist &quot;{linear: {x: 2.0, y: 0.0, z: 0.0}, angular: {x: 0.0,y: 0.0,z: 0.0}}&quot;</span>
</pre></div>
</div>
<p>由于上述命令以固定速率发布主题，乌龟会持续撞墙。在``rqt_console``中，你会看到相同的消息以``Warn``严重级别一遍又一遍地显示，如下所示： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=4350">[4350]</a></p>
<img alt="../../../_images/warn.png" src="../../../_images/warn.png" />
<p>在你运行``ros2 topic pub``命令的终端中按下``Ctrl+C``，停止乌龟撞墙。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=4351">[4351]</a></p>
</div>
<div class="section" id="logger-levels">
<h3>3个日志记录器级别 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=4352">[4352]</a><a class="headerlink" href="#logger-levels" title="永久链接至标题"></a></h3>
<p>ROS 2的记录器级别按严重程度排序： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=4353">[4353]</a></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Fatal</span>
<span class="go">Error</span>
<span class="go">Warn</span>
<span class="go">Info</span>
<span class="go">Debug</span>
</pre></div>
</div>
<p>关于每个级别表示的确切标准并没有精确的规定，但可以安全地假设： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=4354">[4354]</a></p>
<ul class="simple">
<li><p><a href="#id1"><span class="problematic" id="id2">``</span></a>Fatal``（致命）消息表明系统将终止以试图保护自身免受损害。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=4355">[4355]</a></p></li>
<li><p><a href="#id1"><span class="problematic" id="id2">``</span></a>Error``（错误）消息表示存在重要问题，这些问题不一定会损坏系统，但会阻止其正常运行。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=4356">[4356]</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Warn</span></code> 消息表示意外活动或非理想结果，可能表示更深层问题，但不会直接影响功能。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=4357">[4357]</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Info</span></code> 消息表示事件和状态更新，作为系统正常运行的可视验证。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=4358">[4358]</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Debug</span></code> 消息详细描述系统执行的每个步骤。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=4359">[4359]</a></p></li>
</ul>
<p>默认级别是 <code class="docutils literal notranslate"><span class="pre">Info</span></code>。只会看到默认严重级别和更严重级别的消息。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=4360">[4360]</a></p>
<p>通常，只有``Debug``级别的消息被隐藏，因为它们是比``Info``级别更轻微的级别。例如，如果您将默认级别设置为``Warn``，您只会看到``Warn``、<a href="#id1"><span class="problematic" id="id2">``</span></a>Error``和``Fatal``严重程度的消息。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=4361">[4361]</a></p>
<div class="section" id="set-the-default-logger-level">
<h4>3.1 设置默认日志记录器级别 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=4362">[4362]</a><a class="headerlink" href="#set-the-default-logger-level" title="永久链接至标题"></a></h4>
<p>您可以在首次运行``/turtlesim``节点时使用重映射设置默认日志记录器级别。在终端中输入以下命令： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=4363">[4363]</a></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ros2 run turtlesim turtlesim_node --ros-args --log-level WARN</span>
</pre></div>
</div>
<p>现在您将不会看到上次启动``turtlesim``时在控制台上出现的初始``Info``级别的消息。这是因为``Info``消息的优先级低于新的默认严重程度``Warn``。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=4364">[4364]</a></p>
</div>
</div>
</div>
<div class="section" id="summary">
<h2>总结 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3353">[3353]</a><a class="headerlink" href="#summary" title="永久链接至标题"></a></h2>
<p>如果您需要仔细检查系统的日志消息，<a href="#id1"><span class="problematic" id="id2">``</span></a>rqt_console``可能非常有帮助。您可能出于各种原因想要检查日志消息，通常是为了找出出错的地方以及导致该问题的事件序列。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=4365">[4365]</a></p>
</div>
<div class="section" id="next-steps">
<h2>下一步 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3797">[3797]</a><a class="headerlink" href="#next-steps" title="永久链接至标题"></a></h2>
<p>下一个教程将教您如何使用 <a class="reference internal" href="../Launching-Multiple-Nodes/Launching-Multiple-Nodes.html"><span class="doc">ROS 2 Launch</span></a> 一次启动多个节点。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=4366">[4366]</a></p>
</div>
</div>

  <div id="footer">
    <p>欢迎帮助改进！</p>
  </div>
</body>
</html>