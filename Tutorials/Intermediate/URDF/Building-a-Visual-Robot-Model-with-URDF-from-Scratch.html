<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Tutorials/Intermediate/URDF/Building-a-Visual-Robot-Model-with-URDF-from-Scratch</title>
</head>
<body>
  <div class="section" id="building-a-visual-robot-model-from-scratch">
<span id="buildingurdf"></span><h1>从头开始构建一个可视化的机器人模型 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6182">[6182]</a><a class="headerlink" href="#building-a-visual-robot-model-from-scratch" title="永久链接至标题"></a></h1>
<p><strong>目标:</strong> 学习如何构建一个机器人的可视化模型，可以在 Rviz 中查看 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6183">[6183]</a></p>
<p><strong>教程级别：</strong> 中级 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=5286">[5286]</a></p>
<p><a href="#id1"><span class="problematic" id="id2">**</span></a>时间：<a href="#id3"><span class="problematic" id="id4">**</span></a>20分钟 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3069">[3069]</a></p>
<div class="contents local topic" id="contents">
<p class="topic-title">内容 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3277">[3277]</a></p>
<ul class="simple">
<li><p><a class="reference internal" href="#one-shape" id="id3">一个形状 [6188]</a></p></li>
<li><p><a class="reference internal" href="#multiple-shapes" id="id4">多个形状 [6204]</a></p></li>
<li><p><a class="reference internal" href="#origins" id="id5">起点 [6209]</a></p></li>
<li><p><a class="reference internal" href="#material-girl" id="id6">Material Girl [6216]</a></p></li>
<li><p><a class="reference internal" href="#finishing-the-model" id="id7">完成模型 [6222]</a></p></li>
</ul>
</div>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>本教程假设您已经知道如何编写格式良好的 XML 代码 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6184">[6184]</a></p>
</div>
<p>在本教程中，我们将构建一个类似 R2D2 的机器人的可视化模型。在后续的教程中，您将学习如何：<a class="reference internal" href="Building-a-Movable-Robot-Model-with-URDF.html"><span class="doc">描述模型</span></a>，<a class="reference internal" href="Adding-Physical-and-Collision-Properties-to-a-URDF-Model.html"><span class="doc">添加一些物理属性</span></a>，和 <a class="reference internal" href="Using-Xacro-to-Clean-Up-a-URDF-File.html"><span class="doc">使用 xacro 生成更整洁的代码</span></a>，但现在，我们将专注于确保视觉几何正确。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6185">[6185]</a></p>
<p>在继续之前，请确保您已安装了 <a class="reference external" href="https://index.ros.org/p/joint_state_publisher">joint_state_publisher</a> 包。如果您安装了 <a class="reference external" href="https://index.ros.org/p/urdf_tutorial">urdf_tutorial</a> 的二进制文件，这应该已经是满足条件的。如果没有，请更新您的安装以包含该包（使用 <code class="docutils literal notranslate"><span class="pre">rosdep</span></code> 进行检查）。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6186">[6186]</a></p>
<p>本教程中提到的所有机器人模型（以及源文件）都可以在 <a class="reference external" href="https://index.ros.org/p/urdf_tutorial">urdf_tutorial</a> 包中找到。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6187">[6187]</a></p>
<div class="section" id="one-shape">
<h2>一个形状 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6188">[6188]</a><a class="headerlink" href="#one-shape" title="永久链接至标题"></a></h2>
<p>首先，我们将只探索一个简单的形状。以下是一个最简单的 URDF 示例。<a class="reference external" href="https://github.com/ros/urdf_tutorial/blob/ros2/urdf/01-myfirst.urdf">[来源：01-myfirst.urdf]</a> <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6189">[6189]</a></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<span class="nt">&lt;robot</span> <span class="na">name=</span><span class="s">&quot;myfirst&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;link</span> <span class="na">name=</span><span class="s">&quot;base_link&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;visual&gt;</span>
      <span class="nt">&lt;geometry&gt;</span>
        <span class="nt">&lt;cylinder</span> <span class="na">length=</span><span class="s">&quot;0.6&quot;</span> <span class="na">radius=</span><span class="s">&quot;0.2&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/geometry&gt;</span>
    <span class="nt">&lt;/visual&gt;</span>
  <span class="nt">&lt;/link&gt;</span>
<span class="nt">&lt;/robot&gt;</span>
</pre></div>
</div>
<p>要将 XML 翻译成英文，这是一个名为``myfirst``的机器人，它只包含一个链接（即部件），其可视组件只是一个长为 0.6 米、半径为 0.2 米的圆柱体。对于一个简单的“hello world”类型的示例来说，这可能看起来有很多封闭标签，但信任我，它会变得更加复杂。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6190">[6190]</a></p>
<p>要查看模型，请启动``display.launch.py``文件： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6191">[6191]</a></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ros2 launch urdf_tutorial display.launch.py model:=urdf/01-myfirst.urdf</span>
</pre></div>
</div>
<p>这做了三件事： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6192">[6192]</a></p>
<blockquote>
<div><ul class="simple">
<li><p>加载指定的模型并将其保存为参数 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6193">[6193]</a></p></li>
<li><p>运行节点以发布`sensor_msgs/msg/JointState &lt;<a class="reference external" href="https://github.com/ros2/common_interfaces/blob/eloquent/sensor_msgs/msg/JointState.msg">https://github.com/ros2/common_interfaces/blob/eloquent/sensor_msgs/msg/JointState.msg</a>&gt;`_和变换（稍后会介绍更多相关内容） <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6194">[6194]</a></p></li>
<li><p>使用配置文件启动Rviz <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6195">[6195]</a></p></li>
</ul>
</div></blockquote>
<p>请注意，上面的启动命令假设您是从`urdf_tutorial &lt;<a class="reference external" href="https://index.ros.org/p/urdf_tutorial">https://index.ros.org/p/urdf_tutorial</a>&gt;`_包目录中执行的（即：<a href="#id1"><span class="problematic" id="id2">``</span></a>urdf``目录是当前工作目录的直接子目录）。如果不是这种情况，<a href="#id3"><span class="problematic" id="id4">``</span></a>01-myfirst.urdf``的相对路径将无效，并且当启动程序尝试将urdf作为参数加载时，您将收到错误提示。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6196">[6196]</a></p>
<p>稍作修改的参数使其可以在任何当前工作目录下正常工作： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6197">[6197]</a></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ros2 launch urdf_tutorial display.launch.py model:=`ros2 pkg prefix --share urdf_tutorial`/urdf/01-myfirst.urdf</span>
</pre></div>
</div>
<p>如果您不是从``urdf_tutorial``包位置运行这些教程，请更改所有示例启动命令。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6198">[6198]</a></p>
<p>在启动``display.launch.py``之后，您将看到RViz显示如下内容： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6199">[6199]</a></p>
<a class="reference internal image-reference" href="https://raw.githubusercontent.com/ros/urdf_tutorial/ros2/images/myfirst.png"><img alt="我的第一张图片 `[6200] &lt;http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6200&gt;`_ " src="https://raw.githubusercontent.com/ros/urdf_tutorial/ros2/images/myfirst.png" style="width: 800px;" /></a>
<dl class="simple">
<dt>需要注意的事项： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6201">[6201]</a></dt><dd><ul class="simple">
<li><p>固定框架是网格中心所在的变换框架。这里，它是由我们的一个链接`base_link`定义的框架。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6202">[6202]</a></p></li>
<li><p>可视元素（圆柱体）的原点默认位于其几何形状的中心。因此，圆柱体的一半位于网格下方。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6203">[6203]</a></p></li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="multiple-shapes">
<h2>多个形状 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6204">[6204]</a><a class="headerlink" href="#multiple-shapes" title="永久链接至标题"></a></h2>
<p>现在让我们看一下如何添加多个形状/链接。如果我们只是向URDF添加更多的链接元素，解析器将不知道如何安排它们。因此，我们必须添加关节。关节元素可以引用灵活关节和不可弯曲关节。我们将从不可弯曲或固定关节开始。<a class="reference external" href="https://github.com/ros/urdf_tutorial/blob/ros2/urdf/02-multipleshapes.urdf">[来源：02-multipleshapes.urdf]</a> <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6205">[6205]</a></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<span class="nt">&lt;robot</span> <span class="na">name=</span><span class="s">&quot;multipleshapes&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;link</span> <span class="na">name=</span><span class="s">&quot;base_link&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;visual&gt;</span>
      <span class="nt">&lt;geometry&gt;</span>
        <span class="nt">&lt;cylinder</span> <span class="na">length=</span><span class="s">&quot;0.6&quot;</span> <span class="na">radius=</span><span class="s">&quot;0.2&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/geometry&gt;</span>
    <span class="nt">&lt;/visual&gt;</span>
  <span class="nt">&lt;/link&gt;</span>

  <span class="nt">&lt;link</span> <span class="na">name=</span><span class="s">&quot;right_leg&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;visual&gt;</span>
      <span class="nt">&lt;geometry&gt;</span>
        <span class="nt">&lt;box</span> <span class="na">size=</span><span class="s">&quot;0.6 0.1 0.2&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/geometry&gt;</span>
    <span class="nt">&lt;/visual&gt;</span>
  <span class="nt">&lt;/link&gt;</span>

  <span class="nt">&lt;joint</span> <span class="na">name=</span><span class="s">&quot;base_to_right_leg&quot;</span> <span class="na">type=</span><span class="s">&quot;fixed&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;parent</span> <span class="na">link=</span><span class="s">&quot;base_link&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;child</span> <span class="na">link=</span><span class="s">&quot;right_leg&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/joint&gt;</span>

<span class="nt">&lt;/robot&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>请注意我们如何定义一个0.6米 x 0.1米 x 0.2米的盒子 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6206">[6206]</a></p></li>
<li><p>关节是由父节点和子节点定义的。URDF最终是一棵树状结构，只有一个根链接。这意味着腿的位置取决于base_link的位置。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6207">[6207]</a></p></li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ros2 launch urdf_tutorial display.launch.py model:=urdf/02-multipleshapes.urdf</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="https://raw.githubusercontent.com/ros/urdf_tutorial/ros2/images/multipleshapes.png"><img alt="多个形状 `[6204] &lt;http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6204&gt;`_ " src="https://raw.githubusercontent.com/ros/urdf_tutorial/ros2/images/multipleshapes.png" style="width: 800px;" /></a>
<p>两个形状彼此重叠，因为它们共享相同的起点。如果我们不想让它们重叠，我们必须定义更多的起点。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6208">[6208]</a></p>
</div>
<div class="section" id="origins">
<h2>起点 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6209">[6209]</a><a class="headerlink" href="#origins" title="永久链接至标题"></a></h2>
<p>R2D2的腿连接到他的上半身的侧面。所以我们要指定关节的起点。另外，它不是连接到腿的中间部分，而是连接到上部分，所以我们必须为腿的起点偏移。我们还将腿旋转，使其直立。[来源：03-origins.urdf](<a class="reference external" href="https://github.com/ros/urdf_tutorial/blob/ros2/urdf/03-origins.urdf">https://github.com/ros/urdf_tutorial/blob/ros2/urdf/03-origins.urdf</a>) <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6210">[6210]</a></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<span class="nt">&lt;robot</span> <span class="na">name=</span><span class="s">&quot;origins&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;link</span> <span class="na">name=</span><span class="s">&quot;base_link&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;visual&gt;</span>
      <span class="nt">&lt;geometry&gt;</span>
        <span class="nt">&lt;cylinder</span> <span class="na">length=</span><span class="s">&quot;0.6&quot;</span> <span class="na">radius=</span><span class="s">&quot;0.2&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/geometry&gt;</span>
    <span class="nt">&lt;/visual&gt;</span>
  <span class="nt">&lt;/link&gt;</span>

  <span class="nt">&lt;link</span> <span class="na">name=</span><span class="s">&quot;right_leg&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;visual&gt;</span>
      <span class="nt">&lt;geometry&gt;</span>
        <span class="nt">&lt;box</span> <span class="na">size=</span><span class="s">&quot;0.6 0.1 0.2&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/geometry&gt;</span>
      <span class="nt">&lt;origin</span> <span class="na">rpy=</span><span class="s">&quot;0 1.57075 0&quot;</span> <span class="na">xyz=</span><span class="s">&quot;0 0 -0.3&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/visual&gt;</span>
  <span class="nt">&lt;/link&gt;</span>

  <span class="nt">&lt;joint</span> <span class="na">name=</span><span class="s">&quot;base_to_right_leg&quot;</span> <span class="na">type=</span><span class="s">&quot;fixed&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;parent</span> <span class="na">link=</span><span class="s">&quot;base_link&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;child</span> <span class="na">link=</span><span class="s">&quot;right_leg&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;origin</span> <span class="na">xyz=</span><span class="s">&quot;0 -0.22 0.25&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/joint&gt;</span>

<span class="nt">&lt;/robot&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>让我们从关节的起点开始分析。它是以父节点的参考坐标系为基准来定义的。所以我们在y方向向左偏移0.22米（相对于坐标轴向右），在z方向向上偏移0.25米。这意味着无论子链接的可视起点标签如何，子链接的起点都将位于右上方。由于我们没有指定rpy（滚转俯仰）属性，子坐标系的方向将默认与父坐标系相同。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6211">[6211]</a></p></li>
<li><p>现在，看一下腿的可视起点，它具有xyz和rpy偏移量。这定义了可视元素的中心相对于其起点的位置。由于我们希望腿连接在顶部，我们通过将z偏移设置为-0.3米来偏移起点向下。由于我们希望腿的长部分与z轴平行，我们将可视部分绕Y轴旋转PI/2。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6212">[6212]</a></p></li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ros2 launch urdf_tutorial display.launch.py model:=urdf/03-origins.urdf</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="https://raw.githubusercontent.com/ros/urdf_tutorial/ros2/images/origins.png"><img alt="Origins Screenshot `[6213] &lt;http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6213&gt;`_ " src="https://raw.githubusercontent.com/ros/urdf_tutorial/ros2/images/origins.png" style="width: 800px;" /></a>
<ul class="simple">
<li><p>启动文件会运行一些包，这些包将根据URDF为模型的每个链接创建TF帧。Rviz使用这些信息来确定每个形状的显示位置。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6214">[6214]</a></p></li>
<li><p>如果给定的URDF链接没有TF帧，则会将其放置在白色的原点位置上（参考`相关问题&lt;<a class="reference external" href="http://answers.ros.org/question/207947/how-do-you-use-externally-defined-materials-in-a-urdfxacro-file/">http://answers.ros.org/question/207947/how-do-you-use-externally-defined-materials-in-a-urdfxacro-file/</a>&gt;`_）。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6215">[6215]</a></p></li>
</ul>
</div>
<div class="section" id="material-girl">
<h2>Material Girl <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6216">[6216]</a><a class="headerlink" href="#material-girl" title="永久链接至标题"></a></h2>
<p>“好吧，”你们会说，“这很可爱，但并不是每个人都拥有一台B21。我的机器人和R2D2不是红色的！” 这是个好观点。让我们看一下材质标签。<a class="reference external" href="https://github.com/ros/urdf_tutorial/blob/ros2/urdf/04-materials.urdf">[来源：04-materials.urdf]</a> <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6217">[6217]</a></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<span class="nt">&lt;robot</span> <span class="na">name=</span><span class="s">&quot;materials&quot;</span><span class="nt">&gt;</span>

  <span class="nt">&lt;material</span> <span class="na">name=</span><span class="s">&quot;blue&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;color</span> <span class="na">rgba=</span><span class="s">&quot;0 0 0.8 1&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/material&gt;</span>

  <span class="nt">&lt;material</span> <span class="na">name=</span><span class="s">&quot;white&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;color</span> <span class="na">rgba=</span><span class="s">&quot;1 1 1 1&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/material&gt;</span>

  <span class="nt">&lt;link</span> <span class="na">name=</span><span class="s">&quot;base_link&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;visual&gt;</span>
      <span class="nt">&lt;geometry&gt;</span>
        <span class="nt">&lt;cylinder</span> <span class="na">length=</span><span class="s">&quot;0.6&quot;</span> <span class="na">radius=</span><span class="s">&quot;0.2&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/geometry&gt;</span>
      <span class="nt">&lt;material</span> <span class="na">name=</span><span class="s">&quot;blue&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/visual&gt;</span>
  <span class="nt">&lt;/link&gt;</span>

  <span class="nt">&lt;link</span> <span class="na">name=</span><span class="s">&quot;right_leg&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;visual&gt;</span>
      <span class="nt">&lt;geometry&gt;</span>
        <span class="nt">&lt;box</span> <span class="na">size=</span><span class="s">&quot;0.6 0.1 0.2&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/geometry&gt;</span>
      <span class="nt">&lt;origin</span> <span class="na">rpy=</span><span class="s">&quot;0 1.57075 0&quot;</span> <span class="na">xyz=</span><span class="s">&quot;0 0 -0.3&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;material</span> <span class="na">name=</span><span class="s">&quot;white&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/visual&gt;</span>
  <span class="nt">&lt;/link&gt;</span>

  <span class="nt">&lt;joint</span> <span class="na">name=</span><span class="s">&quot;base_to_right_leg&quot;</span> <span class="na">type=</span><span class="s">&quot;fixed&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;parent</span> <span class="na">link=</span><span class="s">&quot;base_link&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;child</span> <span class="na">link=</span><span class="s">&quot;right_leg&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;origin</span> <span class="na">xyz=</span><span class="s">&quot;0 -0.22 0.25&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/joint&gt;</span>

  <span class="nt">&lt;link</span> <span class="na">name=</span><span class="s">&quot;left_leg&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;visual&gt;</span>
      <span class="nt">&lt;geometry&gt;</span>
        <span class="nt">&lt;box</span> <span class="na">size=</span><span class="s">&quot;0.6 0.1 0.2&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/geometry&gt;</span>
      <span class="nt">&lt;origin</span> <span class="na">rpy=</span><span class="s">&quot;0 1.57075 0&quot;</span> <span class="na">xyz=</span><span class="s">&quot;0 0 -0.3&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;material</span> <span class="na">name=</span><span class="s">&quot;white&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/visual&gt;</span>
  <span class="nt">&lt;/link&gt;</span>

  <span class="nt">&lt;joint</span> <span class="na">name=</span><span class="s">&quot;base_to_left_leg&quot;</span> <span class="na">type=</span><span class="s">&quot;fixed&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;parent</span> <span class="na">link=</span><span class="s">&quot;base_link&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;child</span> <span class="na">link=</span><span class="s">&quot;left_leg&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;origin</span> <span class="na">xyz=</span><span class="s">&quot;0 0.22 0.25&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/joint&gt;</span>

<span class="nt">&lt;/robot&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>主体现在是蓝色的。我们定义了一个名为“蓝色”的新材质，红色、绿色、蓝色和透明度通道分别定义为0、0、0.8和1。所有的值都可以在范围[0,1]内。然后，这个材质被base_link的可视元素引用。白色的材质定义方式类似。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6218">[6218]</a></p></li>
<li><p>你还可以在可视元素内定义材质标签，甚至在其他链接中引用它。如果重新定义它，也没有人会抱怨。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6219">[6219]</a></p></li>
<li><p>你还可以使用纹理来指定用于给对象着色的图像文件。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6220">[6220]</a></p></li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ros2 launch urdf_tutorial display.launch.py model:=urdf/04-materials.urdf</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="https://raw.githubusercontent.com/ros/urdf_tutorial/ros2/images/materials.png"><img alt="材料截图 `[6221] &lt;http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6221&gt;`_ " src="https://raw.githubusercontent.com/ros/urdf_tutorial/ros2/images/materials.png" style="width: 800px;" /></a>
</div>
<div class="section" id="finishing-the-model">
<h2>完成模型 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6222">[6222]</a><a class="headerlink" href="#finishing-the-model" title="永久链接至标题"></a></h2>
<p>现在，我们用一些其他形状来完成模型：脚、轮子和头部。值得注意的是，我们添加了一个球体和一些网格。我们还会添加一些稍后会用到的其他零件。[来源：05-visual.urdf](<a class="reference external" href="https://github.com/ros/urdf_tutorial/blob/ros2/urdf/05-visual.urdf">https://github.com/ros/urdf_tutorial/blob/ros2/urdf/05-visual.urdf</a>) <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6223">[6223]</a></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<span class="nt">&lt;robot</span> <span class="na">name=</span><span class="s">&quot;visual&quot;</span><span class="nt">&gt;</span>

  <span class="nt">&lt;material</span> <span class="na">name=</span><span class="s">&quot;blue&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;color</span> <span class="na">rgba=</span><span class="s">&quot;0 0 0.8 1&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/material&gt;</span>
  <span class="nt">&lt;material</span> <span class="na">name=</span><span class="s">&quot;black&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;color</span> <span class="na">rgba=</span><span class="s">&quot;0 0 0 1&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/material&gt;</span>
  <span class="nt">&lt;material</span> <span class="na">name=</span><span class="s">&quot;white&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;color</span> <span class="na">rgba=</span><span class="s">&quot;1 1 1 1&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/material&gt;</span>

  <span class="nt">&lt;link</span> <span class="na">name=</span><span class="s">&quot;base_link&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;visual&gt;</span>
      <span class="nt">&lt;geometry&gt;</span>
        <span class="nt">&lt;cylinder</span> <span class="na">length=</span><span class="s">&quot;0.6&quot;</span> <span class="na">radius=</span><span class="s">&quot;0.2&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/geometry&gt;</span>
      <span class="nt">&lt;material</span> <span class="na">name=</span><span class="s">&quot;blue&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/visual&gt;</span>
  <span class="nt">&lt;/link&gt;</span>

  <span class="nt">&lt;link</span> <span class="na">name=</span><span class="s">&quot;right_leg&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;visual&gt;</span>
      <span class="nt">&lt;geometry&gt;</span>
        <span class="nt">&lt;box</span> <span class="na">size=</span><span class="s">&quot;0.6 0.1 0.2&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/geometry&gt;</span>
      <span class="nt">&lt;origin</span> <span class="na">rpy=</span><span class="s">&quot;0 1.57075 0&quot;</span> <span class="na">xyz=</span><span class="s">&quot;0 0 -0.3&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;material</span> <span class="na">name=</span><span class="s">&quot;white&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/visual&gt;</span>
  <span class="nt">&lt;/link&gt;</span>

  <span class="nt">&lt;joint</span> <span class="na">name=</span><span class="s">&quot;base_to_right_leg&quot;</span> <span class="na">type=</span><span class="s">&quot;fixed&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;parent</span> <span class="na">link=</span><span class="s">&quot;base_link&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;child</span> <span class="na">link=</span><span class="s">&quot;right_leg&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;origin</span> <span class="na">xyz=</span><span class="s">&quot;0 -0.22 0.25&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/joint&gt;</span>

  <span class="nt">&lt;link</span> <span class="na">name=</span><span class="s">&quot;right_base&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;visual&gt;</span>
      <span class="nt">&lt;geometry&gt;</span>
        <span class="nt">&lt;box</span> <span class="na">size=</span><span class="s">&quot;0.4 0.1 0.1&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/geometry&gt;</span>
      <span class="nt">&lt;material</span> <span class="na">name=</span><span class="s">&quot;white&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/visual&gt;</span>
  <span class="nt">&lt;/link&gt;</span>

  <span class="nt">&lt;joint</span> <span class="na">name=</span><span class="s">&quot;right_base_joint&quot;</span> <span class="na">type=</span><span class="s">&quot;fixed&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;parent</span> <span class="na">link=</span><span class="s">&quot;right_leg&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;child</span> <span class="na">link=</span><span class="s">&quot;right_base&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;origin</span> <span class="na">xyz=</span><span class="s">&quot;0 0 -0.6&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/joint&gt;</span>

  <span class="nt">&lt;link</span> <span class="na">name=</span><span class="s">&quot;right_front_wheel&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;visual&gt;</span>
      <span class="nt">&lt;origin</span> <span class="na">rpy=</span><span class="s">&quot;1.57075 0 0&quot;</span> <span class="na">xyz=</span><span class="s">&quot;0 0 0&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;geometry&gt;</span>
        <span class="nt">&lt;cylinder</span> <span class="na">length=</span><span class="s">&quot;0.1&quot;</span> <span class="na">radius=</span><span class="s">&quot;0.035&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/geometry&gt;</span>
      <span class="nt">&lt;material</span> <span class="na">name=</span><span class="s">&quot;black&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/visual&gt;</span>
  <span class="nt">&lt;/link&gt;</span>
  <span class="nt">&lt;joint</span> <span class="na">name=</span><span class="s">&quot;right_front_wheel_joint&quot;</span> <span class="na">type=</span><span class="s">&quot;fixed&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;parent</span> <span class="na">link=</span><span class="s">&quot;right_base&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;child</span> <span class="na">link=</span><span class="s">&quot;right_front_wheel&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;origin</span> <span class="na">rpy=</span><span class="s">&quot;0 0 0&quot;</span> <span class="na">xyz=</span><span class="s">&quot;0.133333333333 0 -0.085&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/joint&gt;</span>

  <span class="nt">&lt;link</span> <span class="na">name=</span><span class="s">&quot;right_back_wheel&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;visual&gt;</span>
      <span class="nt">&lt;origin</span> <span class="na">rpy=</span><span class="s">&quot;1.57075 0 0&quot;</span> <span class="na">xyz=</span><span class="s">&quot;0 0 0&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;geometry&gt;</span>
        <span class="nt">&lt;cylinder</span> <span class="na">length=</span><span class="s">&quot;0.1&quot;</span> <span class="na">radius=</span><span class="s">&quot;0.035&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/geometry&gt;</span>
      <span class="nt">&lt;material</span> <span class="na">name=</span><span class="s">&quot;black&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/visual&gt;</span>
  <span class="nt">&lt;/link&gt;</span>
  <span class="nt">&lt;joint</span> <span class="na">name=</span><span class="s">&quot;right_back_wheel_joint&quot;</span> <span class="na">type=</span><span class="s">&quot;fixed&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;parent</span> <span class="na">link=</span><span class="s">&quot;right_base&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;child</span> <span class="na">link=</span><span class="s">&quot;right_back_wheel&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;origin</span> <span class="na">rpy=</span><span class="s">&quot;0 0 0&quot;</span> <span class="na">xyz=</span><span class="s">&quot;-0.133333333333 0 -0.085&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/joint&gt;</span>

  <span class="nt">&lt;link</span> <span class="na">name=</span><span class="s">&quot;left_leg&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;visual&gt;</span>
      <span class="nt">&lt;geometry&gt;</span>
        <span class="nt">&lt;box</span> <span class="na">size=</span><span class="s">&quot;0.6 0.1 0.2&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/geometry&gt;</span>
      <span class="nt">&lt;origin</span> <span class="na">rpy=</span><span class="s">&quot;0 1.57075 0&quot;</span> <span class="na">xyz=</span><span class="s">&quot;0 0 -0.3&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;material</span> <span class="na">name=</span><span class="s">&quot;white&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/visual&gt;</span>
  <span class="nt">&lt;/link&gt;</span>

  <span class="nt">&lt;joint</span> <span class="na">name=</span><span class="s">&quot;base_to_left_leg&quot;</span> <span class="na">type=</span><span class="s">&quot;fixed&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;parent</span> <span class="na">link=</span><span class="s">&quot;base_link&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;child</span> <span class="na">link=</span><span class="s">&quot;left_leg&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;origin</span> <span class="na">xyz=</span><span class="s">&quot;0 0.22 0.25&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/joint&gt;</span>

  <span class="nt">&lt;link</span> <span class="na">name=</span><span class="s">&quot;left_base&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;visual&gt;</span>
      <span class="nt">&lt;geometry&gt;</span>
        <span class="nt">&lt;box</span> <span class="na">size=</span><span class="s">&quot;0.4 0.1 0.1&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/geometry&gt;</span>
      <span class="nt">&lt;material</span> <span class="na">name=</span><span class="s">&quot;white&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/visual&gt;</span>
  <span class="nt">&lt;/link&gt;</span>

  <span class="nt">&lt;joint</span> <span class="na">name=</span><span class="s">&quot;left_base_joint&quot;</span> <span class="na">type=</span><span class="s">&quot;fixed&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;parent</span> <span class="na">link=</span><span class="s">&quot;left_leg&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;child</span> <span class="na">link=</span><span class="s">&quot;left_base&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;origin</span> <span class="na">xyz=</span><span class="s">&quot;0 0 -0.6&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/joint&gt;</span>

  <span class="nt">&lt;link</span> <span class="na">name=</span><span class="s">&quot;left_front_wheel&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;visual&gt;</span>
      <span class="nt">&lt;origin</span> <span class="na">rpy=</span><span class="s">&quot;1.57075 0 0&quot;</span> <span class="na">xyz=</span><span class="s">&quot;0 0 0&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;geometry&gt;</span>
        <span class="nt">&lt;cylinder</span> <span class="na">length=</span><span class="s">&quot;0.1&quot;</span> <span class="na">radius=</span><span class="s">&quot;0.035&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/geometry&gt;</span>
      <span class="nt">&lt;material</span> <span class="na">name=</span><span class="s">&quot;black&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/visual&gt;</span>
  <span class="nt">&lt;/link&gt;</span>
  <span class="nt">&lt;joint</span> <span class="na">name=</span><span class="s">&quot;left_front_wheel_joint&quot;</span> <span class="na">type=</span><span class="s">&quot;fixed&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;parent</span> <span class="na">link=</span><span class="s">&quot;left_base&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;child</span> <span class="na">link=</span><span class="s">&quot;left_front_wheel&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;origin</span> <span class="na">rpy=</span><span class="s">&quot;0 0 0&quot;</span> <span class="na">xyz=</span><span class="s">&quot;0.133333333333 0 -0.085&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/joint&gt;</span>

  <span class="nt">&lt;link</span> <span class="na">name=</span><span class="s">&quot;left_back_wheel&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;visual&gt;</span>
      <span class="nt">&lt;origin</span> <span class="na">rpy=</span><span class="s">&quot;1.57075 0 0&quot;</span> <span class="na">xyz=</span><span class="s">&quot;0 0 0&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;geometry&gt;</span>
        <span class="nt">&lt;cylinder</span> <span class="na">length=</span><span class="s">&quot;0.1&quot;</span> <span class="na">radius=</span><span class="s">&quot;0.035&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/geometry&gt;</span>
      <span class="nt">&lt;material</span> <span class="na">name=</span><span class="s">&quot;black&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/visual&gt;</span>
  <span class="nt">&lt;/link&gt;</span>
  <span class="nt">&lt;joint</span> <span class="na">name=</span><span class="s">&quot;left_back_wheel_joint&quot;</span> <span class="na">type=</span><span class="s">&quot;fixed&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;parent</span> <span class="na">link=</span><span class="s">&quot;left_base&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;child</span> <span class="na">link=</span><span class="s">&quot;left_back_wheel&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;origin</span> <span class="na">rpy=</span><span class="s">&quot;0 0 0&quot;</span> <span class="na">xyz=</span><span class="s">&quot;-0.133333333333 0 -0.085&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/joint&gt;</span>

  <span class="nt">&lt;joint</span> <span class="na">name=</span><span class="s">&quot;gripper_extension&quot;</span> <span class="na">type=</span><span class="s">&quot;fixed&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;parent</span> <span class="na">link=</span><span class="s">&quot;base_link&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;child</span> <span class="na">link=</span><span class="s">&quot;gripper_pole&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;origin</span> <span class="na">rpy=</span><span class="s">&quot;0 0 0&quot;</span> <span class="na">xyz=</span><span class="s">&quot;0.19 0 0.2&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/joint&gt;</span>

  <span class="nt">&lt;link</span> <span class="na">name=</span><span class="s">&quot;gripper_pole&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;visual&gt;</span>
      <span class="nt">&lt;geometry&gt;</span>
        <span class="nt">&lt;cylinder</span> <span class="na">length=</span><span class="s">&quot;0.2&quot;</span> <span class="na">radius=</span><span class="s">&quot;0.01&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/geometry&gt;</span>
      <span class="nt">&lt;origin</span> <span class="na">rpy=</span><span class="s">&quot;0 1.57075 0 &quot;</span> <span class="na">xyz=</span><span class="s">&quot;0.1 0 0&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/visual&gt;</span>
  <span class="nt">&lt;/link&gt;</span>

  <span class="nt">&lt;joint</span> <span class="na">name=</span><span class="s">&quot;left_gripper_joint&quot;</span> <span class="na">type=</span><span class="s">&quot;fixed&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;origin</span> <span class="na">rpy=</span><span class="s">&quot;0 0 0&quot;</span> <span class="na">xyz=</span><span class="s">&quot;0.2 0.01 0&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;parent</span> <span class="na">link=</span><span class="s">&quot;gripper_pole&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;child</span> <span class="na">link=</span><span class="s">&quot;left_gripper&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/joint&gt;</span>

  <span class="nt">&lt;link</span> <span class="na">name=</span><span class="s">&quot;left_gripper&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;visual&gt;</span>
      <span class="nt">&lt;origin</span> <span class="na">rpy=</span><span class="s">&quot;0.0 0 0&quot;</span> <span class="na">xyz=</span><span class="s">&quot;0 0 0&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;geometry&gt;</span>
        <span class="nt">&lt;mesh</span> <span class="na">filename=</span><span class="s">&quot;package://urdf_tutorial/meshes/l_finger.dae&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/geometry&gt;</span>
    <span class="nt">&lt;/visual&gt;</span>
  <span class="nt">&lt;/link&gt;</span>

  <span class="nt">&lt;joint</span> <span class="na">name=</span><span class="s">&quot;left_tip_joint&quot;</span> <span class="na">type=</span><span class="s">&quot;fixed&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;parent</span> <span class="na">link=</span><span class="s">&quot;left_gripper&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;child</span> <span class="na">link=</span><span class="s">&quot;left_tip&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/joint&gt;</span>

  <span class="nt">&lt;link</span> <span class="na">name=</span><span class="s">&quot;left_tip&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;visual&gt;</span>
      <span class="nt">&lt;origin</span> <span class="na">rpy=</span><span class="s">&quot;0.0 0 0&quot;</span> <span class="na">xyz=</span><span class="s">&quot;0.09137 0.00495 0&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;geometry&gt;</span>
        <span class="nt">&lt;mesh</span> <span class="na">filename=</span><span class="s">&quot;package://urdf_tutorial/meshes/l_finger_tip.dae&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/geometry&gt;</span>
    <span class="nt">&lt;/visual&gt;</span>
  <span class="nt">&lt;/link&gt;</span>
  <span class="nt">&lt;joint</span> <span class="na">name=</span><span class="s">&quot;right_gripper_joint&quot;</span> <span class="na">type=</span><span class="s">&quot;fixed&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;origin</span> <span class="na">rpy=</span><span class="s">&quot;0 0 0&quot;</span> <span class="na">xyz=</span><span class="s">&quot;0.2 -0.01 0&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;parent</span> <span class="na">link=</span><span class="s">&quot;gripper_pole&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;child</span> <span class="na">link=</span><span class="s">&quot;right_gripper&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/joint&gt;</span>

  <span class="nt">&lt;link</span> <span class="na">name=</span><span class="s">&quot;right_gripper&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;visual&gt;</span>
      <span class="nt">&lt;origin</span> <span class="na">rpy=</span><span class="s">&quot;-3.1415 0 0&quot;</span> <span class="na">xyz=</span><span class="s">&quot;0 0 0&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;geometry&gt;</span>
        <span class="nt">&lt;mesh</span> <span class="na">filename=</span><span class="s">&quot;package://urdf_tutorial/meshes/l_finger.dae&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/geometry&gt;</span>
    <span class="nt">&lt;/visual&gt;</span>
  <span class="nt">&lt;/link&gt;</span>

  <span class="nt">&lt;joint</span> <span class="na">name=</span><span class="s">&quot;right_tip_joint&quot;</span> <span class="na">type=</span><span class="s">&quot;fixed&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;parent</span> <span class="na">link=</span><span class="s">&quot;right_gripper&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;child</span> <span class="na">link=</span><span class="s">&quot;right_tip&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/joint&gt;</span>

  <span class="nt">&lt;link</span> <span class="na">name=</span><span class="s">&quot;right_tip&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;visual&gt;</span>
      <span class="nt">&lt;origin</span> <span class="na">rpy=</span><span class="s">&quot;-3.1415 0 0&quot;</span> <span class="na">xyz=</span><span class="s">&quot;0.09137 0.00495 0&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;geometry&gt;</span>
        <span class="nt">&lt;mesh</span> <span class="na">filename=</span><span class="s">&quot;package://urdf_tutorial/meshes/l_finger_tip.dae&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/geometry&gt;</span>
    <span class="nt">&lt;/visual&gt;</span>
  <span class="nt">&lt;/link&gt;</span>

  <span class="nt">&lt;link</span> <span class="na">name=</span><span class="s">&quot;head&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;visual&gt;</span>
      <span class="nt">&lt;geometry&gt;</span>
        <span class="nt">&lt;sphere</span> <span class="na">radius=</span><span class="s">&quot;0.2&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/geometry&gt;</span>
      <span class="nt">&lt;material</span> <span class="na">name=</span><span class="s">&quot;white&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/visual&gt;</span>
  <span class="nt">&lt;/link&gt;</span>
  <span class="nt">&lt;joint</span> <span class="na">name=</span><span class="s">&quot;head_swivel&quot;</span> <span class="na">type=</span><span class="s">&quot;fixed&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;parent</span> <span class="na">link=</span><span class="s">&quot;base_link&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;child</span> <span class="na">link=</span><span class="s">&quot;head&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;origin</span> <span class="na">xyz=</span><span class="s">&quot;0 0 0.3&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/joint&gt;</span>

  <span class="nt">&lt;link</span> <span class="na">name=</span><span class="s">&quot;box&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;visual&gt;</span>
      <span class="nt">&lt;geometry&gt;</span>
        <span class="nt">&lt;box</span> <span class="na">size=</span><span class="s">&quot;0.08 0.08 0.08&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/geometry&gt;</span>
      <span class="nt">&lt;material</span> <span class="na">name=</span><span class="s">&quot;blue&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/visual&gt;</span>
  <span class="nt">&lt;/link&gt;</span>

  <span class="nt">&lt;joint</span> <span class="na">name=</span><span class="s">&quot;tobox&quot;</span> <span class="na">type=</span><span class="s">&quot;fixed&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;parent</span> <span class="na">link=</span><span class="s">&quot;head&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;child</span> <span class="na">link=</span><span class="s">&quot;box&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;origin</span> <span class="na">xyz=</span><span class="s">&quot;0.1814 0 0.1414&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/joint&gt;</span>
<span class="nt">&lt;/robot&gt;</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ros2 launch urdf_tutorial display.launch.py model:=urdf/05-visual.urdf</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="https://raw.githubusercontent.com/ros/urdf_tutorial/ros2/images/visual.png"><img alt="可视化截图 `[6224] &lt;http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6224&gt;`_ " src="https://raw.githubusercontent.com/ros/urdf_tutorial/ros2/images/visual.png" style="width: 800px;" /></a>
<p>如何添加球体应该是相当容易理解的： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6225">[6225]</a></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;link</span> <span class="na">name=</span><span class="s">&quot;head&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;visual&gt;</span>
    <span class="nt">&lt;geometry&gt;</span>
      <span class="nt">&lt;sphere</span> <span class="na">radius=</span><span class="s">&quot;0.2&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/geometry&gt;</span>
    <span class="nt">&lt;material</span> <span class="na">name=</span><span class="s">&quot;white&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/visual&gt;</span>
<span class="nt">&lt;/link&gt;</span>
</pre></div>
</div>
<p>这里的网格是从PR2借来的。它们是单独的文件，您需要指定路径。您应该使用``package://NAME_OF_PACKAGE/path``的表示方法。本教程中的网格位于``urdf_tutorial``包中的一个名为meshes的文件夹中。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6226">[6226]</a></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;link</span> <span class="na">name=</span><span class="s">&quot;left_gripper&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;visual&gt;</span>
    <span class="nt">&lt;origin</span> <span class="na">rpy=</span><span class="s">&quot;0.0 0 0&quot;</span> <span class="na">xyz=</span><span class="s">&quot;0 0 0&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;geometry&gt;</span>
      <span class="nt">&lt;mesh</span> <span class="na">filename=</span><span class="s">&quot;package://urdf_tutorial/meshes/l_finger.dae&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/geometry&gt;</span>
  <span class="nt">&lt;/visual&gt;</span>
<span class="nt">&lt;/link&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>这些网格可以以多种不同的格式导入。STL是相当常见的，但引擎还支持DAE，它可以具有自己的颜色数据，这意味着您不必指定颜色/材质。通常这些是在单独的文件中。这些网格还引用了meshes文件夹中的``.tif``文件。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6227">[6227]</a></p></li>
<li><p>网格还可以使用相对缩放参数或边界框大小进行调整。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6228">[6228]</a></p></li>
<li><p>我们还可以引用完全不同包中的网格。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6229">[6229]</a></p></li>
</ul>
<p>就是这样。一个类似R2D2的URDF模型。现在您可以继续下一步，<a class="reference internal" href="Building-a-Movable-Robot-Model-with-URDF.html"><span class="doc">使其移动</span></a>。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=6230">[6230]</a></p>
</div>
</div>

  <div id="footer">
    <p>欢迎帮助改进！</p>
  </div>
</body>
</html>