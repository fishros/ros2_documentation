<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Tutorials/Advanced/Security/Introducing-ros2-security</title>
</head>
<body>
  <div class="section" id="setting-up-security">
<span id="ros-2-security-tutorials"></span><span id="sros2"></span><h1>设置安全性 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3505">[3505]</a><a class="headerlink" href="#setting-up-security" title="永久链接至标题"></a></h1>
<p><strong>目标：</strong> 使用``sros2``设置安全性。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3506">[3506]</a></p>
<p><a href="#id1"><span class="problematic" id="id2">**</span></a>教程级别：<a href="#id3"><span class="problematic" id="id4">**</span></a>高级 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3068">[3068]</a></p>
<p><strong>时间：</strong> 15分钟 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3507">[3507]</a></p>
<div class="contents local topic" id="contents">
<p class="topic-title">内容 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3277">[3277]</a></p>
<ul class="simple">
<li><p><a class="reference internal" href="#background" id="id1">背景 [3072]</a></p></li>
<li><p><a class="reference internal" href="#installation" id="id2">安装 []</a></p>
<ul>
<li><p><a class="reference internal" href="#installing-from-source" id="id3">从源代码安装 [3511]</a></p></li>
<li><p><a class="reference internal" href="#selecting-an-alternate-middleware" id="id4">选择替代的中间件 [3517]</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#run-the-demo" id="id5">运行演示 [3474]</a></p>
<ul>
<li><p><a class="reference internal" href="#create-a-folder-for-the-security-files" id="id6">1. 为安全文件创建一个文件夹。 [3521]</a></p></li>
<li><p><a class="reference internal" href="#generate-a-keystore" id="id7">2. 生成密钥库 [3523]</a></p></li>
<li><p><a class="reference internal" href="#generate-keys-and-certificates" id="id8">3. 生成密钥和证书 [3525]</a></p></li>
<li><p><a class="reference internal" href="#configure-environment-variables" id="id9">4. 配置环境变量 [3529]</a></p></li>
<li><p><a class="reference internal" href="#run-the-talker-listener-demo" id="id10">5. 运行 <code class="docutils literal notranslate"><span class="pre">talker/listener</span></code> 演示 [3532]</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#take-the-quiz" id="id11">开始测验！ [3539]</a></p></li>
<li><p><a class="reference internal" href="#learn-more" id="id12">了解更多！ [3552]</a></p></li>
</ul>
</div>
<div class="section" id="background">
<h2>背景 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3072">[3072]</a><a class="headerlink" href="#background" title="永久链接至标题"></a></h2>
<p><a href="#id1"><span class="problematic" id="id2">``</span></a>sros2``软件包提供了使用DDS-Security在ROS2上运行的工具和说明。安全功能已在不同平台（Linux、macOS和Windows）以及不同语言（C++和Python）上进行了测试。SROS2已经设计成可以与任何安全中间件配合使用，尽管并非所有中间件都是开源的，并且支持程度取决于所使用的ROS发行版。如果遇到任何支持问题，请联系:ref:<a class="reference internal" href="../../../The-ROS2-Project/Governance.html#security-working-group"><span class="std std-ref">ROS 2安全工作组</span></a>。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3508">[3508]</a></p>
</div>
<div class="section" id="installation">
<h2>安装 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3509">[]</a><a class="headerlink" href="#installation" title="永久链接至标题"></a></h2>
<p>通常情况下，安装后可以使用:doc:<a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3510">ROS 2安装指南 &lt;../../../Installation&gt;`和:doc:`配置指南 &lt;../../Beginner-CLI-Tools/Configuring-ROS2-Environment&gt;`来获得安全功能。然而，如果您打算从源代码进行安装或切换中间件实现，请考虑以下注意事项： `[3510]</a></p>
<div class="section" id="installing-from-source">
<h3>从源代码安装 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3511">[3511]</a><a class="headerlink" href="#installing-from-source" title="永久链接至标题"></a></h3>
<p>在从源代码安装之前，您需要安装最新版本的openssl（1.0.2g或更高版本）： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3512">[3512]</a></p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-TGludXg=" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-TGludXg=" name="TGludXg=" role="tab" tabindex="0">Linux</button><button aria-controls="panel-0-TWFjT1M=" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-TWFjT1M=" name="TWFjT1M=" role="tab" tabindex="-1">MacOS</button><button aria-controls="panel-0-V2luZG93cw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-V2luZG93cw==" name="V2luZG93cw==" role="tab" tabindex="-1">Windows</button></div><div aria-labelledby="tab-0-TGludXg=" class="sphinx-tabs-panel group-tab" id="panel-0-TGludXg=" name="TGludXg=" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt update
sudo apt install libssl-dev
</pre></div>
</div>
</div><div aria-labelledby="tab-0-TWFjT1M=" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-TWFjT1M=" name="TWFjT1M=" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>brew install openssl
</pre></div>
</div>
<p>您需要将OpenSSL添加到库路径中才能运行DDS-Security演示。运行以下命令，并考虑将其添加到您的``~/.bash_profile``文件中： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3514">[3514]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">DYLD_LIBRARY_PATH</span><span class="o">=</span><span class="sb">`</span>brew --prefix openssl<span class="sb">`</span>/lib:<span class="nv">$DYLD_LIBRARY_PATH</span>
<span class="nb">export</span> <span class="nv">OPENSSL_ROOT_DIR</span><span class="o">=</span><span class="sb">`</span>brew --prefix openssl<span class="sb">`</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-0-V2luZG93cw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-V2luZG93cw==" name="V2luZG93cw==" role="tabpanel" tabindex="0"><p>如果您没有安装OpenSSL，请按照 <a class="reference internal" href="../../../Installation/Windows-Install-Binary.html#windows-install-binary-installing-prerequisites"><span class="std std-ref">这些说明</span></a> 进行安装 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3515">[3515]</a></p>
</div></div>
<p>Fast DDS需要一个额外的CMake标志来构建安全插件，因此需要修改colcon调用以传递以下内容: <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3516">[3516]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>colcon build --symlink-install --cmake-args -DSECURITY<span class="o">=</span>ON
</pre></div>
</div>
</div>
<div class="section" id="selecting-an-alternate-middleware">
<h3>选择替代的中间件 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3517">[3517]</a><a class="headerlink" href="#selecting-an-alternate-middleware" title="永久链接至标题"></a></h3>
<p>如果您选择不使用默认的中间件实现，请务必在继续之前 <a class="reference internal" href="../../../Installation/DDS-Implementations.html"><span class="doc">更改您的DDS实现</span></a>。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3518">[3518]</a></p>
<p>ROS2 允许您在运行时更改 DDS 实现。请参阅 <a class="reference internal" href="../../../How-To-Guides/Working-with-multiple-RMW-implementations.html"><span class="doc">如何使用多个 RMW 实现</span></a> 来探索不同的中间件实现方式。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3519">[3519]</a></p>
<p>请注意，不支持供应商之间的安全通信。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3520">[3520]</a></p>
</div>
</div>
<div class="section" id="run-the-demo">
<h2>运行演示 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3474">[3474]</a><a class="headerlink" href="#run-the-demo" title="永久链接至标题"></a></h2>
<div class="section" id="create-a-folder-for-the-security-files">
<h3>1. 为安全文件创建一个文件夹。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3521">[3521]</a><a class="headerlink" href="#create-a-folder-for-the-security-files" title="永久链接至标题"></a></h3>
<blockquote>
<div><p>首先创建一个文件夹，用于存储此演示所需的所有文件： <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3522">[3522]</a></p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-1-TGludXg=" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-1-TGludXg=" name="TGludXg=" role="tab" tabindex="0">Linux</button><button aria-controls="panel-1-TWFjT1M=" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-TWFjT1M=" name="TWFjT1M=" role="tab" tabindex="-1">MacOS</button><button aria-controls="panel-1-V2luZG93cw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-V2luZG93cw==" name="V2luZG93cw==" role="tab" tabindex="-1">Windows</button></div><div aria-labelledby="tab-1-TGludXg=" class="sphinx-tabs-panel group-tab" id="panel-1-TGludXg=" name="TGludXg=" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir ~/sros2_demo
</pre></div>
</div>
</div><div aria-labelledby="tab-1-TWFjT1M=" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-TWFjT1M=" name="TWFjT1M=" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir ~/sros2_demo
</pre></div>
</div>
</div><div aria-labelledby="tab-1-V2luZG93cw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-V2luZG93cw==" name="V2luZG93cw==" role="tabpanel" tabindex="0"><div class="highlight-bat notranslate"><div class="highlight"><pre><span></span><span class="k">md</span> C:\dev\ros2\sros2_demo
</pre></div>
</div>
</div></div>
</div></blockquote>
</div>
<div class="section" id="generate-a-keystore">
<h3>2. 生成密钥库 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3523">[3523]</a><a class="headerlink" href="#generate-a-keystore" title="永久链接至标题"></a></h3>
<p>使用``sros2``实用程序创建密钥库。密钥库中的文件将用于为ROS 2图中的所有参与者启用安全性。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3524">[3524]</a></p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-2-TGludXg=" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-2-TGludXg=" name="TGludXg=" role="tab" tabindex="0">Linux</button><button aria-controls="panel-2-TWFjT1M=" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-2-TWFjT1M=" name="TWFjT1M=" role="tab" tabindex="-1">MacOS</button><button aria-controls="panel-2-V2luZG93cw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-2-V2luZG93cw==" name="V2luZG93cw==" role="tab" tabindex="-1">Windows</button></div><div aria-labelledby="tab-2-TGludXg=" class="sphinx-tabs-panel group-tab" id="panel-2-TGludXg=" name="TGludXg=" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> ~/sros2_demo
ros2 security create_keystore demo_keystore
</pre></div>
</div>
</div><div aria-labelledby="tab-2-TWFjT1M=" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-2-TWFjT1M=" name="TWFjT1M=" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> ~/sros2_demo
ros2 security create_keystore demo_keystore
</pre></div>
</div>
</div><div aria-labelledby="tab-2-V2luZG93cw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-2-V2luZG93cw==" name="V2luZG93cw==" role="tabpanel" tabindex="0"><div class="highlight-bat notranslate"><div class="highlight"><pre><span></span><span class="k">cd</span> sros2_demo
ros2 security create_keystore demo_keystore
</pre></div>
</div>
</div></div>
</div>
<div class="section" id="generate-keys-and-certificates">
<h3>3. 生成密钥和证书 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3525">[3525]</a><a class="headerlink" href="#generate-keys-and-certificates" title="永久链接至标题"></a></h3>
<p>创建启用安全性的每个节点的密钥和证书，一旦密钥库创建完成。对于我们的演示，这包括了talker和listener节点。此命令使用了``create_enclave``功能，在下一个教程中会更详细介绍。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3526">[3526]</a></p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-3-TGludXg=" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-3-TGludXg=" name="TGludXg=" role="tab" tabindex="0">Linux</button><button aria-controls="panel-3-TWFjT1M=" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-3-TWFjT1M=" name="TWFjT1M=" role="tab" tabindex="-1">MacOS</button><button aria-controls="panel-3-V2luZG93cw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-3-V2luZG93cw==" name="V2luZG93cw==" role="tab" tabindex="-1">Windows</button></div><div aria-labelledby="tab-3-TGludXg=" class="sphinx-tabs-panel group-tab" id="panel-3-TGludXg=" name="TGludXg=" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ros2 security create_enclave demo_keystore /talker_listener/talker
ros2 security create_enclave demo_keystore /talker_listener/listener
</pre></div>
</div>
</div><div aria-labelledby="tab-3-TWFjT1M=" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-3-TWFjT1M=" name="TWFjT1M=" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ros2 security create_enclave demo_keystore /talker_listener/talker
ros2 security create_enclave demo_keystore /talker_listener/listener
</pre></div>
</div>
</div><div aria-labelledby="tab-3-V2luZG93cw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-3-V2luZG93cw==" name="V2luZG93cw==" role="tabpanel" tabindex="0"><div class="highlight-bat notranslate"><div class="highlight"><pre><span></span>ros2 security create_enclave demo_keystore /talker_listener/talker
ros2 security create_enclave demo_keystore /talker_listener/listener
</pre></div>
</div>
<p>如果出现 <code class="docutils literal notranslate"><span class="pre">无法写入</span> <span class="pre">'random</span> <span class="pre">state'</span></code> 的错误，请设置环境变量 <code class="docutils literal notranslate"><span class="pre">RANDFILE</span></code>。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3527">[3527]</a></p>
<div class="highlight-bat notranslate"><div class="highlight"><pre><span></span><span class="k">set</span> <span class="nv">RANDFILE</span><span class="p">=</span>C:\dev\ros2\sros2_demo\.rnd
</pre></div>
</div>
<p>然后重新运行上述命令。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3528">[3528]</a></p>
</div></div>
</div>
<div class="section" id="configure-environment-variables">
<h3>4. 配置环境变量 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3529">[3529]</a><a class="headerlink" href="#configure-environment-variables" title="永久链接至标题"></a></h3>
<p>三个环境变量允许中间件定位加密材料并启用（可能强制执行）安全性。这些和其他与安全相关的环境变量在 <a class="reference external" href="https://design.ros2.org/articles/ros2_dds_security.html">ROS 2 DDS-Security Integration 设计文档</a> 中有描述。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3530">[3530]</a></p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-4-TGludXg=" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-4-TGludXg=" name="TGludXg=" role="tab" tabindex="0">Linux</button><button aria-controls="panel-4-TWFjT1M=" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-4-TWFjT1M=" name="TWFjT1M=" role="tab" tabindex="-1">MacOS</button><button aria-controls="panel-4-V2luZG93cw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-4-V2luZG93cw==" name="V2luZG93cw==" role="tab" tabindex="-1">Windows</button></div><div aria-labelledby="tab-4-TGludXg=" class="sphinx-tabs-panel group-tab" id="panel-4-TGludXg=" name="TGludXg=" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">ROS_SECURITY_KEYSTORE</span><span class="o">=</span>~/sros2_demo/demo_keystore
<span class="nb">export</span> <span class="nv">ROS_SECURITY_ENABLE</span><span class="o">=</span><span class="nb">true</span>
<span class="nb">export</span> <span class="nv">ROS_SECURITY_STRATEGY</span><span class="o">=</span>Enforce
</pre></div>
</div>
</div><div aria-labelledby="tab-4-TWFjT1M=" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-4-TWFjT1M=" name="TWFjT1M=" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">ROS_SECURITY_KEYSTORE</span><span class="o">=</span>~/sros2_demo/demo_keystore
<span class="nb">export</span> <span class="nv">ROS_SECURITY_ENABLE</span><span class="o">=</span><span class="nb">true</span>
<span class="nb">export</span> <span class="nv">ROS_SECURITY_STRATEGY</span><span class="o">=</span>Enforce
</pre></div>
</div>
</div><div aria-labelledby="tab-4-V2luZG93cw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-4-V2luZG93cw==" name="V2luZG93cw==" role="tabpanel" tabindex="0"><div class="highlight-bat notranslate"><div class="highlight"><pre><span></span><span class="k">set</span> <span class="nv">ROS_SECURITY_KEYSTORE</span><span class="p">=</span><span class="nv">%cd%</span>/demo_keystore
<span class="k">set</span> <span class="nv">ROS_SECURITY_ENABLE</span><span class="p">=</span>true
<span class="k">set</span> <span class="nv">ROS_SECURITY_STRATEGY</span><span class="p">=</span>Enforce
</pre></div>
</div>
</div></div>
<p>在每个用于演示的终端中需要定义这些变量。为了方便起见，您可以将它们添加到您的引导环境中。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3531">[3531]</a></p>
</div>
<div class="section" id="run-the-talker-listener-demo">
<h3>5. 运行 <code class="docutils literal notranslate"><span class="pre">talker/listener</span></code> 演示 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3532">[3532]</a><a class="headerlink" href="#run-the-talker-listener-demo" title="永久链接至标题"></a></h3>
<p>通过启动 talker 节点开始演示。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3533">[3533]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ros2 run demo_nodes_cpp talker --ros-args --enclave /talker_listener/talker
</pre></div>
</div>
<p>在另一个终端中，执行相同的操作来启动 <code class="docutils literal notranslate"><span class="pre">listener</span></code> 节点。该终端中的环境变量必须正确设置，如上述第4步所述。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3534">[3534]</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ros2 run demo_nodes_py listener --ros-args --enclave /talker_listener/listener
</pre></div>
</div>
<p>这些节点将使用身份验证和加密进行通信！如果查看数据包内容（例如使用另一个教程中介绍的``tcpdump``或``Wireshark``），您可以看到消息是加密的。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3535">[3535]</a></p>
<p>注意：您可以随意在C++（demo_nodes_cpp）和Python（demo_nodes_py）包之间切换。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3536">[3536]</a></p>
<p>这些节点能够通信，是因为我们为它们创建了适当的密钥和证书。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3537">[3537]</a></p>
<p>请在回答以下问题时保持这两个节点运行。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3538">[3538]</a></p>
</div>
</div>
<div class="section" id="take-the-quiz">
<h2>开始测验！ <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3539">[3539]</a><a class="headerlink" href="#take-the-quiz" title="永久链接至标题"></a></h2>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-5-UXVlc3Rpb24gMQ==" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-5-UXVlc3Rpb24gMQ==" name="UXVlc3Rpb24gMQ==" role="tab" tabindex="0">Question 1</button><button aria-controls="panel-5-QW5zd2VyIDE=" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-5-QW5zd2VyIDE=" name="QW5zd2VyIDE=" role="tab" tabindex="-1">Answer 1</button></div><div aria-labelledby="tab-5-UXVlc3Rpb24gMQ==" class="sphinx-tabs-panel group-tab" id="panel-5-UXVlc3Rpb24gMQ==" name="UXVlc3Rpb24gMQ==" role="tabpanel" tabindex="0"><p>打开另一个终端会话，但**不要**设置环境变量以禁用安全性。启动监听器。你期望会发生什么？ <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3541">[3541]</a></p>
</div><div aria-labelledby="tab-5-QW5zd2VyIDE=" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-5-QW5zd2VyIDE=" name="QW5zd2VyIDE=" role="tabpanel" tabindex="0"><p>监听器启动，但不接收任何消息。所有流量都是加密的，没有启用安全性，监听器将不会接收到任何内容。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3543">[3543]</a></p>
</div></div>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-6-UXVlc3Rpb24gMg==" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-6-UXVlc3Rpb24gMg==" name="UXVlc3Rpb24gMg==" role="tab" tabindex="0">Question 2</button><button aria-controls="panel-6-QW5zd2VyIDI=" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-6-QW5zd2VyIDI=" name="QW5zd2VyIDI=" role="tab" tabindex="-1">Answer 2</button></div><div aria-labelledby="tab-6-UXVlc3Rpb24gMg==" class="sphinx-tabs-panel group-tab" id="panel-6-UXVlc3Rpb24gMg==" name="UXVlc3Rpb24gMg==" role="tabpanel" tabindex="0"><p>停止监听器，将环境变量 <code class="docutils literal notranslate"><span class="pre">ROS_SECURITY_ENABLE</span></code> 设置为 <code class="docutils literal notranslate"><span class="pre">true</span></code>，然后再次启动监听器。这次你期望会得到什么结果？ <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3545">[3545]</a></p>
</div><div aria-labelledby="tab-6-QW5zd2VyIDI=" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-6-QW5zd2VyIDI=" name="QW5zd2VyIDI=" role="tabpanel" tabindex="0"><p>监听器仍然启动，但无法接收消息。虽然安全性已启用，但由于ROS无法找到密钥文件，安全性未被正确配置。监听器以非安全模式启动，因为安全性未被强制执行，这意味着虽然正确配置的对话者正在发送加密消息，但该监听器无法解密这些消息。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3547">[3547]</a></p>
</div></div>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-7-UXVlc3Rpb24gMw==" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-7-UXVlc3Rpb24gMw==" name="UXVlc3Rpb24gMw==" role="tab" tabindex="0">Question 3</button><button aria-controls="panel-7-QW5zd2VyIDM=" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-7-QW5zd2VyIDM=" name="QW5zd2VyIDM=" role="tab" tabindex="-1">Answer 3</button></div><div aria-labelledby="tab-7-UXVlc3Rpb24gMw==" class="sphinx-tabs-panel group-tab" id="panel-7-UXVlc3Rpb24gMw==" name="UXVlc3Rpb24gMw==" role="tabpanel" tabindex="0"><p>停止监听器并将 <code class="docutils literal notranslate"><span class="pre">ROS_SECURITY_STRATEGY</span></code> 设置为 <code class="docutils literal notranslate"><span class="pre">Enforce</span></code>。现在会发生什么？ <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3549">[3549]</a></p>
</div><div aria-labelledby="tab-7-QW5zd2VyIDM=" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-7-QW5zd2VyIDM=" name="QW5zd2VyIDM=" role="tabpanel" tabindex="0"><p>监听器无法启动。已启用并正在执行安全性措施。由于其配置不正确，因此在非安全模式下无法启动，而是会抛出错误。 <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3551">[3551]</a></p>
</div></div>
</div>
<div class="section" id="learn-more">
<h2>了解更多！ <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3552">[3552]</a><a class="headerlink" href="#learn-more" title="永久链接至标题"></a></h2>
<p>您准备好进一步了解ROS安全性了吗？请查看`安全的Turtlebot2演示 &lt;<a class="reference external" href="https://github.com/ros-swg/turtlebot3_demo">https://github.com/ros-swg/turtlebot3_demo</a>&gt;`_。您将找到一个功能齐全且复杂的ROS 2安全性实现，可以尝试您自己的定制场景。请务必在此处创建拉取请求和问题，以便我们可以继续改进ROS的安全支持！ <a class="reference external" href="http://fishros.org/page/calib/#/home?apihost=http://fishros.org:2023/ros2/calib&amp;msgid=3553">[3553]</a></p>
</div>
</div>

  <div id="footer">
    <p>欢迎帮助改进！</p>
  </div>
</body>
</html>